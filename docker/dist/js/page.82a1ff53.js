(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["page"],{"08e0":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"user"},[n("basic-container",[n("avue-crud",{ref:"crud",attrs:{option:e.option,page:e.page,"table-loading":e.listLoading,data:e.list},on:{"update:page":function(t){e.page=t},"size-change":e.sizeChange,"current-change":e.currentChange,"search-change":e.handleFilter,"search-reset":e.resetChange,"refresh-change":e.handleRefreshChange,"selection-change":e.selectionChange},scopedSlots:e._u([{key:"menuRight",fn:function(t){var a=t.size;return[n("el-button",{attrs:{icon:"el-icon-notebook-2",circle:"",size:a},on:{click:e.changeArray}})]}},{key:"jobUrl",fn:function(t){return[n("el-link",{attrs:{href:t.row.jobUrl,target:"_blank"}},[e._v(e._s(t.row.jobUrl))])]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}})],1)],1)},i=[],s=(n("8e6e"),n("ac6a"),n("456d"),n("ade3")),c=(n("c5f6"),n("17db")),o=n("2f62"),r=function(e,t){return{border:!1,index:!0,indexLabel:e.$t("crudCommon.序号"),stripe:!0,menuAlign:"center",searchMenuSpan:6,editBtn:!1,delBtn:!1,align:"center",addBtn:!1,viewBtn:!0,rowKey:"id",labelWidth:120,menuWidth:120,column:[{label:e.$t("findList.任务名称"),prop:"jobName",span:24,overHidden:t},{label:e.$t("findList.任务链接"),prop:"jobUrl",type:"textarea",span:24,hide:!0,display:!1,overHidden:t},{label:e.$t("crudCommon.创建人"),prop:"createBy",span:24,overHidden:t},{label:e.$t("userinfo.邮箱"),prop:"mail",span:24,overHidden:t},{label:e.$t("userinfo.手机号"),prop:"mobilePhone",span:24,overHidden:t},{label:e.$t("userinfo.状态"),prop:"status",type:"select",dicData:[{label:e.$t("findList.未填写"),value:0},{label:e.$t("findList.已填写"),value:1}],search:!0,span:24,overHidden:t},{label:e.$t("crudCommon.关键字"),hide:!0,prop:"keyword",search:!0,display:!1}]}};function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u={name:"findList",components:{},props:{findType:{type:Number,default:0}},data:function(){return{page:{total:0,currentPage:1,pageSize:20,isAsc:!1},query:{},list:[],listLoading:!0,form:{},ids:[],isOverHidden:!0}},computed:d(d({},Object(o["b"])(["permissions"])),{},{option:function(){return r(this,this.isOverHidden)}}),watch:{},created:function(){this.getList(this.page)},methods:{changeArray:function(){this.isOverHidden=!this.isOverHidden,r(this,this.isOverHidden)},getList:function(e,t){var n=this;this.listLoading=!0,Object(c["c"])(Object.assign({current:e.currentPage,size:e.pageSize,findType:this.findType},t)).then((function(e){n.list=e.data.data.records,n.page.total=e.data.data.total,n.listLoading=!1}))},sizeChange:function(e){this.page.pageSize=e,this.getList(this.page,this.query)},currentChange:function(e){this.page.currentPage=e,this.getList(this.page,this.query)},handleFilter:function(e,t){this.query=e,this.page.currentPage=1,this.getList(this.page,e),t()},resetChange:function(){this.query={},this.getList(this.page,this.query)},handleRefreshChange:function(){this.getList(this.page)},handleUpdate:function(e,t){this.$refs.crud.rowEdit(e,t)},selectionChange:function(e){this.ids=e.map((function(e){return e.attributesId}))}}},m=u,f=(n("e728"),n("2877")),h=Object(f["a"])(m,a,i,!1,null,"9713eb98",null);t["default"]=h.exports},"0e82":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"user"},[n("basic-container",[n("avue-crud",{ref:"crud",attrs:{option:e.option,page:e.page,"table-loading":e.listLoading,data:e.recordList},on:{"update:page":function(t){e.page=t},"size-change":e.sizeChange,"current-change":e.currentChange,"search-change":e.handleFilter,"search-reset":e.resetChange,"refresh-change":e.handleRefreshChange},scopedSlots:e._u([{key:"menuRight",fn:function(t){var a=t.size;return[n("el-button",{attrs:{icon:"el-icon-notebook-2",circle:"",size:a},on:{click:e.changeArray}})]}},{key:"evaluatorName",fn:function(t){return[n("span",[e._v("\n                    "+e._s(e.evaluator(t.row))+"\n                ")])]}},{key:"auditorsNickName",fn:function(t){return[n("span",[e._v("\n                    "+e._s(t.row.auditorsNickName.join())+"\n                ")])]}},{key:"assessStatus",fn:function(t){return[n("span",[n("el-tag",{attrs:{type:e.assessStatusList[t.row.assessStatus].type}},[e._v("\n                        "+e._s(e.assessStatusList[t.row.assessStatus].label)+"\n                    ")])],1)]}},{key:"writeTime",fn:function(t){return[n("span",[e._v("\n                    "+e._s(t.row.writeTime||e.$t("crudCommon.暂无"))+"\n                ")])]}},{key:"auditorTime",fn:function(t){return[n("span",[e._v("\n                    "+e._s(t.row.auditorTime||e.$t("crudCommon.暂无"))+"\n                ")])]}},{key:"questionLevels",fn:function(t){return[n("span",[t.row.questionLevels&&0!==t.row.questionLevels.length?n("div",{staticClass:"questionLevels"},e._l(t.row.questionLevels,(function(t,a){return n("div",{key:t.levelId,staticClass:"questionLevels-item",style:"background-color:"+e.tagColor[a]},[n("el-tooltip",{attrs:{effect:"dark",content:t.levelName}},[n("div",{staticClass:"questionLevels-item-font"},[e._v("\n                                    "+e._s(t.number)+"\n                                ")])])],1)})),0):n("div",[e._v("\n                        "+e._s(e.$t("crudCommon.暂无"))+"\n                    ")])])]}},{key:"type",fn:function(t){return[n("span",[e._v("\n                    "+e._s(e.totalStandard[t.row.type]||e.$t("crudCommon.暂无"))+"\n                ")])]}},{key:"grade",fn:function(t){return[n("span",[e._v("\n                    "+e._s(e.grade(t.row.grade,t.row.type).score||e.$t("crudCommon.暂无"))+"\n                ")])]}},{key:"level",fn:function(t){return[n("span",[n("el-tag",{attrs:{color:e.assessLevelColor[e.grade(t.row.grade,t.row.type).level]}},[e._v("\n                        "+e._s(e.grade(t.row.grade,t.row.type).level&&e.$t("crudCommon."+e.grade(t.row.grade,t.row.type).level)||e.$t("crudCommon.暂无"))+"\n                    ")])],1)]}},{key:"menu",fn:function(t){return[n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.$t("evaluationRecord.查看详情"),placement:"top"}},[n("el-button",{attrs:{type:"text",icon:"el-icon-view",disabled:1==t.row.assessStatus},on:{click:function(n){return e.viewBtn(t.row,t.index)}}})],1),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.$t("evaluationRecord.查看报告"),placement:"top"}},[n("el-button",{attrs:{type:"text",icon:"el-icon-document",disabled:![3,4].includes(t.row.assessStatus)},on:{click:function(n){return e.exportViewBtn(t.row,t.index)}}})],1)]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}}),n("div",{staticStyle:{width:"380px",height:"300px",visibility:"hidden"},attrs:{id:"levelCharts"}}),n("div",{staticStyle:{width:"380px",height:"300px",visibility:"hidden"},attrs:{id:"matterCharts"}})],1)],1)},i=[],s=(n("8e6e"),n("34ef"),n("4917"),n("28a5"),n("ac6a"),n("456d"),n("7514"),n("ade3")),c=function(e,t){return{border:!1,index:!0,indexLabel:e.$t("crudCommon.序号"),stripe:!0,menuAlign:"center",searchMenuSpan:6,editBtn:!1,delBtn:!1,align:"center",addBtn:!1,menuWidth:130,column:[{fixed:!0,width:100,label:e.$t("evaluationRecord.评估名称"),prop:"assessName",sortable:!0,span:24,overHidden:t},{width:100,label:e.$t("evaluationRecord.问卷名称"),prop:"qnName",sortable:!0,span:24,overHidden:t},{width:100,label:e.$t("evaluationRecord.被评估人"),prop:"evaluatorName",sortable:!0,slot:!0,span:24,overHidden:t},{width:100,label:e.$t("evaluationRecord.审核人"),sortable:!0,slot:!0,prop:"auditorsNickName",span:24,overHidden:t},{width:100,label:e.$t("evaluationRecord.评估状态"),sortable:!0,prop:"assessStatus",slot:!0,type:"select",dicData:[{label:e.$t("evaluationRecord.填写中"),value:1},{label:e.$t("evaluationRecord.审核中"),value:2},{label:e.$t("evaluationRecord.通过"),value:3},{label:e.$t("evaluationRecord.拒绝"),value:4},{label:e.$t("evaluationRecord.已驳回"),value:5}],overHidden:t,search:!0,span:24},{width:150,label:e.$t("evaluationRecord.发布时间"),sortable:!0,prop:"releaseTime",type:"datetime",format:"yyyy-MM-dd HH:mm",span:24,overHidden:t},{width:150,label:e.$t("evaluationRecord.有效时间"),sortable:!0,prop:"endTime",type:"datetime",format:"yyyy-MM-dd HH:mm",span:24,overHidden:t},{width:150,label:e.$t("evaluationRecord.填写时间"),prop:"writeTime",slot:!0,sortable:!0,type:"datetime",format:"yyyy-MM-dd HH:mm",span:24,overHidden:t},{width:150,label:e.$t("evaluationRecord.审核时间"),prop:"auditorTime",sortable:!0,slot:!0,type:"datetime",format:"yyyy-MM-dd HH:mm",span:24,overHidden:t},{width:100,label:e.$t("evaluationRecord.风险点"),prop:"questionLevels",sortable:!0,slot:!0,span:24,overHidden:t},{width:100,label:e.$t("evaluationRecord.评分标准"),prop:"type",sortable:!0,slot:!0,span:24,overHidden:t},{label:e.$t("evaluationRecord.分数"),prop:"grade",sortable:!0,slot:!0,span:24,overHidden:t},{width:100,label:e.$t("evaluationRecord.风险等级"),prop:"level",sortable:!0,span:24,type:"select",dicData:[{label:e.$t("crudCommon.低"),value:"低"},{label:e.$t("crudCommon.中"),value:"中"},{label:e.$t("crudCommon.高"),value:"高"},{label:e.$t("crudCommon.极高"),value:"极高"}],search:!0,slot:!0,overHidden:t},{fixed:!1,label:e.$t("crudCommon.关键字"),hide:!0,prop:"keyword",search:!0,editDisplay:!1,addDisplay:!1,addDisabled:!0,editDisabled:!0,disabled:!0}]}},o=n("2f62"),r=n("b5c6");function l(e){return Object(r["a"])({url:"/assessment/risk/getRisksByPage",method:"get",params:e})}function d(e){return Object(r["a"])({url:"/assessment/level/getAllAssessScore?tenantId=".concat(e),method:"get",headers:config})}function u(e){return Object(r["a"])({url:"/assessment/info/exportData?infoId=".concat(e),method:"get"})}function m(e,t){return Object(r["a"])({url:"/assessment/info/exportScenePDF?infoId=".concat(t),method:"post",data:e,responseType:"blob"})}function f(e,t){return Object(r["a"])({url:"/assessment/info/exportAssetsPDF?infoId=".concat(t),method:"post",data:e,responseType:"blob"})}var h=n("3ab6"),p=n("cc41"),b=n("313e");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v={name:"evaluationRecord",components:{},props:{queryId:{type:Object,default:function(){}}},data:function(){return{riskScoreDrawer:!1,evaluatorList:[],loading:!1,queOptions:[],assessStatusList:p["b"],page:{total:0,currentPage:1,pageSize:20,isAsc:!1},query:{},recordList:[],listLoading:!0,form:{},treeTypeData:[],typeIds:[],defaultProps:{label:"typeName",value:"typeId"},releaseDialog:!1,viewQndrawer:!1,qnId:"",releaseForm:{},tagColor:["#2AFFFF","#FFFF7F","#FFAA55","#FF2A00"],totalStandard:{total:this.$t("evaluationRecord.总分"),average:this.$t("evaluationRecord.平均分"),max:this.$t("evaluationRecord.最高分")},assessLevelColor:{"低":"#2AFFFF","中":"#FFFF7F","高":"#FFAA55","极高":"#FF2A00"},title:this.$t("evaluationRecord.启动评估"),isOverHidden:!0,levelImg:"",matterImg:""}},computed:y(y({},Object(o["b"])(["permissions","userInfo"])),{},{evaluator:function(){return function(e){return e.evaluatorName||e.mail||e.mobilePhone||this.$t("crudCommon.暂无")}},riskPoint:function(){return function(e){return e.levelName+"："+e.number}},grade:function(){return function(e,t){return e?e.find((function(e){return e.type===t})):this.$t("crudCommon.暂无")}},option:function(){return c(this,this.isOverHidden)}}),watch:{"releaseForm.typeIds":{handler:function(e,t){this.getQuestionnaireList(this.releaseForm.typeIds)},deep:!0}},created:function(){this.getList(this.page)},mounted:function(){},methods:{exportViewBtn:function(e){var t=this;this.listLoading=!0,u(e.infoId).then((function(n){var a=n.data.data,i=a.level,s=a.matter;t.$nextTick((function(){var e=document.getElementById("levelCharts");t.makeEcharts({imgId:"levelImg",chartDome:e,title:t.$t("evaluationRecord.按风险等级统计"),yAxisName:t.$t("analysis.数量"),yAxisData:i.map((function(e){return e.number})),xAxisName:t.$t("evaluationRecord.风险等级"),xAxisData:i.map((function(e){return e.levelName})),chartDomeColor:["#2AFFFF","#FFFF7F","#FFAA55","#FF2A00"],rotate:0});var n=document.getElementById("matterCharts");t.makeEcharts({imgId:"matterImg",chartDome:n,title:t.$t("evaluationRecord.按事项统计"),yAxisName:t.$t("analysis.数量"),yAxisData:s.map((function(e){return e.number})),xAxisName:t.$t("evaluationRecord.事项"),xAxisData:s.map((function(e){return e.matterName})),chartDomeColor:["#6383b2","#6a63b2","#8b63b2","#b263ad"],rotate:30})})),setTimeout((function(){var n=t.blobToFile(t.dataURLtoBlob(t.matterImg),"matterImg.png"),a=t.blobToFile(t.dataURLtoBlob(t.levelImg),"levelImg.png"),i=new FormData;i.append("files",n),i.append("files",a);var s="assetsId"===Object.keys(t.queryId)[0]?f:m;s(i,e.infoId).then((function(e){var n=decodeURIComponent(e.headers["content-disposition"]).split("=")[1],a=[];a.push(e.data);var i=URL.createObjectURL(new Blob(a,{type:e.headers["content-type"]}));t.listLoading=!1,window.open(i,n)})).catch((function(){t.listLoading=!1}))}),2e3)})).catch((function(){t.listLoading=!1}))},download:function(e,t){var n=document.createElement("a");n.style.display="none",n.download=t,n.href=e,n.click()},makeEcharts:function(e){var t,n=this,a=b["a"](e.chartDome);t={title:{text:e.title,textStyle:{fontSize:14},left:150},legend:{orient:"vertical",right:10,top:20,tooltip:{show:!0},textStyle:{width:50,overflow:"truncate"}},grid:{right:80},yAxis:{type:"value",name:e.yAxisName,nameTextStyle:{color:"#1481f2",fontWeight:"bold"},axisLine:{show:!0}},xAxis:{type:"category",data:e.xAxisData,name:e.xAxisName,nameTextStyle:{color:"#1481f2",fontWeight:"bold"},axisLabel:{interval:0,rotate:e.rotate,formatter:function(e){var t="",n=e.length,a=6,i=Math.ceil(n/a);if(n>a)for(var s=0;s<i;s++){var c="",o=s*a,r=o+a;c=s===i-1?e.substring(o,n):e.substring(o,r)+"\n",t+=c}else t=e;return t}}},series:[{data:e.yAxisData,type:"bar",itemStyle:{normal:{color:function(t){var n=e.chartDomeColor;return t.dataIndex>=n.length&&(t.dataIndex=t.dataIndex-n.length),n[t.dataIndex]}}}}]},t&&a.setOption(t),setTimeout((function(){n[e.imgId]=a.getDataURL({type:"png"})}),1e3)},dataURLtoBlob:function(e){var t=e.split(","),n=t[0].match(/:(.*?);/)[1],a=atob(t[1]),i=a.length,s=new Uint8Array(i);while(i--)s[i]=a.charCodeAt(i);return new Blob([s],{type:n})},blobToFile:function(e,t){return e.lastModifiedDate=new Date,e.name=t,new File([e],t,{type:e.type,lastModified:Date.now()})},changeArray:function(){this.isOverHidden=!this.isOverHidden,c(this,this.isOverHidden)},getUserList:function(){var e=this;Object(h["b"])().then((function(t){e.evaluatorList=t.data.data}))},getList:function(e,t){var n=this;return this.listLoading=!0,l(Object.assign({current:e.currentPage,size:e.pageSize},this.queryId,t)).then((function(e){n.recordList=[],e.data.data.records.forEach((function(e,t){n.$set(n.recordList,t,y(y(y({},e.assessInfoDTO),e.assessRisk),{},{type:e.type}))})),n.page.total=e.data.data.total,n.listLoading=!1}))},sizeChange:function(e){this.page.pageSize=e,this.getList(this.page,this.query)},currentChange:function(e){this.page.currentPage=e,this.getList(this.page,this.query)},handleFilter:function(e,t){this.query=e,this.page.currentPage=1,this.getList(this.page,e),t()},resetChange:function(){this.query={},this.getList(this.page,this.query)},handleRefreshChange:function(){this.getList(this.page)},getAllAssessScore:function(e){var t=this;d(this.userInfo.tenantId).then((function(n){t.$bus.$emit("level",n.data.data.level,e)}))},viewBtn:function(e){var t="http://assess.idatatrust.com/#/assessment/questionnaireStart/index?infoId=".concat(e.infoId);window.open(t,"_blank")}}},_=v,j=(n("daba"),n("2877")),L=Object(j["a"])(_,a,i,!1,null,"5550f13d",null);t["default"]=L.exports},"0ef5":function(e,t,n){"use strict";n("386a")},"0ffa":function(e,t,n){},"115c":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));var a=n("6c8d"),i=function(e,t,n,i){var s=i?"/assets/assetsDict/selectByDictType?tenantId=".concat(t,"&dictType="):"/assets/assetsDict/findByDictType?dictType=";return{labelWidth:150,selection:!0,reserveSelection:!0,border:!1,index:!0,indexLabel:e.$t("crudCommon.序号"),stripe:!0,menuAlign:"center",searchMenuSpan:6,editBtn:!1,delBtn:!1,align:"center",addBtn:!1,viewBtn:!1,menuWidth:150,height:500,rowKey:"projectId",column:[{fixed:!0,label:"租户id",prop:"tenantId",span:24,hide:!0,noView:!0,editDisplay:!1,addDisplay:!1,display:!1},{fixed:!0,label:"资产id",prop:"projectId",span:24,hide:!0,noView:!0,editDisplay:!1,addDisplay:!1,display:!1},{label:e.$t("assetsManagement.资产名称"),prop:"projectName",search:!0,span:12,rules:[{required:!0,message:"".concat(e.$t("crudCommon.请输入")).concat(e.$t("assetsManagement.资产名称")),trigger:"blur"}],overHidden:n},{label:e.$t("crudCommon.图标"),prop:"projectIcon",type:"icon",iconList:a["a"],rules:[{required:!0,message:"".concat(e.$t("crudCommon.请选择")).concat(e.$t("crudCommon.图标")),trigger:"change"}]},{label:e.$t("crudCommon.颜色"),prop:"projectColor",type:"color",rules:[{required:!0,message:"".concat(e.$t("crudCommon.请选择")).concat(e.$t("crudCommon.颜色")),trigger:"change"}],overHidden:n},{label:e.$t("assetsManagement.所属机构"),prop:"managingOrganization",span:12,props:{label:"name",value:"id"},type:"tree",dicUrl:"/admin/dept/getDeptTreeByTenantId?tenantId=".concat(t),rules:[{required:!0,message:"".concat(e.$t("crudCommon.请选择")).concat(e.$t("assetsManagement.所属机构")),trigger:"change"}],overHidden:n},{label:e.$t("assetsManagement.托管位置"),prop:"hostingLocation",span:12,formslot:!0,rules:[{required:!0,message:"".concat(e.$t("crudCommon.请选择")).concat(e.$t("assetsManagement.托管位置")),trigger:"change"}],overHidden:n},{label:e.$t("assetsManagement.经度"),prop:"lng",span:12,disabled:!0,display:!1,hide:!0,rules:[{required:!0,message:"".concat(e.$t("crudCommon.请选择")).concat(e.$t("assetsManagement.经度")),trigger:"change"}]},{label:e.$t("assetsManagement.纬度"),prop:"lat",span:12,disabled:!0,display:!1,hide:!0,rules:[{required:!0,message:"".concat(e.$t("crudCommon.请选择")).concat(e.$t("assetsManagement.纬度")),trigger:"change"}]},{label:e.$t("assetsManagement.类型"),prop:"type",span:12,props:{label:"dictLabel",value:"dictValue"},type:"select",filterable:!0,dicUrl:"".concat(s,"asset_type"),overHidden:n},{label:e.$t("assetsManagement.内部或第三方"),prop:"internalOr3rdParty",width:100,span:12,props:{label:"dictLabel",value:"dictValue"},type:"select",filterable:!0,dicUrl:"".concat(s,"internal_or3rd_party"),overHidden:n},{label:e.$t("assetsManagement.托管方"),prop:"hostingProvider",span:12},{label:e.$t("assetsManagement.技术安全措施"),prop:"technicalSecurityMeasures",width:100,span:12,props:{label:"dictLabel",value:"dictValue"},type:"select",filterable:!0,dicUrl:"".concat(s,"technical_security_measures"),overHidden:n},{label:e.$t("assetsManagement.组织安全措施"),prop:"organizationalSecurityMeasures",width:100,span:12,props:{label:"dictLabel",value:"dictValue"},type:"select",multiple:!0,filterable:!0,dicUrl:"".concat(s,"organizational_security_measures"),overHidden:n},{label:e.$t("assetsManagement.数据主体数量"),prop:"volumeOfDataSubjects",width:100,type:"number",span:12,display:!1},{label:e.$t("assetsManagement.数据丢弃方式"),prop:"dataDisposal",width:100,span:12,props:{label:"dictLabel",value:"dictValue"},type:"select",filterable:!0,dicUrl:"".concat(s,"data_disposal"),overHidden:n},{label:e.$t("assetsManagement.设置为主资产"),prop:"etUpAsMaster",width:100,span:12},{label:e.$t("crudCommon.创建人"),prop:"createBy",span:12,editDisplay:!1,addDisplay:!1,display:!1,overHidden:n},{width:120,label:e.$t("crudCommon.创建时间"),prop:"createTime",type:"datetime",format:"yyyy-MM-dd HH:mm",editDisabled:!1,editDisplay:!1,addDisplay:!1,display:!1,span:24},{label:e.$t("crudCommon.修改人"),prop:"updateBy",span:12,editDisplay:!1,addDisplay:!1,display:!1,overHidden:n},{width:120,label:e.$t("crudCommon.修改时间"),prop:"updateTime",type:"datetime",format:"yyyy-MM-dd HH:mm",editDisabled:!1,editDisplay:!1,addDisplay:!1,display:!1,span:12},{label:e.$t("crudCommon.日期"),prop:"date",type:"datetime",format:"yyyy-MM-dd",valueFormat:"yyyy/MM/dd",display:!1,hide:!0,searchSpan:10,searchRange:!0,search:!0,noView:!0}]}},s=function(e,t,n){return{selection:!t,rowKey:"identification",reserveSelection:!0,menu:!t,align:"center",menuAlign:"center",addBtn:!1,editBtn:!1,delBtn:!1,searchSpan:8,searchMenuSpan:6,column:[{label:"资产id",prop:"projectId",hide:!0},{label:"字段id",prop:"attributesId",hide:!0},{label:"数据主体类型id",prop:"mainBodyId",hide:!0},{width:120,label:e.$t("assetsManagement.数据主体类型"),prop:"mainBodyName",sortable:!0,overHidden:n},{label:e.$t("assetsManagement.字段名"),prop:"attributesName",sortable:!0,overHidden:n},{label:e.$t("assetsManagement.字段来源"),prop:"parentProjectAttributesNames",sortable:!0,overHidden:n},{label:e.$t("assetsManagement.数据数量"),prop:"dataSubjectsVolume",sortable:!0},{label:e.$t("crudCommon.关键字"),prop:"keyword",search:!0,hide:!0}]}}},"14be":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return o}));var a=n("b5c6");function i(e){return Object(a["a"])({url:"/assets/assetsBusinessScene/getAssetsBusinessSceneByMainBodyId/".concat(e),method:"get"})}function s(e){return Object(a["a"])({url:"/assets/assetsSceneProjectAttributes/getMainBodyBySceneId/".concat(e),method:"get"})}function c(e,t){return Object(a["a"])({url:"assets/assetsProject/getAssetsProjectByMainBodyIdAndSceneId/".concat(e,"/").concat(t),method:"get"})}function o(e){return Object(a["a"])({url:"/assets/assetsProjectAttributes/getMainBodySceneData/".concat(e),method:"get"})}},"15fd":function(e,t,n){"use strict";function a(e,t){if(null==e)return{};var n,a,i={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}function i(e,t){if(null==e)return{};var n,i,s=a(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)n=c[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}n.d(t,"a",(function(){return i}))},1600:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page"},[n("iframe",{style:{width:"100%",height:e.GetWindowHeight},attrs:{src:"/earth.html",scrolling:"no",frameborder:"0"}})])},i=[],s={name:"index",data:function(){return{GetWindowHeight:"0",earthSrc:""}},computed:{},created:function(){this.GetWindowHeight=window.innerHeight+"px",this.earthSrc="".concat(window.location.protocol,"//").concat(window.location.hostname,":38084/")},mounted:function(){},methods:{}},c=s,o=n("2877"),r=Object(o["a"])(c,a,i,!1,null,"a8341b16",null);t["default"]=r.exports},"17c3":function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"g",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"h",(function(){return u}));var a=n("b5c6");function i(e){return Object(a["a"])({url:"/assets/assetsBusinessScene/getAssetsBusinessSceneByPage",method:"get",params:e})}function s(){return Object(a["a"])({url:"/assets/assetsBusinessScene/getAllAssetsBusinessScene",method:"get"})}function c(e){return Object(a["a"])({url:"/assets/assetsBusinessScene/add",method:"post",data:e})}function o(e){return Object(a["a"])({url:"/assets/assetsBusinessScene/update",method:"put",data:e})}function r(e){return Object(a["a"])({url:"/assets/assetsBusinessScene/deleteByIdList?idList=".concat(e),method:"delete"})}function l(e){return Object(a["a"])({url:"/assets/assetsSceneProjectAttributes/addOrUpdate",method:"post",data:e})}function d(e){return Object(a["a"])({url:"/assets/assetsSceneProjectAttributes/getProjectAttributesBySceneId/".concat(e),method:"get"})}function u(e){return Object(a["a"])({url:"/assets/assetsBusinessSceneHistory/selectBySceneId",method:"get",params:e})}},"17db":function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return o}));var a=n("b5c6");function i(e){return Object(a["a"])({url:"/assets/find/startFindJob",method:"post",data:e})}function s(e){return Object(a["a"])({url:"/assets/find/getFindJobInfoById?id=".concat(e),method:"get"})}function c(e){return Object(a["a"])({url:"/assets/find/commitJob",method:"post",data:e})}function o(e){return Object(a["a"])({url:"/assets/find/getFindJobsByPage",method:"get",params:e})}},"18b9":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c}));var a=n("6c8d"),i=n("7c3a"),s=function(e,t,n,s){var c=s?"/assets/assetsDict/selectByDictType?tenantId=".concat(t,"&dictType="):"/assets/assetsDict/findByDictType?dictType=";return{labelWidth:200,selection:!0,reserveSelection:!0,rowKey:"sceneId",border:!1,index:!0,indexLabel:e.$t("crudCommon.序号"),stripe:!0,menuAlign:"center",searchMenuSpan:6,editBtn:!1,delBtn:!1,align:"center",addBtn:!1,viewBtn:!1,menuWidth:150,height:500,column:[{fixed:!0,label:"tenantId",prop:"tenantId",noView:!0,span:24,hide:!0,editDisplay:!1,addDisplay:!1,viewDisplay:!1,display:!1},{label:e.$t("businessScenarioManagement.业务场景名称"),prop:"sceneName",search:!0,searchLabelWidth:100,width:100,span:12,rules:[{required:!0,message:"".concat(e.$t("crudCommon.请输入")).concat(e.$t("businessScenarioManagement.业务场景名称")),trigger:"blur"}],overHidden:n},{label:e.$t("crudCommon.图标"),prop:"sceneIcon",type:"icon",iconList:a["a"],rules:[{required:!0,message:"".concat(e.$t("crudCommon.请选择")).concat(e.$t("crudCommon.图标")),trigger:"change"}]},{label:e.$t("crudCommon.描述"),prop:"description",span:12,overHidden:n},{label:e.$t("crudCommon.颜色"),prop:"sceneColor",type:"color",rules:[{required:!0,message:"".concat(e.$t("crudCommon.请选择")).concat(e.$t("crudCommon.颜色")),trigger:"change"}]},{label:e.$t("assetsManagement.所属机构"),prop:"managingOrganization",span:12,props:{label:"name",value:"id"},type:"tree",filterable:!0,dicUrl:"/admin/dept/getDeptTreeByTenantId?tenantId=".concat(t),rules:[{required:!0,message:"".concat(e.$t("crudCommon.请选择")).concat(e.$t("assetsManagement.所属机构")),trigger:"change"}],overHidden:n},{label:e.$t("assetsManagement.类型"),prop:"type",span:12,props:{label:"dictLabel",value:"dictValue"},type:"select",filterable:!0,dicUrl:"".concat(c,"business_scenario_type"),overHidden:n},{label:e.$t("businessScenarioManagement.数据主体区域"),prop:"dataSubjectsRegion",width:100,span:12,props:{label:"name_cn",value:"code",children:"cities"},type:"cascader",filterable:!0,dicData:i,overHidden:n},{label:e.$t("businessScenarioManagement.数据处理目的"),prop:"purposeOfProcessing",width:100,span:12,props:{label:"dictLabel",value:"dictValue"},type:"select",allowCreate:!0,multiple:!0,filterable:!0,dicUrl:"".concat(c,"purpose_of_processing"),overHidden:n},{label:e.$t("businessScenarioManagement.传输方式"),prop:"transferMethodFromSources",width:150,span:12,props:{label:"dictLabel",value:"dictValue"},type:"select",filterable:!0,dicUrl:"".concat(c,"transfer_method_from_sources"),overHidden:n},{label:e.$t("businessScenarioManagement.数据访问或使用方"),prop:"partiesWhoAccessUseData",width:150,span:12,props:{label:"dictLabel",value:"dictValue"},type:"select",filterable:!0,dicUrl:"".concat(c,"parties_who_access_use_data"),overHidden:n},{label:e.$t("businessScenarioManagement.访问或使用方地址"),prop:"locationsOfPartiesAccessUse",width:150,span:12,props:{label:"name_cn",value:"code",children:"cities"},type:"cascader",filterable:!0,dicData:i,overHidden:n},{label:e.$t("businessScenarioManagement.数据保留"),prop:"dataRetention",span:12,overHidden:n},{label:e.$t("businessScenarioManagement.处理活动的法律基础"),prop:"legalBasisForProcessing",width:150,span:12,props:{label:"dictLabel",value:"dictValue"},type:"select",filterable:!0,dicUrl:"".concat(c,"legal_asis_for_processing"),overHidden:n},{label:e.$t("businessScenarioManagement.跨境传输机制"),prop:"crossBorderTransferMechanism",width:120,span:12,props:{label:"dictLabel",value:"dictValue"},type:"select",filterable:!0,dicUrl:"".concat(c,"cross_border_transfer_mechanism"),overHidden:n},{label:e.$t("businessScenarioManagement.境外接收方"),prop:"externalId",span:12,overHidden:n},{label:e.$t("businessScenarioManagement.涉及的国家或地区"),prop:"countriesUtilizingProcess",width:100,span:12,props:{label:"name_cn",value:"code"},type:"select",dicData:i,filterable:!0,overHidden:n},{label:e.$t("businessScenarioManagement.业务部门"),prop:"businessFunction",span:12,props:{label:"dictLabel",value:"dictValue"},type:"select",filterable:!0,dicUrl:"".concat(c,"business_function"),overHidden:n},{label:e.$t("businessScenarioManagement.合法利益"),prop:"legitimateInterest",span:12,props:{label:"dictLabel",value:"dictValue"},type:"select",filterable:!0,dicUrl:"".concat(c,"legitimate_interest"),overHidden:n},{label:e.$t("businessScenarioManagement.数据处理的其他条件"),prop:"scheduleConditionForProcessing",width:150,span:12,props:{label:"dictLabel",value:"dictValue"},type:"select",filterable:!0,dicUrl:"".concat(c,"schedule_condition_for_processing"),overHidden:n},{label:e.$t("businessScenarioManagement.设置为主业务场景"),prop:"setUpAsMaster",width:120,span:12,overHidden:n},{label:e.$t("crudCommon.创建人"),prop:"createBy",span:12,editDisplay:!1,addDisplay:!1,display:!1,overHidden:n},{width:120,label:e.$t("crudCommon.创建时间"),prop:"createTime",type:"datetime",format:"yyyy-MM-dd HH:mm",editDisabled:!1,addDisplay:!1,editDisplay:!1,span:12,display:!1},{label:e.$t("crudCommon.修改人"),prop:"updateBy",span:12,editDisplay:!1,addDisplay:!1,display:!1,overHidden:n},{width:120,label:e.$t("crudCommon.修改时间"),prop:"updateTime",type:"datetime",format:"yyyy-MM-dd HH:mm",editDisabled:!1,addDisplay:!1,editDisplay:!1,span:12,display:!1},{label:e.$t("crudCommon.日期"),prop:"date",type:"datetime",format:"yyyy-MM-dd",valueFormat:"yyyy/MM/dd",display:!1,hide:!0,searchSpan:10,searchRange:!0,search:!0,noView:!0}]}},c=function(e,t,n){return{selection:!t,rowKey:"identification",reserveSelection:!0,menu:!t,align:"center",menuAlign:"center",addBtn:!1,editBtn:!1,delBtn:!1,searchMenuSpan:5,column:[{label:"资产id",prop:"projectId",hide:!0},{label:"字段id",prop:"attributesId",hide:!0},{label:"数据主体类型id",prop:"mainBodyId",hide:!0},{width:100,searchLabelWidth:70,searchSpan:4,label:e.$t("assetsManagement.字段名"),prop:"attributesName",sortable:!0,search:!0,overHidden:n},{width:100,searchLabelWidth:60,searchSpan:4,label:e.$t("businessScenarioManagement.资产"),prop:"projectName",sortable:!0,search:!0,overHidden:n},{width:120,label:e.$t("businessScenarioManagement.来源资产"),prop:"parentProjectName",sortable:!0,overHidden:n},{width:120,searchSpan:6,label:e.$t("businessScenarioManagement.数据主体类型"),prop:"mainBodyName",searchLabelWidth:100,sortable:!0,search:!0,overHidden:n},{width:120,label:e.$t("assetsManagement.数据主体数量"),prop:"volumeOfDataSubjects",sortable:!0},{label:e.$t("businessScenarioManagement.数据处理活动"),prop:"activitiesName",overHidden:n},{searchLabelWidth:70,searchSpan:4,label:e.$t("crudCommon.关键字"),prop:"keyword",search:!0,hide:!0}]}}},1939:function(e,t,n){"use strict";n("d2c1")},"19f3":function(e,t,n){"use strict";n("0ffa")},"1b82":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"user"},[n("basic-container",[n("avue-crud",{ref:"crud",attrs:{option:e.option,page:e.page,"table-loading":e.listLoading,data:e.list},on:{"update:page":function(t){e.page=t},"size-change":e.sizeChange,"current-change":e.currentChange,"search-change":e.handleFilter,"search-reset":e.resetChange,"refresh-change":e.handleRefreshChange},scopedSlots:e._u([{key:"menuRight",fn:function(t){var a=t.size;return[n("el-button",{attrs:{icon:"el-icon-notebook-2",circle:"",size:a},on:{click:e.changeArray}})]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}})],1)],1)},i=[],s=(n("8e6e"),n("ac6a"),n("456d"),n("ade3")),c=(n("c5f6"),n("d26a")),o=function(e,t){return{labelWidth:150,border:!1,index:!0,indexLabel:e.$t("crudCommon.序号"),stripe:!0,menuAlign:"center",searchMenuSpan:6,editBtn:!1,delBtn:!1,align:"center",addBtn:!1,viewBtn:!0,menuWidth:120,column:[{width:250,label:e.$t("assetsManagement.资产变化"),prop:"projectChange",type:"textarea",span:24,minRows:1,overHidden:t},{label:e.$t("assetsManagement.新增字段"),prop:"attributeAdd",type:"textarea",span:24,minRows:1,overHidden:t},{label:e.$t("assetsManagement.删除字段"),prop:"attributeDel",type:"textarea",span:24,minRows:1,overHidden:t},{width:120,label:e.$t("crudCommon.创建时间"),prop:"createTime",type:"datetime",format:"yyyy-MM-dd HH:mm",editDisabled:!1,addDisplay:!1,editDisplay:!1,span:24},{label:e.$t("crudCommon.修改人"),prop:"updateBy",span:24,editDisplay:!1,addDisplay:!1,overHidden:t},{width:120,label:e.$t("crudCommon.修改时间"),prop:"updateTime",type:"datetime",format:"yyyy-MM-dd HH:mm",editDisabled:!1,addDisplay:!1,editDisplay:!1,span:24},{label:e.$t("crudCommon.关键字"),hide:!0,prop:"keyword",search:!0,display:!1}]}},r=n("2f62");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u={name:"History",components:{},props:{projectId:{type:Number,default:0}},data:function(){return{page:{total:0,currentPage:1,pageSize:20,isAsc:!1},query:{},list:[],listLoading:!0,form:{},isOverHidden:!0}},computed:d(d({},Object(r["b"])(["permissions"])),{},{option:function(){return o(this,this.isOverHidden)}}),watch:{},created:function(){this.getList(this.page)},methods:{changeArray:function(){this.isOverHidden=!this.isOverHidden,o(this,this.isOverHidden)},getList:function(e,t){var n=this;this.listLoading=!0,Object(c["i"])(Object.assign({current:e.currentPage,size:e.pageSize,projectId:this.projectId},t)).then((function(e){n.list=e.data.data.records,n.page.total=e.data.data.total,n.listLoading=!1}))},sizeChange:function(e){this.page.pageSize=e,this.getList(this.page,this.query)},currentChange:function(e){this.page.currentPage=e,this.getList(this.page,this.query)},handleFilter:function(e,t){this.query=e,this.page.currentPage=1,this.getList(this.page,e),t()},resetChange:function(){this.query={},this.getList(this.page,this.query)},handleRefreshChange:function(){this.getList(this.page)},handleUpdate:function(e,t){this.$refs.crud.rowEdit(e,t)}}},m=u,f=n("2877"),h=Object(f["a"])(m,a,i,!1,null,null,null);t["default"]=h.exports},"1f17":function(e,t,n){"use strict";n("6fda")},2107:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"f",(function(){return l}));var a=n("b5c6");function i(e){return Object(a["a"])({url:"/assets/assetsAttributes/getAttributesByPage",method:"get",params:e})}function s(e,t,n,i){return Object(a["a"])({url:"/assets/assetsAttributes/getAllAttributesByIds?categoryIds=".concat(e,"&typeIds=").concat(t,"&mainBodyIds=").concat(n,"&attributesName=").concat(i),method:"get"})}function c(e){return Object(a["a"])({url:"/assets/assetsAttributes/add",method:"post",data:e})}function o(e){return Object(a["a"])({url:"/assets/assetsAttributes/update",method:"put",data:e})}function r(e){return Object(a["a"])({url:"/assets/assetsAttributes/deleteByIdList?idList=".concat(e),method:"delete"})}function l(e){return Object(a["a"])({url:"/assets/assetsAttributes/updateMainBodies",method:"put",data:e})}},"242ab":function(e,t,n){"use strict";n("875a")},"27d7":function(e,t,n){},"28a1":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container calendar-list-container"},[n("basic-container",[[n("el-tabs",{on:{"tab-click":e.switchTab},model:{value:e.switchStatus,callback:function(t){e.switchStatus=t},expression:"switchStatus"}},[n("el-tab-pane",{attrs:{label:e.$t("userinfo.信息管理"),name:"userManager"}}),n("el-tab-pane",{attrs:{label:e.$t("userinfo.密码管理"),name:"passwordManager"}})],1)],n("el-row",[n("el-col",{attrs:{span:12}},[n("div",{staticClass:"grid-content bg-purple"},["userManager"==e.switchStatus?n("avue-form",{ref:"userInfoForm",attrs:{option:e.option},on:{submit:e.handleSubmit},scopedSlots:e._u([{key:"menuForm",fn:function(t){var a=t.size;return[n("el-button",{attrs:{type:"primary",size:a},on:{click:function(t){return e.handleSubmit("userInfoForm")}}},[e._v(e._s(e.$t("userinfo.提交")))]),n("el-button",{attrs:{size:a},on:{click:function(t){return e.handleReset("userInfoForm")}}},[e._v(e._s(e.$t("userinfo.重置")))])]}}],null,!1,2971184231),model:{value:e.userInfoForm,callback:function(t){e.userInfoForm=t},expression:"userInfoForm"}}):n("el-form",{ref:"passwordForm",staticClass:"demo-ruleForm",attrs:{model:e.passwordForm,rules:e.passwordFormRules,"label-width":"100px"}},[n("el-form-item",{attrs:{label:e.$t("userinfo.原密码"),prop:"password"}},[n("el-input",{attrs:{type:"password","show-password":"","auto-complete":"off"},model:{value:e.passwordForm.password,callback:function(t){e.$set(e.passwordForm,"password",t)},expression:"passwordForm.password"}})],1),n("el-form-item",{attrs:{label:e.$t("userinfo.新密码"),prop:"newPassword"}},[n("el-input",{attrs:{type:"password","show-password":"","auto-complete":"off"},model:{value:e.passwordForm.newPassword,callback:function(t){e.$set(e.passwordForm,"newPassword",t)},expression:"passwordForm.newPassword"}})],1),n("el-form-item",{attrs:{label:e.$t("userinfo.确认密码"),prop:"confirmNewPassword"}},[n("el-input",{attrs:{type:"password","show-password":"","auto-complete":"off"},model:{value:e.passwordForm.confirmNewPassword,callback:function(t){e.$set(e.passwordForm,"confirmNewPassword",t)},expression:"passwordForm.confirmNewPassword"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSubmit("passwordForm")}}},[e._v(e._s(e.$t("userinfo.提交")))]),n("el-button",{on:{click:function(t){return e.handleReset("passwordForm")}}},[e._v(e._s(e.$t("userinfo.重置")))])],1)],1)],1)])],1)],2)],1)},i=[],s=(n("8e6e"),n("ac6a"),n("456d"),n("7f7f"),n("ade3")),c=function(e,t){var n=function(t,n,a){if(n){var i=/^1(3[0-9]|4[01456879]|5[0-35-9]|6[2567]|7[0-8]|8[0-9]|9[0-35-9])\d{8}$/;if(!i.test(n))return a(new Error(e.$t("userinfo.请输入正确的电话")));a()}else a(new Error(e.$t("userinfo.手机号不能为空")))},a=function(t,n,a){var i=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/;if(!i.test(n)&&n)return a(new Error(e.$t("userinfo.请输入正确的邮箱")));a()};return{border:!1,index:!0,indexLabel:e.$t("crudCommon.序号"),stripe:!0,menuAlign:"center",searchMenuSpan:6,editBtn:!1,delBtn:!1,align:"center",addBtn:!1,viewBtn:!1,emptyBtn:!1,submitBtn:!1,dialogWidth:"35%",column:[{fixed:!0,label:"id",prop:"userId",span:24,hide:!0,display:!1},{label:e.$t("userinfo.用户名"),prop:"username",disabled:!0,slot:!0,search:!0,span:24},{label:e.$t("userinfo.用户昵称"),prop:"nickName",span:24,rules:[{required:!0,message:"".concat(e.$t("crudCommon.请输入")).concat(e.$t("userinfo.用户昵称"))},{min:2,max:20,message:e.$t("userinfo.长度在2到20个字符"),trigger:"blur"}]},{label:e.$t("userinfo.手机号"),prop:"mobilePhone",value:"",span:24,rules:[{required:!0,message:e.$t("userinfo.手机号不能为空"),trigger:"blur"},{validator:n,trigger:"blur"}]},{label:e.$t("userinfo.角色"),prop:"roleList",type:"select",dicUrl:"/admin/role/list",multiple:!0,props:{label:"roleName",value:"roleId"},span:24,disabled:!0},{label:e.$t("userinfo.租户"),prop:"tenantName",span:24,disabled:!0},{label:e.$t("userinfo.所属部门"),prop:"deptId",type:"tree",dicUrl:"/admin/dept/getDeptTreeByTenantId?tenantId=".concat(t),props:{label:"name",value:"id"},span:24,disabled:!0},{label:e.$t("userinfo.状态"),prop:"lockFlag",type:"radio",border:!0,span:24,dicData:[{label:e.$t("userinfo.有效"),value:"0"},{label:e.$t("userinfo.锁定"),value:"9"}],disabled:!0},{label:e.$t("userinfo.邮箱"),prop:"mail",value:"",span:24,rules:[{required:!0,message:"".concat(e.$t("crudCommon.请输入")).concat(e.$t("userinfo.邮箱")),trigger:"blur"},{validator:a,trigger:"blur"}]},{width:120,label:e.$t("crudCommon.创建时间"),prop:"createTime",type:"datetime",format:"yyyy-MM-dd",disabled:!0,span:24}]}},o=n("2f62"),r=n("b5c6");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u={data:function(){var e=this,t=function(t,n,a){""!==e.passwordForm.password&&n!==e.passwordForm.newPassword?a(new Error(e.$t("userinfo.两次输入密码不一致"))):a()};return{switchStatus:"",userInfoForm:{roleList:[]},password:"",passwordForm:{},passwordFormRules:{password:[{required:!0,min:6,message:this.$t("userinfo.原密码不能为空且不少于6位"),trigger:"change"}],newPassword:[{required:!0,min:6,message:this.$t("userinfo.不少于6位"),trigger:"change"}],confirmNewPassword:[{required:!0,validator:t,trigger:"change"}]}}},created:function(){this.getTenantInfo(this.userInfo.tenantId),this.userInfoForm=this.userInfo,this.passwordForm.userId=this.userInfo.userId,this.userInfoForm.roleList=this.roles,this.switchStatus="userManager"},computed:d(d({},Object(o["b"])(["roles","userInfo"])),{},{option:function(){return c(this,this.userInfo.tenantId)}}),methods:{switchTab:function(e){this.switchStatus=e.name},getTenantInfo:function(e){var t=this;Object(r["a"])({url:"/admin/tenant/getTenantById?id=".concat(e),method:"get"}).then((function(e){t.userInfoForm.tenantName=e.data.data.tenantName}))},handleSubmit:function(e){var t=this;this.$refs[e].validate((function(n,a){if(!n)return!1;Object(r["a"])({url:"/admin/user/updateByUser",method:"put",data:t[e]}).then((function(n){200==n.data.status&&(t.$message.success(n.data.message),"passwordForm"===e?t.$store.dispatch("LogOut").then((function(){location.reload()})):location.reload()),a()})).catch((function(){a()}))}))},handleReset:function(e){"userInfoForm"==e?this.userInfoForm={nickName:"",password:"",mobilePhone:"",mail:""}:this.passwordForm={password:"",newPassword:"",confirmNewPassword:""}}}},m=u,f=(n("1939"),n("2877")),h=Object(f["a"])(m,a,i,!1,null,null,null);t["default"]=h.exports},"2a03":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("el-tabs",{attrs:{type:"border-card"}},[n("el-tab-pane",{attrs:{label:e.$t("businessScenarioManagement.业务场景详情")}},[n("el-descriptions",{attrs:{title:"",column:2,size:"mini",border:""}},[e._l(e.viewColumn,(function(t,a){return[t.noView?e._e():n("el-descriptions-item",{key:a,attrs:{label:t.label}},[e._v("\n                        "+e._s(e.handelData(e.rowData,t.prop))+"\n                    ")])]}))],2)],1),n("el-tab-pane",{attrs:{label:e.$t("assetsManagement.关联字段")}},[n("ActRelation",{ref:"actRelation",attrs:{fieldList:e.fieldList,sceneId:e.sceneId,isView:!0}})],1),n("el-tab-pane",{attrs:{label:e.$t("businessScenarioManagement.业务场景评估记录")}},[n("EvaluationRecord",{ref:"evaluationRecord",attrs:{queryId:{businessScenarioId:e.sceneId}}})],1)],1)],1)},i=[],s=(n("6762"),n("2fdb"),n("c5f6"),n("8484")),c=n("0e82"),o=n("84df"),r={name:"Details",components:{ActRelation:s["default"],EvaluationRecord:c["default"]},props:{fieldList:{type:Array,default:function(){return[]}},sceneId:{type:Number,default:0},viewColumn:{type:Array,default:function(){return[]}},rowData:{type:Object,default:function(){}}},data:function(){return{}},methods:{handelData:function(e,t){return"managingOrganization"===t?e.$managingOrganization:["updateTime","createTime"].includes(t)?Object(o["a"])(e[t]):["countriesUtilizingProcess","dataSubjectsRegion","locationsOfPartiesAccessUse"].includes(t)?e["$".concat(t)]:e[t]}}},l=r,d=n("2877"),u=Object(d["a"])(l,a,i,!1,null,"14256fd6",null);t["default"]=u.exports},"2a23":function(e,t,n){"use strict";n("27d7")},"30eb":function(e,t,n){"use strict";n("ae1c")},"386a":function(e,t,n){},3880:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"g",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return d}));var a=n("b5c6");function i(e){return Object(a["a"])({url:"/assets/assetsAttributesMainBody/getMainBodyListByPage",method:"get",params:e})}function s(){return Object(a["a"])({url:"/assets/assetsAttributesMainBody/getMainBodList",method:"get"})}function c(e){return Object(a["a"])({url:"/assets/assetsAttributesMainBody/add",method:"post",data:e})}function o(e){return Object(a["a"])({url:"/assets/assetsAttributesMainBody/update",method:"put",data:e})}function r(e){return Object(a["a"])({url:"/assets/assetsAttributesMainBody/deleteByIdList?idList=".concat(e),method:"delete"})}function l(e){return Object(a["a"])({url:"/assets/assetsProjectMainBody/getProjectsByMainBodyId/".concat(e),method:"get"})}function d(e){return Object(a["a"])({url:"/assets/assetsProjectMainBody/update",method:"put",data:e})}},"38da":function(e,t,n){},"394a":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("el-container",{staticClass:"fieldContainer"},[n("el-aside",{staticClass:"dataSubject",attrs:{width:"200px"}},[n("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":e.defaultActive,"background-color":"#dadde2","text-color":"#303133"},on:{select:e.handleChecked}},[e._l(e.checkedDataSubjectObjList,(function(t){return[n("el-menu-item",{key:t.mainBodyId,attrs:{index:t.mainBodyId.toString()}},[e._v("\n                        "+e._s(t.mainBodyName)+"\n                    ")])]}))],2)],1),n("el-container",[n("el-header",{staticClass:"dataClass"},[n("CheckTag",{attrs:{data:e.dataClassList,defaultProp:e.defaultProp},on:{change:e.handleDataClassCheckedChange},model:{value:e.checkedDataClass,callback:function(t){e.checkedDataClass=t},expression:"checkedDataClass"}})],1),n("el-main",{staticClass:"field"},[n("el-aside",{staticClass:"category",attrs:{width:"200px"}},[n("CheckBox",{ref:"checkCBox",attrs:{echoCheckedList:e.checkedCategoryList,dataList:e.categoryList,parentName:e.$t("assetsManagement.全选"),itemId:"categoryId",itemName:"categoryName"},on:{handleCheckedChange:e.handleCategoryCheckedChange}})],1),n("div",{staticClass:"fieldList"},[e._l(e.checkedCategoryListAll,(function(t){return[n("CheckBox",{key:t.categoryId,ref:"checkBox",refInFor:!0,attrs:{echoCheckedList:e.checkedFieldList[t.categoryId],echoCheckedListAll:e.checkedFieldListAll[t.categoryId],dataList:e.fieldList[t.categoryId],parentName:t.categoryName,itemId:"attributesId",itemName:"attributesName"},on:{handleCheckedChange:function(){var n=[],a=arguments.length;while(a--)n[a]=arguments[a];return e.handleFieldCheckedChange.apply(void 0,n.concat([t.categoryId]))}}})]}))],2)],1)],1)],1)],1)},i=[],s=(n("8e6e"),n("456d"),n("ade3")),c=(n("ac6a"),n("7514"),n("c5f6"),n("2107")),o=n("92756"),r=n("d03f"),l=n("6ba9"),d=n("57b2");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f={name:"SelectField",components:{CheckBox:l["default"],CheckTag:d["default"]},props:{defaultActive:{type:String,default:""},checkedDataSubjectObjList:{type:Array,default:function(){return[]}},projectId:{type:Number,default:0},isView:{type:Boolean,default:!1}},data:function(){return{checkedCategoryList:[],categoryList:[],checkedCategoryListAll:[],checkedDataClass:[],dataClassList:[],defaultProp:{label:"typeName",value:"typeId"},checkedFieldList:{},fieldList:{},checkedFieldListAll:{},mainBodyId:0,mainBodyName:""}},watch:{checkedDataSubjectObjList:function(e){console.log(this.checkedDataSubjectObjList,"checkedDataSubjectObjList")}},created:function(){this.getCategoryList(),this.getTypeList()},methods:{getCheckedDataSubjectObjList:function(){return this.checkedDataSubjectObjList},handleChecked:function(e){var t=this;this.mainBodyId=1*e,this.mainBodyName=this.checkedDataSubjectObjList.find((function(e){return e.mainBodyId===t.mainBodyId})).mainBodyName,0!==this.checkedDataSubjectObjList.length&&this.checkedDataSubjectObjList.forEach((function(e,n){e.mainBodyId===t.mainBodyId&&(t.checkedCategoryList=e.checkedCategoryList||[],t.checkedCategoryListAll=e.checkedCategoryListAll||[],t.checkedDataClass=e.checkedDataClass||[],t.checkedFieldList=e.checkedFieldList||{},t.checkedFieldListAll=e.checkedFieldListAll||{})})),console.log(this.checkedDataSubjectObjList,this.checkedDataClass,"切换主体类型数据"),this.$nextTick((function(){"checkCBox"in t.$refs&&t.$refs.checkCBox.echoChecked()})),this.getAllAttributesByIds(this.checkedCategoryList,this.checkedDataClass,this.mainBodyId,"")},getCategoryList:function(){var e=this;Object(o["c"])().then((function(t){e.categoryList=t.data.data}))},handleCategoryCheckedChange:function(e,t){var n=this;this.checkedCategoryList=e,this.checkedCategoryListAll=t,0!==this.checkedDataSubjectObjList.length&&this.checkedDataSubjectObjList.forEach((function(a,i){a.mainBodyId===n.mainBodyId&&(a.checkedCategoryList=e,a.checkedCategoryListAll=t)})),this.getAllAttributesByIds(this.checkedCategoryList,this.checkedDataClass,this.mainBodyId,"")},getTypeList:function(){var e=this;Object(r["c"])().then((function(t){e.dataClassList=t.data.data}))},handleDataClassCheckedChange:function(e){var t=this;console.log(e,"vallll"),0!==this.checkedDataSubjectObjList.length&&this.checkedDataSubjectObjList.forEach((function(n,a){n.mainBodyId===t.mainBodyId&&(n.checkedDataClass=e)})),this.getAllAttributesByIds(this.checkedCategoryList,this.checkedDataClass,this.mainBodyId,"")},getAllAttributesByIds:function(e,t,n,a){var i=this;Object(c["c"])(e,t,n,a).then((function(e){i.fieldList=e.data.data.reduce((function(e,t,n,a){var i={},s=t.categoryId,c=a.filter((function(e){return e.categoryId===s}));return i[s]=c,m(m({},e),i)}),{}),i.$nextTick((function(){"checkBox"in i.$refs&&i.$refs.checkBox.forEach((function(e){e.echoChecked()}))}))}))},handleFieldCheckedChange:function(e,t,n){var a=this;t.forEach((function(e,t){e.mainBodyId=a.mainBodyId,e.mainBodyName=a.mainBodyName})),this.checkedFieldList[n]=e,this.checkedFieldListAll[n]=t,0!==this.checkedDataSubjectObjList.length&&this.checkedDataSubjectObjList.forEach((function(i,s){i.mainBodyId===a.mainBodyId&&("checkedFieldList"in i||(i.checkedFieldList={}),"checkedFieldListAll"in i||(i.checkedFieldListAll={}),i.checkedFieldList[n]=e,i.checkedFieldListAll[n]=t)})),console.log(this.checkedFieldListAll,this.mainBodyId,"多选框数据处理")}}},h=f,p=(n("6e6c"),n("2877")),b=Object(p["a"])(h,a,i,!1,null,"f047e75a",null);t["default"]=b.exports},"3a5c":function(e,t,n){},"3ab6":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return c}));var a=n("b5c6");function i(e){return Object(a["a"])({url:"/assessment/questionnaire/getQuestionnaireList",method:"get",params:e})}function s(e){return Object(a["a"])({url:"/assessment/info/releaseAssessQuestionnaire",method:"put",data:e})}function c(){return Object(a["a"])({url:"/admin/user/getList",method:"get"})}},"3f69":function(e,t,n){},"3ff6":function(e,t,n){},"41c0":function(e,t,n){"use strict";n("dde6")},4264:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("el-container",{staticClass:"fieldContainer"},[n("el-aside",{staticClass:"dataSubject",attrs:{width:"300px"}},[n("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":e.defaultActive,"unique-opened":"","background-color":"#dadde2","text-color":"#303133"},on:{open:e.handleChecked,select:e.checkDataSubject}},[e._l(e.checkedAssetObjList,(function(t){return[n("el-submenu",{key:t.projectId,attrs:{index:t.projectId.toString()}},[n("template",{slot:"title"},[e._v(e._s(t.projectName))]),e._l(t.dataSubjectList,(function(a){return[n("el-menu-item",{key:a.mainBodyId,attrs:{index:a.mainBodyId.toString()+"+"+t.projectId.toString()}},[e._v("\n                                "+e._s(a.mainBodyName)+"\n                            ")])]}))],2)]}))],2)],1),n("el-container",[n("el-header",{staticClass:"dataClass"},[n("CheckTag",{attrs:{data:e.dataClassList,defaultProp:e.defaultProp},on:{change:e.handleDataClassCheckedChange},model:{value:e.checkedDataClass,callback:function(t){e.checkedDataClass=t},expression:"checkedDataClass"}})],1),n("el-main",{staticClass:"field"},[n("el-aside",{staticClass:"category",attrs:{width:"200px"}},[n("CheckBox",{ref:"checkCategoryBox",attrs:{echoCheckedList:e.checkedCategoryList,dataList:e.categoryList,parentName:e.$t("assetsManagement.全选"),itemId:"categoryId",itemName:"categoryName"},on:{handleCheckedChange:e.handleCategoryCheckedChange}})],1),n("div",{staticClass:"fieldList"},[e._l(e.checkedCategoryListAll,(function(t){return[n("CheckBox",{key:t.categoryId,ref:"checkBox",refInFor:!0,attrs:{echoCheckedList:e.checkedFieldList[t.categoryId],echoCheckedListAll:e.checkedFieldListAll[t.categoryId],dataList:e.fieldList[t.categoryId],parentName:t.categoryName,itemId:"attributesId",itemName:"attributesName"},on:{handleCheckedChange:function(){var n=[],a=arguments.length;while(a--)n[a]=arguments[a];return e.handleFieldCheckedChange.apply(void 0,n.concat([t.categoryId]))}}})]}))],2)],1)],1)],1)],1)},i=[],s=(n("28a5"),n("7514"),n("ac6a"),n("8615"),n("6ba9")),c=n("57b2"),o={name:"SelectField",components:{CheckBox:s["default"],CheckTag:c["default"]},props:{defaultActive:{type:String,default:""},checkedAssetObjList:{type:Array,default:function(){return[]}},isView:{type:Boolean,default:!1}},data:function(){return{filterText:"",filterList:{},checkedCategoryList:[],categoryList:[],checkedCategoryListAll:[],checkedDataClass:[],dataClassList:[],defaultProp:{label:"typeName",value:"typeId"},checkedFieldList:{},fieldList:{},checkedFieldListAll:{},mainBodyIdCp:"",mainBodyId:0,mainBodyName:"",dataSubjectList:[],checkedDataSubjectIds:[],checkedDataSubjectObjList:[],projectId:0,projectName:"",assetObjList:[]}},watch:{filterText:{handler:function(){this.filterNode(this.filterText,this.fieldList)},immediate:!0}},created:function(){},methods:{filterNode:function(e,t){var n=this;if(console.log(t,"过滤qq"),!e)return this.filterList=t;var a=Object.values(t).flat().filter((function(t){return-1!==t.attributesName.indexOf(e)}));a.forEach((function(e){n.filterList[e.categoryId]=a.filter((function(t){return t.categoryId===e.categoryId}))})),console.log(a,this.filterList,"过滤")},getCheckedAssetObjList:function(){return this.checkedAssetObjList},handleChecked:function(e){var t=this;this.projectId=1*e,this.projectName=this.checkedAssetObjList.find((function(e){return e.projectId===t.projectId})).projectName},checkDataSubject:function(e){var t=this,n=this.checkedAssetObjList.find((function(e){return e.projectId===t.projectId}));this.mainBodyId=1*e.split("+")[0],this.mainBodyIdCp=e,this.mainBodyName=n.dataSubjectList.find((function(e){return e.mainBodyId===t.mainBodyId})).mainBodyName,this.checkedAssetObjList.forEach((function(e,n){0!==e.dataSubjectList.length&&e.dataSubjectList.forEach((function(e,n){e.mainBodyIdCp===t.mainBodyIdCp&&(t.categoryList=e.categoryList,t.checkedCategoryList=e.checkedCategoryList||[],t.checkedCategoryListAll=e.checkedCategoryListAll||[],t.dataClassList=e.dataClassList,t.checkedDataClass=e.checkedDataClass||[],t.checkedFieldList=e.checkedFieldList||{},t.checkedFieldListAll=e.checkedFieldListAll||{},t.fieldList=e.fieldList)}))})),console.log(this.checkedAssetObjList,"切换数据主体"),this.$nextTick((function(){"checkCategoryBox"in t.$refs&&t.$refs.checkCategoryBox.echoChecked(),t.$nextTick((function(){"checkBox"in t.$refs&&t.$refs.checkBox.forEach((function(e){e.echoChecked()}))}))}))},handleCategoryCheckedChange:function(e,t){var n=this;this.checkedCategoryList=e,this.checkedCategoryListAll=t,this.checkedAssetObjList.forEach((function(a,i){0!==a.dataSubjectList.length&&a.dataSubjectList.forEach((function(a,i){a.mainBodyIdCp===n.mainBodyIdCp&&(a.checkedCategoryList=e,a.checkedCategoryListAll=t)}))}))},handleDataClassCheckedChange:function(e){var t=this;console.log(e,"vallllll"),this.checkedAssetObjList.forEach((function(n,a){0!==n.dataSubjectList.length&&n.dataSubjectList.forEach((function(n,a){n.mainBodyIdCp===t.mainBodyIdCp&&(n.checkedDataClass=e)}))}))},handleFieldCheckedChange:function(e,t,n){var a=this;t.forEach((function(e,t){e.projectName=a.projectName,e.mainBodyIdCp=a.mainBodyIdCp,e.mainBodyId=a.mainBodyId,e.mainBodyName=a.mainBodyName,e.parentProjectName=e.parentProjectAttributesNames?e.parentProjectAttributesNames:e.parentProjectName})),this.checkedFieldList[n]=e,this.checkedFieldListAll[n]=t,this.checkedAssetObjList.forEach((function(i,s){0!==i.dataSubjectList.length&&i.dataSubjectList.forEach((function(i,s){i.mainBodyIdCp===a.mainBodyIdCp&&("checkedFieldList"in i||(i.checkedFieldList={}),"checkedFieldListAll"in i||(i.checkedFieldListAll={}),i.checkedFieldList[n]=e,i.checkedFieldListAll[n]=t)}))})),console.log(this.checkedFieldListAll,this.mainBodyId,"多选框数据处理")}}},r=o,l=(n("0ef5"),n("2877")),d=Object(l["a"])(r,a,i,!1,null,"979dac70",null);t["default"]=d.exports},"427b":function(e,t,n){"use strict";n("cbcb")},5150:function(e,t,n){},5596:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-container"},[n("div",{staticClass:"login-weaper  animated bounceInDown"},[n("div",{staticClass:"login-left animate__animated animate__fadeInLeft"},[n("img",{staticClass:"img",attrs:{src:"/img/logo.jpg",alt:""}}),n("p",{staticClass:"title"},[e._v(e._s(e.website.title))]),n("p",[e._v("©"+e._s(e.website.year)+" "+e._s(e.website.version))])]),n("div",{staticClass:"login-border animate__animated animate__fadeInRight"},[n("div",{staticClass:"login-main"},[n("userLogin")],1)])])])},i=[],s=(n("8e6e"),n("ac6a"),n("456d"),n("ade3")),c=(n("d4d0"),n("7c05")),o=n("2f62");function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d={name:"login",components:{userLogin:c["default"]},computed:l({},Object(o["b"])(["website"]))},u=d,m=n("2877"),f=Object(m["a"])(u,a,i,!1,null,null,null);t["default"]=f.exports},"57b2":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"check-tag-container"},e._l(e.data,(function(t){return n("div",{key:t[e.defaultProp.value],staticClass:"check-tag",class:{active:e.isSelect(t[e.defaultProp.value])},on:{click:function(n){return e.handleSelect(t)}}},[n("span",[e._v(e._s(t[e.defaultProp.label]))])])})),0)},i=[],s=(n("6762"),n("2fdb"),n("20d6"),n("2909")),c={name:"CheckTag",model:{prop:"checkedDataClass",event:"change"},props:{defaultProp:{type:Object,default:function(){return{label:"label",value:"value"}}},isMultiple:{type:Boolean,default:!0},checkedDataClass:{type:[Array,String],default:function(){return[]}},data:{type:Array,default:function(){return[{label:"香蕉",value:1},{label:"牛奶",value:2}]}}},methods:{handleSelect:function(e){if(this.isMultiple)return this.handleMultipleSelect(e);this.handleSingleSelect(e)},handleSingleSelect:function(e){var t=this.isSelect(e[this.defaultProp.value])?"":e[this.defaultProp.value];this.onChange(t)},handleMultipleSelect:function(e){var t=this,n=Object(s["a"])(this.checkedDataClass);if(this.isSelect(e[this.defaultProp.value])){var a=this.checkedDataClass.findIndex((function(n){return n===e[t.defaultProp.value]}));n.splice(a,1)}else n.push(e[this.defaultProp.value]);this.onChange(n)},isSelect:function(e){return this.isMultiple?this.checkedDataClass.includes(e):this.checkedDataClass===e},onChange:function(e){this.$emit("change",e)}}},o=c,r=(n("afdc"),n("2877")),l=Object(r["a"])(o,a,i,!1,null,"8dda8608",null);t["default"]=l.exports},"605a":function(e,t,n){"use strict";n.d(t,"f",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"g",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return d}));var a=n("b5c6");function i(e){return Object(a["a"])({url:"/assets/assetsActivities/getAssetsActivitiesByPage",method:"get",params:e})}function s(){return Object(a["a"])({url:"/assets/assetsActivities/getAllAssetsActivities",method:"get"})}function c(e){return Object(a["a"])({url:"/assets/assetsActivities/add",method:"post",data:e})}function o(e){return Object(a["a"])({url:"/assets/assetsActivities/update",method:"put",data:e})}function r(e){return Object(a["a"])({url:"/assets/assetsActivities/deleteByIdList?idList=".concat(e),method:"delete"})}function l(e){return Object(a["a"])({url:"/assets/assetsActivities/addAttributes",method:"post",data:e})}function d(e){return Object(a["a"])({url:"/assets/assetsActivities/getActivitiesDataByActivitiesId/".concat(e),method:"get"})}},"611b":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"error500"},[n("div",{staticClass:"error500-body-con"},[n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"error500-body-con-title"},[e._v("\n        5\n        "),n("span",{staticClass:"error500-0-span"},[n("i",{staticClass:"icon-debug"})]),n("span",{staticClass:"error500-0-span"},[n("i",{staticClass:"icon-debug"})])]),n("p",{staticClass:"error500-body-con-message"},[e._v("Oops! the server is wrong")]),n("div",{staticClass:"error500-btn-con"},[n("el-button",{staticStyle:{width:"200px"},attrs:{size:"large",type:"text"},on:{click:e.goHome}},[e._v("返回首页")]),n("el-button",{staticStyle:{width:"200px","margin-left":"40px"},attrs:{size:"large",type:"primary"},on:{click:e.backPage}},[e._v("返回上一页")])],1)])],1)])},i=[],s={name:"Error500",methods:{backPage:function(){this.$router.go(-1)},goHome:function(){this.$router.push({path:"/"})}}},c=s,o=(n("73d6"),n("2877")),r=Object(o["a"])(c,a,i,!1,null,"d6e7563e",null);t["default"]=r.exports},"695d":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"user"},[n("basic-container",[n("avue-crud",{ref:"crud",attrs:{option:e.option,page:e.page,"table-loading":e.listLoading,data:e.list},on:{"update:page":function(t){e.page=t},"size-change":e.sizeChange,"current-change":e.currentChange,"search-change":e.handleFilter,"search-reset":e.resetChange,"refresh-change":e.handleRefreshChange,"row-update":e.update,"row-save":e.create,"cell-click":e.cellClick,"selection-change":e.selectionChange},scopedSlots:e._u([{key:"menuRight",fn:function(t){var a=t.size;return[n("el-button",{attrs:{icon:"el-icon-notebook-2",circle:"",size:a},on:{click:e.changeArray}})]}},{key:"sceneName",fn:function(t){return[n("span",{staticClass:"sceneName"},[e._v("\n              "+e._s(t.row.sceneName)+"\n          ")])]}},{key:"menu",fn:function(t){return[n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.$t("crudCommon.编辑"),placement:"top"}},[e.permissions.assets_businessScenario_edit?n("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(n){return e.handleUpdate(t.row,t.index)}}}):e._e()],1),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.$t("assetsManagement.关联"),placement:"top"}},[e.permissions.assets_businessScenario_relation?n("el-button",{attrs:{type:"text",icon:"el-icon-link"},on:{click:function(n){return e.relationBtn(t.row,t.index)}}}):e._e()],1),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.$t("assetsManagement.历史记录"),placement:"top"}},[e.permissions.assets_businessScenario_history?n("el-button",{attrs:{type:"text",icon:"btn-icon-lishijilu"},on:{click:function(n){return e.viewHistory(t.row,t.index)}}}):e._e()],1),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.$t("assetsManagement.评估"),placement:"top"}},[e.permissions.assets_businessScenario_assessment?n("el-button",{staticClass:"filter-item",attrs:{type:"text",icon:"el-icon-message"},on:{click:function(n){return e.openAssessment(t.row)}}}):e._e()],1),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.$t("crudCommon.删除"),placement:"top"}},[e.permissions.assets_businessScenario_del?n("el-button",{attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(n){return e.deleteBtn(t.row,t.index)}}}):e._e()],1)]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[n("template",{slot:"menuLeft"},[e.permissions.assets_businessScenario_add?n("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.$refs.crud.rowAdd()}}},[e._v(e._s(e.$t("crudCommon.添加"))+"\n        ")]):e._e(),e.permissions.assets_businessScenario_find?n("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-position"},on:{click:e.findBusiness}},[e._v(e._s(e.$t("businessScenarioManagement.发现业务场景"))+"\n        ")]):e._e(),e.permissions.assets_businessScenario_export?n("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-upload"},on:{click:e.exportMode}},[e._v(e._s(e.$t("crudCommon.导出模板"))+"\n        ")]):e._e(),e.permissions.assets_businessScenario_import?n("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-document-add"},on:{click:e.importAsset}},[e._v(e._s(e.$t("crudCommon.导入"))+"\n        ")]):e._e(),e.permissions.assets_businessScenario_batchDel?n("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-delete"},on:{click:function(t){return e.deleteBtn(!1)}}},[e._v(e._s(e.$t("crudCommon.批量删除"))+"\n        ")]):e._e()],1)],2)],1),e.relationDialog?n("el-drawer",{attrs:{size:"100%",visible:e.relationDialog},on:{"update:visible":function(t){e.relationDialog=t}}},[n("div",{staticClass:"drawer-header",attrs:{slot:"title"},slot:"title"},[n("span",{staticClass:"drawer-header-title",domProps:{innerHTML:e._s(e.relationTitle)}}),n("div",{staticClass:"drawer-header-screen",on:{click:function(){return e.isFullscreen=!e.isFullscreen}}},[n("i",{class:e.isFullscreen?"el-icon-news":"el-icon-full-screen"})])]),n("el-steps",{staticStyle:{width:"60%",margin:"0 auto"},attrs:{active:e.active,simple:"","finish-status":"success"}},[n("el-step",{attrs:{title:e.$t("businessScenarioManagement.选择资产")}}),n("el-step",{attrs:{title:e.$t("assetsManagement.选择字段")}}),n("el-step",{attrs:{title:e.$t("assetsManagement.字段配置")}})],1),n("RelatedAssets",{directives:[{name:"show",rawName:"v-show",value:0===e.active,expression:"active === 0"}],ref:"relatedAssets",attrs:{echoCheckedAssetObjList:e.echoCheckedAssetObjList}}),n("SelectField",{directives:[{name:"show",rawName:"v-show",value:1===e.active,expression:"active === 1"}],ref:"selectField",attrs:{defaultActive:e.defaultActive,checkedAssetObjList:e.checkedAssetObjList,isView:!1}}),n("ActRelation",{directives:[{name:"show",rawName:"v-show",value:2===e.active,expression:"active === 2"}],ref:"actRelation",attrs:{fieldList:e.fieldList,sceneId:e.sceneId,saveBtnText:e.saveBtnText},on:{saveSuccess:e.saveSuccess}}),n("div",{staticClass:"demo-drawer__footer"},[0!==e.active?n("el-button",{attrs:{type:"primary",icon:"el-icon-top"},on:{click:e.previousStep}},[e._v(e._s(e.$t("assetsManagement.上一步")))]):e._e(),2!==e.active?n("el-button",{attrs:{type:"primary",icon:"el-icon-bottom"},on:{click:e.nextStep}},[e._v(e._s(e.$t("assetsManagement.下一步")))]):e._e(),2===e.active?n("el-button",{attrs:{type:"primary",icon:e.saveBtnText===e.$t("assetsManagement.保存")?"el-icon-circle-plus-outline":"el-icon-circle-check"},on:{click:e.relationFormSubmit}},[e._v(e._s(e.saveBtnText))]):e._e(),n("el-button",{attrs:{icon:"el-icon-circle-close"},on:{click:function(t){e.relationDialog=!1}}},[e._v(e._s(e.$t("assetsManagement.取消")))])],1)],1):e._e(),e.assessmentDialog?n("el-dialog",{attrs:{title:e.$t("assetsManagement.启动评估"),width:"35%","close-on-click-modal":!1,visible:e.assessmentDialog,fullscreen:e.isFullscreen},on:{"update:visible":function(t){e.assessmentDialog=t}}},[n("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[n("span",{staticClass:"dialog-header-title"},[e._v(e._s(e.$t("assetsManagement.启动评估")))]),n("div",{staticClass:"dialog-header-screen",on:{click:function(){return e.isFullscreen=!e.isFullscreen}}},[n("i",{class:e.isFullscreen?"el-icon-news":"el-icon-full-screen"})])]),n("ReleaseForm",{ref:"releaseForm",attrs:{typeIds:1,evaluationItem:{businessScenarioId:e.sceneId}},on:{closeAssessmentDialog:e.closeAssessmentDialog}}),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:e.assessmentFormSubmit}},[e._v(e._s(e.$t("assetsManagement.保存")))]),n("el-button",{attrs:{icon:"el-icon-circle-close"},on:{click:function(t){e.assessmentDialog=!1}}},[e._v(e._s(e.$t("assetsManagement.取消")))])],1)],1):e._e(),e.detailsDialog?n("el-dialog",{attrs:{title:"查看业务场景详情",width:"70%",visible:e.detailsDialog,fullscreen:e.isFullscreen},on:{"update:visible":function(t){e.detailsDialog=t}}},[n("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[n("span",{staticClass:"dialog-header-title"},[e._v(e._s(e.$t("businessScenarioManagement.查看业务场景详情")))]),n("div",{staticClass:"dialog-header-screen",on:{click:function(){return e.isFullscreen=!e.isFullscreen}}},[n("i",{class:e.isFullscreen?"el-icon-news":"el-icon-full-screen"})])]),n("Details",{ref:"details",attrs:{sceneId:e.sceneId,viewColumn:e.viewColumn,rowData:e.rowData,fieldList:e.fieldList}})],1):e._e(),e.findDialog?n("el-dialog",{attrs:{title:e.$t("businessScenarioManagement.发现业务场景"),width:"70%","close-on-click-modal":!1,visible:e.findDialog,fullscreen:e.isFullscreen},on:{"update:visible":function(t){e.findDialog=t}}},[n("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[n("span",{staticClass:"dialog-header-title"},[e._v(e._s(e.$t("businessScenarioManagement.发现业务场景")))]),n("div",{staticClass:"dialog-header-screen",on:{click:function(){return e.isFullscreen=!e.isFullscreen}}},[n("i",{class:e.isFullscreen?"el-icon-news":"el-icon-full-screen"})])]),n("FindStart",{ref:"findStart",attrs:{findType:2},on:{saveSuccess:e.findBusinessSaveSuccess}}),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:e.findFormSave}},[e._v(e._s(e.$t("assetsManagement.保存")))]),n("el-button",{attrs:{icon:"el-icon-circle-close"},on:{click:function(t){e.findDialog=!1}}},[e._v(e._s(e.$t("assetsManagement.取消")))])],1)],1):e._e(),n("el-dialog",{attrs:{title:e.$t("crudCommon.导入"),width:"35%",visible:e.importDialog,"close-on-click-modal":!1,"append-to-body":"",fullscreen:e.isFullscreen},on:{"update:visible":function(t){e.importDialog=t}}},[n("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[n("span",{staticClass:"dialog-header-title"},[e._v(e._s(e.$t("crudCommon.导入")))]),n("div",{staticClass:"dialog-header-screen",on:{click:function(){return e.isFullscreen=!e.isFullscreen}}},[n("i",{class:e.isFullscreen?"el-icon-news":"el-icon-full-screen"})])]),n("el-upload",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"upload-demo",attrs:{action:"","before-upload":e.beforeUpload,"on-remove":e.handleRemove,"before-remove":e.beforeRemove,accept:".xls,.xlsx",limit:1,"on-exceed":e.handleExceed,"file-list":e.fileList}},[n("el-button",{attrs:{size:"small",type:"primary"}},[e._v(e._s(e.$t("crudCommon.点击上传")))]),n("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(e._s(e.$t("crudCommon.只能上传xls和xlsx文件且不超过500kb")))])],1)],1),e.historyDialog?n("el-dialog",{attrs:{title:e.$t("assetsManagement.历史记录"),width:"70%",visible:e.historyDialog,"append-to-body":"",fullscreen:e.isFullscreen},on:{"update:visible":function(t){e.historyDialog=t}}},[n("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[n("span",{staticClass:"dialog-header-title"},[e._v(e._s(e.$t("assetsManagement.历史记录")))]),n("div",{staticClass:"dialog-header-screen",on:{click:function(){return e.isFullscreen=!e.isFullscreen}}},[n("i",{class:e.isFullscreen?"el-icon-news":"el-icon-full-screen"})])]),n("BusHistory",{attrs:{sceneId:e.sceneId}})],1):e._e()],1)},i=[],s=(n("8e6e"),n("456d"),n("53ca")),c=(n("28a5"),n("ac6a"),n("8615"),n("ade3")),o=n("17c3"),r=n("18b9"),l=n("2f62"),d=n("7cbd"),u=n("4264"),m=n("8484"),f=n("e171"),h=n("2a03"),p=n("f6c5"),b=n("8ead");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){Object(c["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v={name:"businessScenarioManagement",components:{RelatedAssets:d["default"],ActRelation:m["default"],SelectField:u["default"],ReleaseForm:f["default"],Details:h["default"],FindStart:p["default"],BusHistory:b["default"]},data:function(){return{active:0,relationDialog:!1,relationTitle:"",saveBtnText:this.$t("assetsManagement.保存"),assessmentDialog:!1,checkedAssetObjList:[],echoCheckedAssetObjList:[],checkedDataSubjectObjList:[],fieldList:[],findDialog:!1,historyDialog:!1,importDialog:!1,fileList:[],defaultActive:"",fullscreenLoading:!1,page:{total:0,currentPage:1,pageSize:20,isAsc:!1},query:{},list:[],listLoading:!0,form:{},ids:[],sceneId:0,detailsDialog:!1,viewColumn:[],rowData:{},isOverHidden:!0,isFullscreen:!1}},computed:y(y({},Object(l["b"])(["permissions","userInfo"])),{},{option:function(){return Object(r["b"])(this,this.userInfo.tenantId,this.isOverHidden,!1)}}),created:function(){this.getList(this.page)},methods:{changeArray:function(){this.isOverHidden=!this.isOverHidden,Object(r["b"])(this,this.userInfo.tenantId,this.isOverHidden,!1)},nextStep:function(){var e=this;if(0===this.active)if(this.checkedAssetObjList=this.$refs.relatedAssets.handleCheckedAssetObjList(),0===this.checkedAssetObjList.length)this.$message.error(this.$t("businessScenarioManagement.请至少选择一个资产"));else{this.active++;var t=this.checkedAssetObjList[0].projectId+"";this.defaultActive=this.checkedAssetObjList[0].dataSubjectList[0].mainBodyIdCp,this.$nextTick((function(){e.$refs.selectField.handleChecked(t),e.$refs.selectField.checkDataSubject(e.defaultActive)}))}else if(1===this.active){var n=this.$refs.selectField.getCheckedAssetObjList().map((function(e){return e.dataSubjectList})).flat().filter((function(e){return"checkedFieldListAll"in e})),a=n.every((function(e){return 0!==e.checkedFieldListAll.length}));a?(this.fieldList=this.handleFieldList(n),console.log(this.fieldList,"点击下一步-字段列表数据"),0===this.fieldList.length?this.$message.error(this.$t("businessScenarioManagement.请选择资产下面的字段")):this.active++):this.$message.error(this.$t("businessScenarioManagement.请选择资产下面的字段"))}},previousStep:function(){this.active--},relationFormSubmit:function(){this.fullscreenLoading=!0,this.$refs.actRelation.saveCurd()},saveSuccess:function(e){this.relationDialog=!1,this.fullscreenLoading=!1,this.getList(this.page),this.reassess(this.sceneId)},getList:function(e,t){var n=this;this.listLoading=!0,Object(o["e"])(Object.assign({current:e.currentPage,size:e.pageSize},t)).then((function(e){n.list=e.data.data.records,n.page.total=e.data.data.total,n.listLoading=!1}))},reassess:function(e){var t=this;this.$confirm(this.$t("businessScenarioManagement.是否对本业务场景发起新的评估"),this.$t("crudCommon.提示"),{confirmButtonText:this.$t("crudCommon.确定"),cancelButtonText:this.$t("crudCommon.取消"),cancelButtonClass:"btn-custom-cancel",type:"warning"}).then((function(){t.assessmentDialog=!0,t.sceneId=e}))},findBusiness:function(){this.findDialog=!0},viewHistory:function(e){this.historyDialog=!0,this.sceneId=e.sceneId},findFormSave:function(){this.fullscreenLoading=!0,this.$refs.findStart.findFormSave()},findBusinessSaveSuccess:function(){this.findDialog=!1,this.fullscreenLoading=!1,this.getList(this.page)},openAssessment:function(e){this.sceneId=e.sceneId,this.assessmentDialog=!0},assessmentFormSubmit:function(){this.fullscreenLoading=!0,this.$refs.releaseForm.releaseSave()},closeAssessmentDialog:function(){this.fullscreenLoading=!1,this.assessmentDialog=!1},relationBtn:function(e){var t=this;this.fullscreenLoading=!0,this.active=0,this.sceneId=e.sceneId,this.relationTitle='<i class="'.concat(e.sceneIcon,'"></i> <span style="font-weight: 700;">').concat(e.sceneName,"</span> ").concat(this.$t("assetsManagement.关联")),this.relationDialog=!0,this.getProjectAttributesBySceneId(this.sceneId).then((function(){t.saveBtnText=t.echoCheckedAssetObjList.length?t.$t("assetsManagement.修改"):t.$t("assetsManagement.保存"),t.$refs.relatedAssets.echoChecked(),t.fullscreenLoading=!1}))},getProjectAttributesBySceneId:function(e){var t=this;return Object(o["f"])(e).then((function(e){t.echoCheckedAssetObjList=t.handleEchoData(e.data.data);var n=t.echoCheckedAssetObjList.map((function(e){return e.dataSubjectList})).flat();t.fieldList=t.handleFieldList(n)}))},handleFieldList:function(e){return e.reduce((function(e,t,n,a){var i=Object.values(t.checkedFieldListAll).flat();return i.forEach((function(e,t){e.volumeOfDataSubjects=e.volumeOfDataSubjects||0,e.identification="".concat(e.projectId,"+").concat(e.mainBodyId,"+").concat(e.attributesId)})),e.concat(i)}),[])},handleEchoData:function(e){return e.forEach((function(e,t){e.dataSubjectList.forEach((function(e,t){e.checkedCategoryList=e.categoryList.map((function(e){return e.categoryId}))||[],e.checkedDataClass=e.typeList.map((function(e){return e.typeId}))||[],"checkedFieldList"in e||(e.checkedFieldList={}),"checkedFieldListAll"in e||(e.checkedFieldListAll={}),e.checkedCategoryList.forEach((function(t,n){e.checkedFieldListAll[t]=e.attributes.filter((function(e){return t===e.categoryId})),e.checkedFieldList[t]=e.checkedFieldListAll[t].map((function(e){return e.attributesId}))}))}))})),e},importAsset:function(){this.importDialog=!0},exportMode:function(){var e=this;this.fullscreenLoading=!0;var t={responseType:"blob"};this.axios.get("/assets/assetsBusinessScene/exportExcel",t).then((function(t){var n=decodeURIComponent(t.headers["content-disposition"]).split("=")[1],a=[];a.push(t.data);var i=URL.createObjectURL(new Blob(a,{type:t.headers["content-type"]}));e.download(i,n),e.fullscreenLoading=!1,e.$message.success(e.$t("crudCommon.导出成功"))}))},download:function(e,t){var n=document.createElement("a");n.style.display="none",n.download=t,n.href=e,n.click()},beforeUpload:function(e){var t=this;this.fullscreenLoading=!0;var n=new FormData;return n.append("file",e),this.axios.post("/assets/assetsBusinessScene/importExcel",n).then((function(e){t.$message.success(e.data.message),t.importDialog=!1,t.fullscreenLoading=!1,t.getList(t.page)})).catch((function(){t.importDialog=!1,t.fullscreenLoading=!1})),!1},handleRemove:function(){},beforeRemove:function(){},handleExceed:function(){},cellClick:function(e,t){t.label===this.$t("businessScenarioManagement.业务场景名称")&&(this.sceneId=e.sceneId,this.viewColumn=this.$refs.crud.columnOption,this.rowData=e,this.detailsDialog=!0,this.getProjectAttributesBySceneId(e.sceneId))},selectionChange:function(e){this.ids=e.map((function(e){return e.sceneId}))},sizeChange:function(e){this.page.pageSize=e,this.getList(this.page,this.query)},currentChange:function(e){this.page.currentPage=e,this.getList(this.page,this.query)},handleFilter:function(e,t){"date"in e&&(e.startTime=e.date[0],e.endTime=e.date[1],e.date=void 0),this.query=e,this.page.currentPage=1,this.getList(this.page,this.query),t()},resetChange:function(){this.query={},this.getList(this.page,this.query)},handleRefreshChange:function(){this.getList(this.page)},handleUpdate:function(e,t){this.$refs.crud.rowEdit(e,t)},create:function(e,t,n){var a=this;(Array.isArray(this.form.purposeOfProcessing)||"object"===Object(s["a"])(this.form.purposeOfProcessing))&&(this.form.purposeOfProcessing=this.form.purposeOfProcessing.join()),Array.isArray(this.form.locationsOfPartiesAccessUse)&&(this.form.locationsOfPartiesAccessUse=this.form.locationsOfPartiesAccessUse.join()),Array.isArray(this.form.dataSubjectsRegion)&&(this.form.dataSubjectsRegion=this.form.dataSubjectsRegion.join()),Object(o["a"])(this.form).then((function(e){200==e.data.status?(a.getList(a.page),t(),a.$message.success(e.data.message)):n()})).catch((function(){n()}))},update:function(e,t,n,a){var i=this;(Array.isArray(this.form.purposeOfProcessing)||"object"===Object(s["a"])(this.form.purposeOfProcessing))&&(this.form.purposeOfProcessing=this.form.purposeOfProcessing.join()),Array.isArray(this.form.locationsOfPartiesAccessUse)&&(this.form.locationsOfPartiesAccessUse=this.form.locationsOfPartiesAccessUse.join()),Array.isArray(this.form.dataSubjectsRegion)&&(this.form.dataSubjectsRegion=this.form.dataSubjectsRegion.join()),Object(o["g"])(this.form).then((function(t){200==t.data.status?(i.getList(i.page),n(),i.reassess(e.sceneId),i.$message.success(t.data.message)):a()})).catch((function(){a()}))},deleteBtn:function(e){var t=this,n=e?[e.sceneId]:this.ids;n.length?this.$confirm(this.$t("crudCommon.是否删除本条数据"),this.$t("crudCommon.提示"),{confirmButtonText:this.$t("crudCommon.删除"),cancelButtonText:this.$t("crudCommon.不删除"),type:"warning"}).then((function(){Object(o["c"])(n).then((function(e){200==e.data.status?(t.$message.success(e.data.message),t.$refs.crud.toggleSelection(),t.handleRefreshChange()):t.$message.error(e.data.message)}))})):this.$message.error(this.$t("crudCommon.请选择要删除的数据"))}}},_=v,j=(n("242ab"),n("2877")),L=Object(j["a"])(_,a,i,!1,null,"7f121457",null);t["default"]=L.exports},"6a85":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("avue-form",{ref:"findAssetForm",attrs:{disabled:!!e.findStatus,option:e.findAssetFormOption},on:{submit:e.submitBtn},model:{value:e.findAssetForm,callback:function(t){e.findAssetForm=t},expression:"findAssetForm"}},[n("template",{slot:"hostingLocation"},[n("avue-input",{attrs:{placeholder:""+e.$t("crudCommon.请选择")+e.$t("assetsManagement.托管位置")},on:{focus:e.openMap},model:{value:e.findAssetForm.hostingLocation,callback:function(t){e.$set(e.findAssetForm,"hostingLocation",t)},expression:"findAssetForm.hostingLocation"}})],1)],2),n("el-dialog",{attrs:{title:e.$t("assetsManagement.地图"),width:"70%",visible:e.showMap,"append-to-body":""},on:{"update:visible":function(t){e.showMap=t}}},[n("div",[e._v(e._s(e.$t("assetsManagement.当前位置"))+" "+e._s(e.findAssetForm.hostingLocation)+" "),n("br"),e._v("\n            "+e._s(e.$t("assetsManagement.当前经纬度"))+" "+e._s(e.findAssetForm.lng)+", "+e._s(e.findAssetForm.lat)+" \n        ")]),n("div",{attrs:{id:"baiduMap"}}),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:e.saveLatlng}},[e._v(e._s(e.$t("assetsManagement.保存")))])],1)])],1)},i=[],s=n("53ca"),c=(n("c5f6"),n("115c")),o={name:"FindAssetForm",components:{},props:{findStatus:{type:Number,default:0}},data:function(){return{treeDeptData:[],defaultProps:{label:"name",value:"id"},findAssetForm:{},showMap:!1,map:null}},computed:{findAssetFormOption:function(){return Object(c["b"])(this,this.$route.query.tenantId,!1,!0)}},created:function(){},methods:{openMap:function(){var e=this;this.showMap=!0,this.map||this.$nextTick((function(){e.map=new BMapGL.Map("baiduMap");var t=new BMapGL.ScaleControl;e.map.addControl(t);var n=new BMapGL.ZoomControl;e.map.addControl(n);var a=new BMapGL.CityListControl;e.map.addControl(a),e.map.enableScrollWheelZoom(!0);var i=new BMapGL.Point(116.404,39.915);e.map.centerAndZoom(i,15);var s=new BMapGL.Geocoder;e.map.addEventListener("click",(function(t){e.findAssetForm.lng=t.latlng.lng,e.findAssetForm.lat=t.latlng.lat;var n=new BMapGL.Point(t.latlng.lng,t.latlng.lat),a=new BMapGL.Marker(n);e.map.clearOverlays(),e.map.addOverlay(a),s.getLocation(t.latlng,(function(t){var n=t.addressComponents;e.findAssetForm.hostingLocation="".concat(n.province,",").concat(n.city)}))}))}))},submitBtn:function(e,t){(Array.isArray(e.organizationalSecurityMeasures)||"object"===Object(s["a"])(e.organizationalSecurityMeasures))&&(e.organizationalSecurityMeasures=e.organizationalSecurityMeasures.join()),this.$emit("commitJob",e,t)},saveLatlng:function(){this.showMap=!1}}},r=o,l=(n("ba07"),n("2877")),d=Object(l["a"])(r,a,i,!1,null,"38d1f306",null);t["default"]=d.exports},"6b6f":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("avue-form",{ref:"findBusinessForm",attrs:{disabled:!!e.findStatus,option:e.findBusinessFormOption},on:{submit:e.submitBtn},model:{value:e.findBusinessForm,callback:function(t){e.findBusinessForm=t},expression:"findBusinessForm"}})],1)},i=[],s=n("53ca"),c=(n("c5f6"),n("18b9")),o={name:"FindBusinessForm",components:{},props:{findStatus:{type:Number,default:0}},data:function(){return{treeDeptData:[],defaultProps:{label:"name",value:"id"},findBusinessForm:{}}},computed:{findBusinessFormOption:function(){return Object(c["b"])(this,this.$route.query.tenantId,!1,!0)}},created:function(){},methods:{submitBtn:function(e,t){(Array.isArray(e.purposeOfProcessing)||"object"===Object(s["a"])(e.purposeOfProcessing))&&(e.purposeOfProcessing=e.purposeOfProcessing.join()),Array.isArray(e.locationsOfPartiesAccessUse)&&(e.locationsOfPartiesAccessUse=e.locationsOfPartiesAccessUse.join()),Array.isArray(e.dataSubjectsRegion)&&(e.dataSubjectsRegion=e.dataSubjectsRegion.join()),this.$emit("commitJob",e,t)}}},r=o,l=n("2877"),d=Object(l["a"])(r,a,i,!1,null,"5e9c1fb4",null);t["default"]=d.exports},"6ba9":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v(e._s(e.parentName))]),n("div",{staticStyle:{margin:"15px 0"}}),n("el-checkbox-group",{on:{change:e.handleCheckedChange},model:{value:e.checkedList,callback:function(t){e.checkedList=t},expression:"checkedList"}},e._l(e.dataList,(function(t){return n("el-checkbox",{key:t[e.itemId],staticStyle:{margin:"10px"},attrs:{indeterminate:e.isViceIndeterminate,label:t[e.itemId]}},[e._v("\n            "+e._s(t[e.itemName])+"\n        ")])})),1)],1)},i=[],s=(n("6762"),n("2fdb"),n("7514"),n("0e0b")),c={name:"CheckBox",props:{echoCheckedList:{type:Array,default:function(){return[]}},echoCheckedListAll:{type:Array,default:function(){return[]}},dataList:{type:Array,default:function(){return[]}},parentName:{type:String,default:"全选"},itemId:{type:String,default:""},itemName:{type:String,default:""}},data:function(){return{isIndeterminate:!1,isViceIndeterminate:!1,checkAll:!1,checkedList:[],checkedListAll:[]}},watch:{},created:function(){},methods:{echoChecked:function(){this.checkedList=Object(s["a"])(this.echoCheckedList),this.handleCheckedChange(this.checkedList)},handleCheckAllChange:function(e){var t=this;this.checkedList=e?this.dataList.map((function(e){return e[t.itemId]})):[],this.checkedListAll=e?this.dataList:[],this.isIndeterminate=!1,this.$emit("handleCheckedChange",this.checkedList,this.checkedListAll)},handleCheckedChange:function(e){var t=this,n=e.length;this.checkAll=n===this.dataList.length,this.isIndeterminate=n>0&&n<this.dataList.length,0!==this.echoCheckedListAll.length?this.checkedListAll=e.map((function(e,n){return t.echoCheckedListAll.find((function(n){return n[t.itemId]===e}))||t.dataList.find((function(n){return n[t.itemId]===e}))})):this.checkedListAll=this.dataList.filter((function(e){return t.checkedList.includes(e[t.itemId])})),this.$emit("handleCheckedChange",this.checkedList,this.checkedListAll)}}},o=c,r=n("2877"),l=Object(r["a"])(o,a,i,!1,null,"5bd76d72",null);t["default"]=l.exports},"6c8d":function(e,t,n){"use strict";t["a"]=[{label:"通用图标",list:[{label:"首页",value:"iconfont icon-cd-huaban7"},{label:"审批管理",value:"iconfont icon-cd-ziyuan8"},{label:"过程管理",value:"iconfont icon-cd-ziyuan18"},{label:"文控管理",value:"iconfont icon-cd-ziyuan2"},{label:"系统监控",value:"iconfont icon-cd-ziyuan3"},{label:"供应商管理",value:"iconfont icon-cd-ziyuan19"},{label:"质量体系管理",value:"iconfont icon-cd-ziyuan23"},{label:"库存管理",value:"iconfont icon-cd-ziyuan13"},{label:"清单管理",value:"iconfont icon-cd-ziyuan11"},{label:"统计分析",value:"iconfont icon-cd-ziyuan6"},{label:"消息管理",value:"iconfont icon-cd-ziyuan1"},{label:"成品管理",value:"iconfont icon-cd-ziyuan20"},{label:"项目管理",value:"iconfont icon-cd-ziyuan5"},{label:"系统管理",value:"iconfont icon-cd-ziyuan16"},{label:"基础数据",value:"iconfont icon-cd-ziyuan21"},{label:"设备管理",value:"iconfont icon-cd-ziyuan10"},{label:"图片",value:"iconfont icon-ty-tupian"},{label:"系统",value:"iconfont icon-ty-xitong"},{label:"右缩进",value:"iconfont icon-ty-yousuojin"},{label:"收藏",value:"iconfont icon-ty-weixinshoucang"},{label:"校验",value:"iconfont icon-ty-xiaoyan"},{label:"我的",value:"iconfont icon-ty-wode"},{label:"退出",value:"iconfont icon-ty-tuichu"},{label:"左缩进",value:"iconfont icon-ty-zuosuojin"},{label:"相册",value:"iconfont icon-ty-xiangce"},{label:"更多",value:"iconfont icon-ty-gengduo"},{label:"用户",value:"iconfont icon-ty-zhongduoyonghu"},{label:"放大",value:"iconfont icon-ty-fangda"},{label:"预览",value:"iconfont icon-ty-yulan-dakai"},{label:"邮件",value:"iconfont icon-ty-youjian"},{label:"关闭",value:"iconfont icon-ty-yulan-guanbi"},{label:"英文",value:"iconfont icon-ty-yingwen"},{label:"中文",value:"iconfont icon-ty-zhongwen"},{label:"分享",value:"iconfont icon-ty-fenxiang"},{label:"上传",value:"iconfont icon-ty-wenjianjia-shangchuan"},{label:"编辑",value:"iconfont icon-ty-bianji"},{label:"复制",value:"iconfont icon-ty-fuzhi"},{label:"评论",value:"iconfont icon-ty-pinglun"},{label:"进入",value:"iconfont icon-ty-jinru"},{label:"日志",value:"iconfont icon-ty-rizhi"},{label:"配置",value:"iconfont icon-ty-peizhi"},{label:"分组",value:"iconfont icon-ty-fenzu"},{label:"收藏文件",value:"iconfont icon-ty-shoucangwenjian"},{label:"设置",value:"iconfont icon-ty-shezhi"},{label:"缩小",value:"iconfont icon-ty-suoxiao"},{label:"全部",value:"iconfont icon-ty-quanbu"},{label:"日程表",value:"iconfont icon-ty-richengbiao"},{label:"审核",value:"iconfont icon-ty-shenhe"},{label:"首页",value:"iconfont icon-ty-shouye"},{label:"删除",value:"iconfont icon-ty-shanchu"}]},{label:"字段图标",list:[{label:"资产维护",value:"iconfont icon-zd-zichanweihu"},{label:"应收款",value:"iconfont icon-zd-yingshoukuan"},{label:"数字证书",value:"iconfont icon-zd-shuzizhengshuanzhuangshenqing"},{label:"数据处理",value:"iconfont icon-zd-shujuchuli2"},{label:"信息安全",value:"iconfont icon-zd-xinxianquan_1"},{label:"身份证",value:"iconfont icon-zd-shuyi_shenfenzheng"},{label:"燃油",value:"iconfont icon-zd-214aranyou"},{label:"用户画像",value:"iconfont icon-zd-yonghuhuaxiang1"},{label:"跨境",value:"iconfont icon-zd-kuajinggongshang"},{label:"学位",value:"iconfont icon-zd-xuewei"},{label:"经纬度",value:"iconfont icon-zd-jingweidu"},{label:"车辆品牌",value:"iconfont icon-zd-cheliangpinpaiku"},{label:"声纹",value:"iconfont icon-zd-shengwenshibie"},{label:"护理记录单",value:"iconfont icon-zd-hulijiludan"},{label:"麻醉单",value:"iconfont icon-zd-mazuidan"},{label:"用药清单",value:"iconfont icon-zd-yongyaoqingdan"},{label:"发动机故障",value:"iconfont icon-zd-fadongjiguzhang"},{label:"电子社保卡",value:"iconfont icon-zd-dianzishebaoka1"},{label:"客户服务",value:"iconfont icon-zd-kehufuwu"},{label:"数据资产",value:"iconfont icon-zd-shujvzichanguanli"},{label:"生育证明",value:"iconfont icon-zd-shengyuzhengming"},{label:"定期存款",value:"iconfont icon-zd-dingqicunkuan"},{label:"审计报告",value:"iconfont icon-zd-shenjibaogaomobanguanli20beifen"},{label:"用户分析",value:"iconfont icon-zd-yonghufenxi"},{label:"过敏",value:"iconfont icon-zd-guomin"},{label:"愿景与使命",value:"iconfont icon-zd-yuanjingyushiming"},{label:"硬盘",value:"iconfont icon-zd-yingpan"},{label:"点击",value:"iconfont icon-zd-dianji"},{label:"通话记录",value:"iconfont icon-zd-tonghuajilu"},{label:"业务场景",value:"iconfont icon-zd-yewuchangjing"},{label:"工作单位",value:"iconfont icon-zd-commpany"},{label:"虚拟货币",value:"iconfont icon-zd-bitebi"},{label:"病史",value:"iconfont icon-zd-bingshi"},{label:"认证口令",value:"iconfont icon-zd-xiugairenzhengkouling01"},{label:"短信息",value:"iconfont icon-zd-duancaixin"},{label:"肺活量",value:"iconfont icon-zd-iconfhl"},{label:"身高",value:"iconfont icon-zd-iconsg"},{label:"血压",value:"iconfont icon-zd-iconxy"},{label:"住宿",value:"iconfont icon-zd-zhusu"},{label:"住院记录",value:"iconfont icon-zd-zhuyuanjilu"},{label:"财务投资",value:"iconfont icon-zd-caiwutouzi"},{label:"培训",value:"iconfont icon-zd-ketangpeixun"},{label:"纸张",value:"iconfont icon-zd-zhizhang"},{label:"客户服务",value:"iconfont icon-zd-kehufuwukefu"},{label:"客户关系管理",value:"iconfont icon-zd-kehuguanxiguanli"},{label:"弹性存储",value:"iconfont icon-zd-tanxingcunchu"},{label:"车型",value:"iconfont icon-zd-chexing"},{label:"疑难病例",value:"iconfont icon-zd-yinanbingli"},{label:"传染病",value:"iconfont icon-zd-chuanranbing"},{label:"消费记录",value:"iconfont icon-zd-wuxiaofeijilu"},{label:"工作经历",value:"iconfont icon-zd-gongzuojingli"},{label:"andriod",value:"iconfont icon-zd-andriod"},{label:"车架号",value:"iconfont icon-zd-chejiahao"},{label:"收款",value:"iconfont icon-zd-shoukuan"},{label:"通讯录",value:"iconfont icon-zd-tongxunlu"},{label:"投资人",value:"iconfont icon-zd-touziren"},{label:"房产",value:"iconfont icon-zd-fangchan"},{label:"军官证",value:"iconfont icon-zd-junguanzheng"},{label:"居住证",value:"iconfont icon-zd-jvzhuzheng"},{label:"电话号码",value:"iconfont icon-zd-dianhuahaoma"},{label:"微信好友",value:"iconfont icon-zd-weixinhaoyou"},{label:"治疗登记",value:"iconfont icon-zd-zhiliaodengji"},{label:"数据库",value:"iconfont icon-zd-shujuku"},{label:"app",value:"iconfont icon-zd-app"},{label:"通信",value:"iconfont icon-zd-tongxin"},{label:"SDK",value:"iconfont icon-zd-SDKxiazai"},{label:"应用程序",value:"iconfont icon-zd-yingyongchengxu"},{label:"存档",value:"iconfont icon-zd-archive"},{label:"底盘",value:"iconfont icon-zd-xinxinicon"},{label:"网站",value:"iconfont icon-zd-wangzhan"},{label:"职业",value:"iconfont icon-zd-zhiye"},{label:"财务分析",value:"iconfont icon-zd-caiwufenxi"},{label:"好友列表",value:"iconfont icon-zd-haoyouliebiao"},{label:"基因",value:"iconfont icon-zd-jiyin"},{label:"车辆类型",value:"iconfont icon-zd-cheliangleixing"},{label:"身份证",value:"iconfont icon-zd-shenfenzheng"},{label:"游戏卡",value:"iconfont icon-zd-youxiqia"},{label:"健康",value:"iconfont icon-zd-jiankang"},{label:"小程序",value:"iconfont icon-zd-xiaochengxu"},{label:"财务流水",value:"iconfont icon-zd-caiwuliushui"},{label:"虹膜识别",value:"iconfont icon-zd-hongmoshibie"},{label:"性别",value:"iconfont icon-zd-xingbie"},{label:"工作证",value:"iconfont icon-zd-gongzuozheng"},{label:"家庭关系",value:"iconfont icon-zd-jiatingguanxi"},{label:"职位",value:"iconfont icon-zd-position"},{label:"体重",value:"iconfont icon-zd-tizhong"},{label:"银行账号",value:"iconfont icon-zd-yyinhangzhanghao"},{label:"健康",value:"iconfont icon-zd-jiankang1"},{label:"手机号码",value:"iconfont icon-zd-shoujihaoma"},{label:"职业",value:"iconfont icon-zd-zhiye1"},{label:"文件夹",value:"iconfont icon-zd-wenjianjia"},{label:"医嘱",value:"iconfont icon-zd-yizhuzhixing"},{label:"指纹",value:"iconfont icon-zd-zhiwen"},{label:"决策",value:"iconfont icon-zd-juece"},{label:"路况",value:"iconfont icon-zd-toggle"},{label:"法律诉讼",value:"iconfont icon-zd-falvsusong"},{label:"预存款",value:"iconfont icon-zd-yucunkuan"},{label:"教育",value:"iconfont icon-zd-jiaoyu"},{label:"营销",value:"iconfont icon-zd-yingxiao1"},{label:"出生日期",value:"iconfont icon-zd-chushengriqi"},{label:"系统日志",value:"iconfont icon-zd-xitongrizhi"},{label:"住址",value:"iconfont icon-zd-zhuzhi"},{label:"好友",value:"iconfont icon-zd-haoyou"},{label:"犯罪证据",value:"iconfont icon-zd-wj-fzzj"},{label:"数据处理",value:"iconfont icon-zd-shujuchuli"},{label:"登录密码",value:"iconfont icon-zd-denglumima"},{label:"性别",value:"iconfont icon-zd-xingbie1"},{label:"人力资源",value:"iconfont icon-zd-renliziyuan"},{label:"民族宗教",value:"iconfont icon-zd-minzuzongjiao"},{label:"酒店",value:"iconfont icon-zd-zhusu1"},{label:"数据处理",value:"iconfont icon-zd-myicon-"},{label:"支付",value:"iconfont icon-zd-zhifu"},{label:"数据库",value:"iconfont icon-zd-shujuku1"},{label:"手术",value:"iconfont icon-zd-shoushugongzuoliang"},{label:"浏览记录",value:"iconfont icon-zd-liulanjilu"},{label:"检验报告",value:"iconfont icon-zd-jianyanbaogao"},{label:"住院报告",value:"iconfont icon-zd-zhuyuanbaogao"},{label:"数据采集",value:"iconfont icon-zd-shujucaiji"},{label:"委托",value:"iconfont icon-zd-wodeweituo"},{label:"删除",value:"iconfont icon-zd-shanchu"},{label:"优惠券",value:"iconfont icon-zd-youhuiquan"},{label:"车况",value:"iconfont icon-zd-chekuang"},{label:"成绩单",value:"iconfont icon-zd-huabanfuben"},{label:"位置",value:"iconfont icon-zd-weizhixinxi"},{label:"电子邮箱",value:"iconfont icon-zd-dianziyouxiang"},{label:"护照",value:"iconfont icon-zd-huzhao"},{label:"基因图谱",value:"iconfont icon-zd-jiyintupu"},{label:"卡密码",value:"iconfont icon-zd-kamima"},{label:"业务流程",value:"iconfont icon-zd-ywlc"},{label:"交易记录",value:"iconfont icon-zd-jiaoyijilu"},{label:"同性恋",value:"iconfont icon-zd-tongxinglian"},{label:"流水单",value:"iconfont icon-zd-basesalescouponSendList"},{label:"人脸识别",value:"iconfont icon-zd-renlianshibie"},{label:"登录账号",value:"iconfont icon-zd-dengluzhanghao"},{label:"车牌号",value:"iconfont icon-zd-ziyuan115"},{label:"驾驶证",value:"iconfont icon-zd-jiashizheng"},{label:"信贷服务",value:"iconfont icon-zd-xindaifuwu"},{label:"证件",value:"iconfont icon-zd-work-permit-full"},{label:"听觉",value:"iconfont icon-zd-ear"},{label:"掌纹",value:"iconfont icon-zd-hand-full"},{label:"SIM卡",value:"iconfont icon-zd-sim"},{label:"imei",value:"iconfont icon-zd-imei"},{label:"轨迹",value:"iconfont icon-zd-locus-full"},{label:"纸张",value:"iconfont icon-zd-file"},{label:"征信",value:"iconfont icon-zd-xiaopangchezhengxinguanli"},{label:"姓名",value:"iconfont icon-zd-xingming"},{label:"精确定位",value:"iconfont icon-zd-jingzhundingwei"},{label:"区块链",value:"iconfont icon-zd-BCNqukuailian"},{label:"婚姻登记",value:"iconfont icon-zd-minzhengtubiao1-23"},{label:"出入证",value:"iconfont icon-zd-churuzheng"},{label:"信息传输",value:"iconfont icon-zd-xinxichuanshu"},{label:"用户日志",value:"iconfont icon-zd-yonghurizhi"},{label:"IP地址",value:"iconfont icon-zd-IPdizhi"},{label:"硬件",value:"iconfont icon-zd-yingjian"}]}]},"6d5d":function(e,t,n){},"6e6c":function(e,t,n){"use strict";n("f4c8")},"6fda":function(e,t,n){},"72a2":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"outerContainer"},[n("FreeEcharts")],1)},i=[],s=n("aa3a"),c=n("e008"),o={name:"Assetbusin",components:{MyChartsTemplate:s["default"],FreeEcharts:c["default"]},data:function(){return{}},computed:{},created:function(){},methods:{}},r=o,l=(n("cf85"),n("2877")),d=Object(l["a"])(r,a,i,!1,null,"5715d9b3",null);t["default"]=d.exports},"73d6":function(e,t,n){"use strict";n("6d5d")},"7bb7":function(e,t,n){"use strict";n("8bdb")},"7c05":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{"status-icon":"",rules:e.loginRules,model:e.loginForm,"label-width":"0"}},[n("el-form-item",{attrs:{prop:"username"}},[n("el-input",{attrs:{size:"small","auto-complete":"off",placeholder:"请输入用户名"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin.apply(null,arguments)}},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}},[n("i",{staticClass:"icon-yonghu",attrs:{slot:"prefix"},slot:"prefix"})])],1),n("el-form-item",{attrs:{prop:"password"}},[n("el-input",{attrs:{size:"small",type:e.passwordType,"auto-complete":"off",placeholder:"请输入密码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin.apply(null,arguments)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}},[n("i",{staticClass:"el-icon-view el-input__icon",attrs:{slot:"suffix"},on:{click:e.showPassword},slot:"suffix"}),n("i",{staticClass:"icon-ty-mima",attrs:{slot:"prefix"},slot:"prefix"})])],1),n("el-form-item",{attrs:{prop:"code"}},[n("el-row",{attrs:{span:24}},[n("el-col",{attrs:{span:16}},[n("el-input",{attrs:{size:"small",maxlength:e.code.len,"auto-complete":"off",placeholder:"请输入验证码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin.apply(null,arguments)}},model:{value:e.loginForm.code,callback:function(t){e.$set(e.loginForm,"code",t)},expression:"loginForm.code"}},[n("i",{staticClass:"icon-ty-yanzhengma",attrs:{slot:"prefix"},slot:"prefix"})])],1),n("el-col",{attrs:{span:8}},[n("div",{staticClass:"login-code"},[n("img",{staticClass:"login-code-img",attrs:{src:e.code.src},on:{click:e.refreshCode}})])])],1)],1),n("el-form-item",[n("el-button",{staticClass:"login-submit",attrs:{type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin.apply(null,arguments)}}},[e._v("登录")])],1)],1)},i=[],s=(n("8e6e"),n("ac6a"),n("456d"),n("ade3")),c=n("0e0b"),o=n("2f62");function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d={name:"userlogin",data:function(){return{codeUrl:"/code",loginForm:{username:"cmy",password:"123456",code:"",randomStr:""},checked:!1,code:{src:"",value:"",len:4},loginRules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度最少为6位",trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"}]},passwordType:"password"}},created:function(){this.refreshCode()},computed:l({},Object(o["b"])(["tagWel"])),methods:{refreshCode:function(){this.loginForm.code="",this.loginForm.randomStr=Object(c["j"])(this.code.len,!0),this.code.src="".concat(this.codeUrl,"?randomStr=").concat(this.loginForm.randomStr)},showPassword:function(){""==this.passwordType?this.passwordType="password":this.passwordType=""},handleLogin:function(){var e=this;this.$refs.loginForm.validate((function(t){t&&e.$store.dispatch("LoginByUsername",e.loginForm).then((function(){e.$router.push({path:e.tagWel.value})})).catch((function(){e.refreshCode()}))}))}}},u=d,m=n("2877"),f=Object(m["a"])(u,a,i,!1,null,null,null);t["default"]=f.exports},"7c3a":function(e){e.exports=JSON.parse('[{"code":"0086","country_id":37,"name_cn":"中国大陆","name_en":"China","cities":[{"name_cn":"北京市","abbreviate":"京","code":"110000","cities":[{"name_cn":"东城区","code":"110101"},{"name_cn":"西城区","code":"110102"},{"name_cn":"朝阳区","code":"110105"},{"name_cn":"丰台区","code":"110106"},{"name_cn":"石景山区","code":"110107"},{"name_cn":"海淀区","code":"110108"},{"name_cn":"门头沟区","code":"110109"},{"name_cn":"房山区","code":"110111"},{"name_cn":"通州区","code":"110112"},{"name_cn":"顺义区","code":"110113"},{"name_cn":"昌平区","code":"110114"},{"name_cn":"大兴区","code":"110115"},{"name_cn":"怀柔区","code":"110116"},{"name_cn":"平谷区","code":"110117"},{"name_cn":"密云区","code":"110118"},{"name_cn":"延庆区","code":"110119"}]},{"name_cn":"天津市","abbreviate":"津","code":"120000","cities":[{"name_cn":"和平区","code":"120101"},{"name_cn":"河东区","code":"120102"},{"name_cn":"河西区","code":"120103"},{"name_cn":"南开区","code":"120104"},{"name_cn":"河北区","code":"120105"},{"name_cn":"红桥区","code":"120106"},{"name_cn":"东丽区","code":"120110"},{"name_cn":"西青区","code":"120111"},{"name_cn":"津南区","code":"120112"},{"name_cn":"北辰区","code":"120113"},{"name_cn":"武清区","code":"120114"},{"name_cn":"宝坻区","code":"120115"},{"name_cn":"滨海新区","code":"120116"},{"name_cn":"宁河区","code":"120117"},{"name_cn":"静海区","code":"120118"},{"name_cn":"蓟州区","code":"120119"}]},{"name_cn":"河北省","abbreviate":"冀","code":"130000","cities":[{"name_cn":"石家庄市","code":"130100"},{"name_cn":"唐山市","code":"130200"},{"name_cn":"秦皇岛市","code":"130300"},{"name_cn":"邯郸市","code":"130400"},{"name_cn":"邢台市","code":"130500"},{"name_cn":"保定市","code":"130600"},{"name_cn":"张家口市","code":"130700"},{"name_cn":"承德市","code":"130800"},{"name_cn":"沧州市","code":"130900"},{"name_cn":"廊坊市","code":"131000"},{"name_cn":"衡水市","code":"131100"}]},{"name_cn":"山西省","abbreviate":"晋","code":"140000","cities":[{"name_cn":"太原市","code":"140100"},{"name_cn":"大同市","code":"140200"},{"name_cn":"阳泉市","code":"140300"},{"name_cn":"长治市","code":"140400"},{"name_cn":"晋城市","code":"140500"},{"name_cn":"朔州市","code":"140600"},{"name_cn":"晋中市","code":"140700"},{"name_cn":"运城市","code":"140800"},{"name_cn":"忻州市","code":"140900"},{"name_cn":"临汾市","code":"141000"},{"name_cn":"吕梁市","code":"141100"}]},{"name_cn":"内蒙古自治区","abbreviate":"蒙","code":"150000","cities":[{"name_cn":"呼和浩特市","code":"150100"},{"name_cn":"包头市","code":"150200"},{"name_cn":"乌海市","code":"150300"},{"name_cn":"赤峰市","code":"150400"},{"name_cn":"通辽市","code":"150500"},{"name_cn":"鄂尔多斯市","code":"150600"},{"name_cn":"呼伦贝尔市","code":"150700"},{"name_cn":"巴彦淖尔市","code":"150800"},{"name_cn":"乌兰察布市","code":"150900"},{"name_cn":"兴安盟","code":"152200"},{"name_cn":"锡林郭勒盟","code":"152500"},{"name_cn":"阿拉善盟","code":"152900"}]},{"name_cn":"辽宁省","abbreviate":"辽","code":"210000","cities":[{"name_cn":"沈阳市","code":"210100"},{"name_cn":"大连市","code":"210200"},{"name_cn":"鞍山市","code":"210300"},{"name_cn":"抚顺市","code":"210400"},{"name_cn":"本溪市","code":"210500"},{"name_cn":"丹东市","code":"210600"},{"name_cn":"锦州市","code":"210700"},{"name_cn":"营口市","code":"210800"},{"name_cn":"阜新市","code":"210900"},{"name_cn":"辽阳市","code":"211000"},{"name_cn":"盘锦市","code":"211100"},{"name_cn":"铁岭市","code":"211200"},{"name_cn":"朝阳市","code":"211300"},{"name_cn":"葫芦岛市","code":"211400"}]},{"name_cn":"吉林省","abbreviate":"吉","code":"220000","cities":[{"name_cn":"长春市","code":"220100"},{"name_cn":"吉林市","code":"220200"},{"name_cn":"四平市","code":"220300"},{"name_cn":"辽源市","code":"220400"},{"name_cn":"通化市","code":"220500"},{"name_cn":"白山市","code":"220600"},{"name_cn":"松原市","code":"220700"},{"name_cn":"白城市","code":"220800"},{"name_cn":"延边朝鲜族自治州","code":"222400"}]},{"name_cn":"黑龙江省","abbreviate":"黑","code":"230000","cities":[{"name_cn":"哈尔滨市","code":"230100"},{"name_cn":"齐齐哈尔市","code":"230200"},{"name_cn":"鸡西市","code":"230300"},{"name_cn":"鹤岗市","code":"230400"},{"name_cn":"双鸭山市","code":"230500"},{"name_cn":"大庆市","code":"230600"},{"name_cn":"伊春市","code":"230700"},{"name_cn":"佳木斯市","code":"230800"},{"name_cn":"七台河市","code":"230900"},{"name_cn":"牡丹江市","code":"231000"},{"name_cn":"黑河市","code":"231100"},{"name_cn":"绥化市","code":"231200"},{"name_cn":"大兴安岭地区","code":"232700"}]},{"name_cn":"上海市","abbreviate":"沪","code":"310000","cities":[{"name_cn":"黄浦区","code":"310101"},{"name_cn":"徐汇区","code":"310104"},{"name_cn":"长宁区","code":"310105"},{"name_cn":"静安区","code":"310106"},{"name_cn":"普陀区","code":"310107"},{"name_cn":"虹口区","code":"310109"},{"name_cn":"杨浦区","code":"310110"},{"name_cn":"闵行区","code":"310112"},{"name_cn":"宝山区","code":"310113"},{"name_cn":"嘉定区","code":"310114"},{"name_cn":"浦东新区","code":"310115"},{"name_cn":"金山区","code":"310116"},{"name_cn":"松江区","code":"310117"},{"name_cn":"青浦区","code":"310118"},{"name_cn":"奉贤区","code":"310120"},{"name_cn":"崇明区","code":"310151"}]},{"name_cn":"江苏省","abbreviate":"苏","code":"320000","cities":[{"name_cn":"南京市","code":"320100"},{"name_cn":"无锡市","code":"320200"},{"name_cn":"徐州市","code":"320300"},{"name_cn":"常州市","code":"320400"},{"name_cn":"苏州市","code":"320500"},{"name_cn":"南通市","code":"320600"},{"name_cn":"连云港市","code":"320700"},{"name_cn":"淮安市","code":"320800"},{"name_cn":"盐城市","code":"320900"},{"name_cn":"扬州市","code":"321000"},{"name_cn":"镇江市","code":"321100"},{"name_cn":"泰州市","code":"321200"},{"name_cn":"宿迁市","code":"321300"}]},{"name_cn":"浙江省","abbreviate":"浙","code":"330000","cities":[{"name_cn":"杭州市","code":"330100"},{"name_cn":"宁波市","code":"330200"},{"name_cn":"温州市","code":"330300"},{"name_cn":"嘉兴市","code":"330400"},{"name_cn":"湖州市","code":"330500"},{"name_cn":"绍兴市","code":"330600"},{"name_cn":"金华市","code":"330700"},{"name_cn":"衢州市","code":"330800"},{"name_cn":"舟山市","code":"330900"},{"name_cn":"台州市","code":"331000"},{"name_cn":"丽水市","code":"331100"}]},{"name_cn":"安徽省","abbreviate":"皖","code":"340000","cities":[{"name_cn":"合肥市","code":"340100"},{"name_cn":"芜湖市","code":"340200"},{"name_cn":"蚌埠市","code":"340300"},{"name_cn":"淮南市","code":"340400"},{"name_cn":"马鞍山市","code":"340500"},{"name_cn":"淮北市","code":"340600"},{"name_cn":"铜陵市","code":"340700"},{"name_cn":"安庆市","code":"340800"},{"name_cn":"黄山市","code":"341000"},{"name_cn":"滁州市","code":"341100"},{"name_cn":"阜阳市","code":"341200"},{"name_cn":"宿州市","code":"341300"},{"name_cn":"六安市","code":"341500"},{"name_cn":"亳州市","code":"341600"},{"name_cn":"池州市","code":"341700"},{"name_cn":"宣城市","code":"341800"}]},{"name_cn":"福建省","abbreviate":"闽","code":"350000","cities":[{"name_cn":"福州市","code":"350100"},{"name_cn":"厦门市","code":"350200"},{"name_cn":"莆田市","code":"350300"},{"name_cn":"三明市","code":"350400"},{"name_cn":"泉州市","code":"350500"},{"name_cn":"漳州市","code":"350600"},{"name_cn":"南平市","code":"350700"},{"name_cn":"龙岩市","code":"350800"},{"name_cn":"宁德市","code":"350900"}]},{"name_cn":"江西省","abbreviate":"赣","code":"360000","cities":[{"name_cn":"南昌市","code":"360100"},{"name_cn":"景德镇市","code":"360200"},{"name_cn":"萍乡市","code":"360300"},{"name_cn":"九江市","code":"360400"},{"name_cn":"新余市","code":"360500"},{"name_cn":"鹰潭市","code":"360600"},{"name_cn":"赣州市","code":"360700"},{"name_cn":"吉安市","code":"360800"},{"name_cn":"宜春市","code":"360900"},{"name_cn":"抚州市","code":"361000"},{"name_cn":"上饶市","code":"361100"}]},{"name_cn":"山东省","abbreviate":"鲁","code":"370000","cities":[{"name_cn":"济南市","code":"370100"},{"name_cn":"青岛市","code":"370200"},{"name_cn":"淄博市","code":"370300"},{"name_cn":"枣庄市","code":"370400"},{"name_cn":"东营市","code":"370500"},{"name_cn":"烟台市","code":"370600"},{"name_cn":"潍坊市","code":"370700"},{"name_cn":"济宁市","code":"370800"},{"name_cn":"泰安市","code":"370900"},{"name_cn":"威海市","code":"371000"},{"name_cn":"日照市","code":"371100"},{"name_cn":"临沂市","code":"371300"},{"name_cn":"德州市","code":"371400"},{"name_cn":"聊城市","code":"371500"},{"name_cn":"滨州市","code":"371600"},{"name_cn":"菏泽市","code":"371700"}]},{"name_cn":"河南省","abbreviate":"豫","code":"410000","cities":[{"name_cn":"郑州市","code":"410100"},{"name_cn":"开封市","code":"410200"},{"name_cn":"洛阳市","code":"410300"},{"name_cn":"平顶山市","code":"410400"},{"name_cn":"安阳市","code":"410500"},{"name_cn":"鹤壁市","code":"410600"},{"name_cn":"新乡市","code":"410700"},{"name_cn":"焦作市","code":"410800"},{"name_cn":"濮阳市","code":"410900"},{"name_cn":"许昌市","code":"411000"},{"name_cn":"漯河市","code":"411100"},{"name_cn":"三门峡市","code":"411200"},{"name_cn":"南阳市","code":"411300"},{"name_cn":"商丘市","code":"411400"},{"name_cn":"信阳市","code":"411500"},{"name_cn":"周口市","code":"411600"},{"name_cn":"驻马店市","code":"411700"}]},{"name_cn":"湖北省","abbreviate":"鄂","code":"420000","cities":[{"name_cn":"武汉市","code":"420100"},{"name_cn":"黄石市","code":"420200"},{"name_cn":"十堰市","code":"420300"},{"name_cn":"宜昌市","code":"420500"},{"name_cn":"襄阳市","code":"420600"},{"name_cn":"鄂州市","code":"420700"},{"name_cn":"荆门市","code":"420800"},{"name_cn":"孝感市","code":"420900"},{"name_cn":"荆州市","code":"421000"},{"name_cn":"黄冈市","code":"421100"},{"name_cn":"咸宁市","code":"421200"},{"name_cn":"随州市","code":"421300"},{"name_cn":"恩施土家族苗族自治州","code":"422800"}]},{"name_cn":"湖南省","abbreviate":"湘","code":"430000","cities":[{"name_cn":"长沙市","code":"430100"},{"name_cn":"株洲市","code":"430200"},{"name_cn":"湘潭市","code":"430300"},{"name_cn":"衡阳市","code":"430400"},{"name_cn":"邵阳市","code":"430500"},{"name_cn":"岳阳市","code":"430600"},{"name_cn":"常德市","code":"430700"},{"name_cn":"张家界市","code":"430800"},{"name_cn":"益阳市","code":"430900"},{"name_cn":"郴州市","code":"431000"},{"name_cn":"永州市","code":"431100"},{"name_cn":"怀化市","code":"431200"},{"name_cn":"娄底市","code":"431300"},{"name_cn":"湘西土家族苗族自治州","code":"433100"}]},{"name_cn":"广东省","abbreviate":"粤","code":"440000","cities":[{"name_cn":"广州市","code":"440100"},{"name_cn":"韶关市","code":"440200"},{"name_cn":"深圳市","code":"440300"},{"name_cn":"珠海市","code":"440400"},{"name_cn":"汕头市","code":"440500"},{"name_cn":"佛山市","code":"440600"},{"name_cn":"江门市","code":"440700"},{"name_cn":"湛江市","code":"440800"},{"name_cn":"茂名市","code":"440900"},{"name_cn":"肇庆市","code":"441200"},{"name_cn":"惠州市","code":"441300"},{"name_cn":"梅州市","code":"441400"},{"name_cn":"汕尾市","code":"441500"},{"name_cn":"河源市","code":"441600"},{"name_cn":"阳江市","code":"441700"},{"name_cn":"清远市","code":"441800"},{"name_cn":"东莞市","code":"441900"},{"name_cn":"中山市","code":"442000"},{"name_cn":"潮州市","code":"445100"},{"name_cn":"揭阳市","code":"445200"},{"name_cn":"云浮市","code":"445300"}]},{"name_cn":"广西壮族自治区","abbreviate":"桂","code":"450000","cities":[{"name_cn":"南宁市","code":"450100"},{"name_cn":"柳州市","code":"450200"},{"name_cn":"桂林市","code":"450300"},{"name_cn":"梧州市","code":"450400"},{"name_cn":"北海市","code":"450500"},{"name_cn":"防城港市","code":"450600"},{"name_cn":"钦州市","code":"450700"},{"name_cn":"贵港市","code":"450800"},{"name_cn":"玉林市","code":"450900"},{"name_cn":"百色市","code":"451000"},{"name_cn":"贺州市","code":"451100"},{"name_cn":"河池市","code":"451200"},{"name_cn":"来宾市","code":"451300"},{"name_cn":"崇左市","code":"451400"}]},{"name_cn":"海南省","abbreviate":"琼","code":"460000","cities":[{"name_cn":"海口市","code":"460100"},{"name_cn":"三亚市","code":"460200"},{"name_cn":"三沙市","code":"460300"},{"name_cn":"儋州市","code":"460400"}]},{"name_cn":"重庆市","abbreviate":"渝","code":"500000","cities":[{"name_cn":"万州区","code":"500101"},{"name_cn":"涪陵区","code":"500102"},{"name_cn":"渝中区","code":"500103"},{"name_cn":"大渡口区","code":"500104"},{"name_cn":"江北区","code":"500105"},{"name_cn":"沙坪坝区","code":"500106"},{"name_cn":"九龙坡区","code":"500107"},{"name_cn":"南岸区","code":"500108"},{"name_cn":"北碚区","code":"500109"},{"name_cn":"綦江区","code":"500110"},{"name_cn":"大足区","code":"500111"},{"name_cn":"渝北区","code":"500112"},{"name_cn":"巴南区","code":"500113"},{"name_cn":"黔江区","code":"500114"},{"name_cn":"长寿区","code":"500115"},{"name_cn":"江津区","code":"500116"},{"name_cn":"合川区","code":"500117"},{"name_cn":"永川区","code":"500118"},{"name_cn":"南川区","code":"500119"},{"name_cn":"璧山区","code":"500120"},{"name_cn":"铜梁区","code":"500151"},{"name_cn":"潼南区","code":"500152"},{"name_cn":"荣昌区","code":"500153"},{"name_cn":"开州区","code":"500154"},{"name_cn":"梁平区","code":"500155"},{"name_cn":"武隆区","code":"500156"},{"name_cn":"城口县","code":"500229"},{"name_cn":"丰都县","code":"500230"},{"name_cn":"垫江县","code":"500231"},{"name_cn":"忠县","code":"500233"},{"name_cn":"云阳县","code":"500235"},{"name_cn":"奉节县","code":"500236"},{"name_cn":"巫山县","code":"500237"},{"name_cn":"巫溪县","code":"500238"},{"name_cn":"石柱土家族自治县","code":"500240"},{"name_cn":"秀山土家族苗族自治县","code":"500241"},{"name_cn":"酉阳土家族苗族自治县","code":"500242"},{"name_cn":"彭水苗族土家族自治县","code":"500243"}]},{"name_cn":"四川省","abbreviate":"川","code":"510000","cities":[{"name_cn":"成都市","code":"510100"},{"name_cn":"自贡市","code":"510300"},{"name_cn":"攀枝花市","code":"510400"},{"name_cn":"泸州市","code":"510500"},{"name_cn":"德阳市","code":"510600"},{"name_cn":"绵阳市","code":"510700"},{"name_cn":"广元市","code":"510800"},{"name_cn":"遂宁市","code":"510900"},{"name_cn":"内江市","code":"511000"},{"name_cn":"乐山市","code":"511100"},{"name_cn":"南充市","code":"511300"},{"name_cn":"眉山市","code":"511400"},{"name_cn":"宜宾市","code":"511500"},{"name_cn":"广安市","code":"511600"},{"name_cn":"达州市","code":"511700"},{"name_cn":"雅安市","code":"511800"},{"name_cn":"巴中市","code":"511900"},{"name_cn":"资阳市","code":"512000"},{"name_cn":"阿坝藏族羌族自治州","code":"513200"},{"name_cn":"甘孜藏族自治州","code":"513300"},{"name_cn":"凉山彝族自治州","code":"513400"}]},{"name_cn":"贵州省","abbreviate":"贵","code":"520000","cities":[{"name_cn":"贵阳市","code":"520100"},{"name_cn":"六盘水市","code":"520200"},{"name_cn":"遵义市","code":"520300"},{"name_cn":"安顺市","code":"520400"},{"name_cn":"毕节市","code":"520500"},{"name_cn":"铜仁市","code":"520600"},{"name_cn":"黔西南布依族苗族自治州","code":"522300"},{"name_cn":"黔东南苗族侗族自治州","code":"522600"},{"name_cn":"黔南布依族苗族自治州","code":"522700"}]},{"name_cn":"云南省","abbreviate":"云","code":"530000","cities":[{"name_cn":"昆明市","code":"530100"},{"name_cn":"曲靖市","code":"530300"},{"name_cn":"玉溪市","code":"530400"},{"name_cn":"保山市","code":"530500"},{"name_cn":"昭通市","code":"530600"},{"name_cn":"丽江市","code":"530700"},{"name_cn":"普洱市","code":"530800"},{"name_cn":"临沧市","code":"530900"},{"name_cn":"楚雄彝族自治州","code":"532300"},{"name_cn":"红河哈尼族彝族自治州","code":"532500"},{"name_cn":"文山壮族苗族自治州","code":"532600"},{"name_cn":"西双版纳傣族自治州","code":"532800"},{"name_cn":"大理白族自治州","code":"532900"},{"name_cn":"德宏傣族景颇族自治州","code":"533100"},{"name_cn":"怒江傈僳族自治州","code":"533300"},{"name_cn":"迪庆藏族自治州","code":"533400"}]},{"name_cn":"西藏自治区","abbreviate":"藏","code":"540000","cities":[{"name_cn":"拉萨市","code":"540100"},{"name_cn":"日喀则市","code":"540200"},{"name_cn":"昌都市","code":"540300"},{"name_cn":"林芝市","code":"540400"},{"name_cn":"山南市","code":"540500"},{"name_cn":"那曲市","code":"540600"},{"name_cn":"阿里地区","code":"542500"}]},{"name_cn":"陕西省","abbreviate":"陕","code":"610000","cities":[{"name_cn":"西安市","code":"610100"},{"name_cn":"铜川市","code":"610200"},{"name_cn":"宝鸡市","code":"610300"},{"name_cn":"咸阳市","code":"610400"},{"name_cn":"渭南市","code":"610500"},{"name_cn":"延安市","code":"610600"},{"name_cn":"汉中市","code":"610700"},{"name_cn":"榆林市","code":"610800"},{"name_cn":"安康市","code":"610900"},{"name_cn":"商洛市","code":"611000"}]},{"name_cn":"甘肃省","abbreviate":"甘","code":"620000","cities":[{"name_cn":"兰州市","code":"620100"},{"name_cn":"嘉峪关市","code":"620200"},{"name_cn":"金昌市","code":"620300"},{"name_cn":"白银市","code":"620400"},{"name_cn":"天水市","code":"620500"},{"name_cn":"武威市","code":"620600"},{"name_cn":"张掖市","code":"620700"},{"name_cn":"平凉市","code":"620800"},{"name_cn":"酒泉市","code":"620900"},{"name_cn":"庆阳市","code":"621000"},{"name_cn":"定西市","code":"621100"},{"name_cn":"陇南市","code":"621200"},{"name_cn":"临夏回族自治州","code":"622900"},{"name_cn":"甘南藏族自治州","code":"623000"}]},{"name_cn":"青海省","abbreviate":"青","code":"630000","cities":[{"name_cn":"西宁市","code":"630100"},{"name_cn":"海东市","code":"630200"},{"name_cn":"海北藏族自治州","code":"632200"},{"name_cn":"黄南藏族自治州","code":"632300"},{"name_cn":"海南藏族自治州","code":"632500"},{"name_cn":"果洛藏族自治州","code":"632600"},{"name_cn":"玉树藏族自治州","code":"632700"},{"name_cn":"海西蒙古族藏族自治州","code":"632800"}]},{"name_cn":"宁夏回族自治区","abbreviate":"宁","code":"640000","cities":[{"name_cn":"银川市","code":"640100"},{"name_cn":"石嘴山市","code":"640200"},{"name_cn":"吴忠市","code":"640300"},{"name_cn":"固原市","code":"640400"},{"name_cn":"中卫市","code":"640500"}]},{"name_cn":"新疆维吾尔自治区","abbreviate":"新","code":"650000","cities":[{"name_cn":"乌鲁木齐市","code":"650100"},{"name_cn":"克拉玛依市","code":"650200"},{"name_cn":"吐鲁番市","code":"650400"},{"name_cn":"哈密市","code":"650500"},{"name_cn":"昌吉回族自治州","code":"652300"},{"name_cn":"博尔塔拉蒙古自治州","code":"652700"},{"name_cn":"巴音郭楞蒙古自治州","code":"652800"},{"name_cn":"阿克苏地区","code":"652900"},{"name_cn":"克孜勒苏柯尔克孜自治州","code":"653000"},{"name_cn":"喀什地区","code":"653100"},{"name_cn":"和田地区","code":"653200"},{"name_cn":"伊犁哈萨克自治州","code":"654000"},{"name_cn":"塔城地区","code":"654200"},{"name_cn":"阿勒泰地区","code":"654300"}]},{"name_cn":"台湾省","abbreviate":"台","code":"710000","cities":[{"name_cn":"新北市","code":"711000"},{"name_cn":"高雄市","code":"712000"},{"name_cn":"台中市","code":"713000"},{"name_cn":"台北市","code":"714000"},{"name_cn":"桃园市","code":"715000"},{"name_cn":"台南市","code":"716000"},{"name_cn":"基隆市","code":"717000"},{"name_cn":"新竹市","code":"718000"},{"name_cn":"嘉义市","code":"719000"},{"name_cn":"新竹县","code":"711100"},{"name_cn":"苗栗县","code":"711200"},{"name_cn":"彰化县","code":"711300"},{"name_cn":"南投县","code":"711400"},{"name_cn":"云林县","code":"711500"},{"name_cn":"嘉义县","code":"711600"},{"name_cn":"屏东县","code":"711700"},{"name_cn":"宜兰县","code":"711800"},{"name_cn":"花莲县","code":"711900"},{"name_cn":"台东县","code":"712100"},{"name_cn":"澎湖县","code":"712200"}]},{"name_cn":"香港特别行政区","abbreviate":"港","code":"810000","cities":[{"name_cn":"香港岛","code":"811000"},{"name_cn":"九龙","code":"812000"},{"name_cn":"新界","code":"813000"}]},{"name_cn":"澳门特别行政区","abbreviate":"澳","code":"820000","cities":[{"name_cn":"澳门半岛","code":"821000"},{"name_cn":"澳门离岛","code":"822000"}]}]},{"code":"0093","country_id":2,"name_cn":"阿富汗","name_en":"Afghanistan"},{"code":"00355","country_id":3,"name_cn":"阿尔巴尼亚","name_en":"Albania"},{"code":"00213","country_id":4,"name_cn":"阿尔及利亚","name_en":"Algeria"},{"code":"00376","country_id":5,"name_cn":"安道尔共和国","name_en":"Andorra"},{"code":"00244","country_id":1,"name_cn":"安哥拉","name_en":"Angola"},{"code":"001264","country_id":6,"name_cn":"安圭拉岛","name_en":"Anguilla"},{"code":"001268","country_id":7,"name_cn":"安提瓜和巴布达","name_en":"Antigua and Barbuda"},{"code":"0054","country_id":8,"name_cn":"阿根廷","name_en":"Argentina"},{"code":"00374","country_id":9,"name_cn":"亚美尼亚","name_en":"Armenia"},{"code":"00297","country_id":194,"name_cn":"阿鲁巴","name_en":"Aruba"},{"code":"00247","country_id":10,"name_cn":"阿森松","name_en":"Ascension"},{"code":"0061","country_id":11,"name_cn":"澳大利亚","name_en":"Australia"},{"code":"00672","country_id":195,"name_cn":"澳大利亚海外领地","name_en":"Australian overseas territories"},{"code":"0043","country_id":12,"name_cn":"奥地利","name_en":"Austria"},{"code":"00994","country_id":13,"name_cn":"阿塞拜疆","name_en":"Azerbaijan"},{"code":"001242","country_id":14,"name_cn":"巴哈马","name_en":"Bahamas"},{"code":"00973","country_id":15,"name_cn":"巴林","name_en":"Bahrain"},{"code":"00880","country_id":16,"name_cn":"孟加拉国","name_en":"Bangladesh"},{"code":"001246","country_id":17,"name_cn":"巴巴多斯","name_en":"Barbados"},{"code":"00375","country_id":18,"name_cn":"白俄罗斯","name_en":"Belarus"},{"code":"0032","country_id":19,"name_cn":"比利时","name_en":"Belgium"},{"code":"00501","country_id":20,"name_cn":"伯利兹","name_en":"Belize"},{"code":"00229","country_id":21,"name_cn":"贝宁","name_en":"Benin"},{"code":"001441","country_id":22,"name_cn":"百慕大群岛","name_en":"Bermuda"},{"code":"00975","country_id":196,"name_cn":"不丹","name_en":"Bhutan"},{"code":"00591","country_id":23,"name_cn":"玻利维亚","name_en":"Bolivia"},{"code":"00387","country_id":197,"name_cn":"波斯尼亚和黑塞哥维那","name_en":"Bosnia and Herzegovina"},{"code":"00267","country_id":24,"name_cn":"博茨瓦纳","name_en":"Botswana"},{"code":"0055","country_id":25,"name_cn":"巴西","name_en":"Brazil"},{"code":"001284","country_id":229,"name_cn":"英属维尔京群岛","name_en":"British Virgin Islands"},{"code":"00673","country_id":26,"name_cn":"文莱","name_en":"Brunei"},{"code":"00359","country_id":27,"name_cn":"保加利亚","name_en":"Bulgaria"},{"code":"00226","country_id":28,"name_cn":"布基纳法索","name_en":"Burkina Faso"},{"code":"00257","country_id":30,"name_cn":"布隆迪","name_en":"Burundi"},{"code":"00855","country_id":85,"name_cn":"柬埔寨","name_en":"Cambodia"},{"code":"00237","country_id":31,"name_cn":"喀麦隆","name_en":"Cameroon"},{"code":"001","country_id":32,"name_cn":"加拿大","name_en":"Canada"},{"code":"00238","country_id":198,"name_cn":"佛得角","name_en":"Cape Verde"},{"code":"001345","country_id":33,"name_cn":"开曼群岛","name_en":"Cayman Islands"},{"code":"00236","country_id":34,"name_cn":"中非共和国","name_en":"Central African Republic"},{"code":"00235","country_id":35,"name_cn":"乍得","name_en":"Chad"},{"code":"0056","country_id":36,"name_cn":"智利","name_en":"Chile"},{"code":"0057","country_id":38,"name_cn":"哥伦比亚","name_en":"Colombia"},{"code":"00269","country_id":199,"name_cn":"科摩罗群岛","name_en":"Comoros Islands"},{"code":"00243","country_id":39,"name_cn":"刚果","name_en":"Congo"},{"code":"00682","country_id":40,"name_cn":"库克群岛","name_en":"Cook Islands."},{"code":"00506","country_id":41,"name_cn":"哥斯达黎加","name_en":"Costa Rica"},{"code":"00385","country_id":200,"name_cn":"克罗地亚","name_en":"Croatia"},{"code":"0053","country_id":42,"name_cn":"古巴","name_en":"Cuba"},{"code":"00357","country_id":43,"name_cn":"塞浦路斯","name_en":"Cyprus"},{"code":"00420","country_id":44,"name_cn":"捷克","name_en":"Czech Republic"},{"code":"0045","country_id":45,"name_cn":"丹麦","name_en":"Denmark"},{"code":"00246","country_id":201,"name_cn":"迭戈加西亚群岛","name_en":"Diego Garcia"},{"code":"00253","country_id":46,"name_cn":"吉布提","name_en":"Djibouti"},{"code":"001767","country_id":232,"name_cn":"多米尼克国","name_en":"Dominica"},{"code":"001809","country_id":47,"name_cn":"多米尼加共和国","name_en":"Dominican Republic"},{"code":"00670","country_id":202,"name_cn":"东帝汶","name_en":"East Timor"},{"code":"00593","country_id":48,"name_cn":"厄瓜多尔","name_en":"Ecuador"},{"code":"0020","country_id":49,"name_cn":"埃及","name_en":"Egypt"},{"code":"00503","country_id":50,"name_cn":"萨尔瓦多","name_en":"El Salvador"},{"code":"009714","country_id":230,"name_cn":"迪拜酋长国","name_en":"Emirate of Dubai"},{"code":"00240","country_id":203,"name_cn":"赤道几内亚","name_en":"Equatorial Guinea"},{"code":"00291","country_id":204,"name_cn":"厄立特里亚","name_en":"Eritrea"},{"code":"00372","country_id":51,"name_cn":"爱沙尼亚","name_en":"Estonia"},{"code":"00251","country_id":52,"name_cn":"埃塞俄比亚","name_en":"Ethiopia"},{"code":"00500","country_id":205,"name_cn":"福克兰群岛","name_en":"Falkland Islands"},{"code":"00298","country_id":206,"name_cn":"法罗群岛","name_en":"Faroe Islands"},{"code":"00679","country_id":53,"name_cn":"斐济","name_en":"Fiji"},{"code":"00358","country_id":54,"name_cn":"芬兰","name_en":"Finland"},{"code":"0033","country_id":55,"name_cn":"法国","name_en":"France"},{"code":"00594","country_id":56,"name_cn":"法属圭亚那","name_en":"French Guiana"},{"code":"00689","country_id":136,"name_cn":"法属玻利尼西亚","name_en":"French Polynesia"},{"code":"00241","country_id":57,"name_cn":"加蓬","name_en":"Gabon"},{"code":"00220","country_id":58,"name_cn":"冈比亚","name_en":"Gambia"},{"code":"00995","country_id":59,"name_cn":"格鲁吉亚","name_en":"Georgia"},{"code":"0049","country_id":60,"name_cn":"德国","name_en":"Germany"},{"code":"00233","country_id":61,"name_cn":"加纳","name_en":"Ghana"},{"code":"00350","country_id":62,"name_cn":"直布罗陀","name_en":"Gibraltar"},{"code":"0030","country_id":63,"name_cn":"希腊","name_en":"Greece"},{"code":"00299","country_id":207,"name_cn":"格陵兰岛","name_en":"Greenland"},{"code":"001473","country_id":64,"name_cn":"格林纳达","name_en":"Grenada"},{"code":"00590","country_id":208,"name_cn":"瓜德罗普","name_en":"Guadeloupe"},{"code":"001671","country_id":65,"name_cn":"关岛","name_en":"Guam"},{"code":"00502","country_id":66,"name_cn":"危地马拉","name_en":"Guatemala"},{"code":"00224","country_id":67,"name_cn":"几内亚","name_en":"Guinea"},{"code":"00245","country_id":209,"name_cn":"几内亚比绍","name_en":"Guinea-Bissau"},{"code":"00592","country_id":68,"name_cn":"圭亚那","name_en":"Guyana"},{"code":"00509","country_id":69,"name_cn":"海地","name_en":"Haiti"},{"code":"00504","country_id":70,"name_cn":"洪都拉斯","name_en":"Honduras"},{"code":"00852","country_id":71,"name_cn":"中国香港","name_en":"Hong Kong (China)"},{"code":"0036","country_id":72,"name_cn":"匈牙利","name_en":"Hungary"},{"code":"00354","country_id":73,"name_cn":"冰岛","name_en":"Iceland"},{"code":"0091","country_id":74,"name_cn":"印度","name_en":"India"},{"code":"0062","country_id":75,"name_cn":"印度尼西亚","name_en":"Indonesia"},{"code":"0098","country_id":76,"name_cn":"伊朗","name_en":"Iran"},{"code":"00964","country_id":77,"name_cn":"伊拉克","name_en":"Iraq"},{"code":"00353","country_id":78,"name_cn":"爱尔兰","name_en":"Ireland"},{"code":"00441624","country_id":235,"name_cn":"马恩岛","name_en":"Isle of Man"},{"code":"00972","country_id":79,"name_cn":"以色列","name_en":"Israel"},{"code":"0039","country_id":80,"name_cn":"意大利","name_en":"Italy"},{"code":"00225","country_id":81,"name_cn":"科特迪瓦","name_en":"Ivory Coast"},{"code":"001876","country_id":82,"name_cn":"牙买加","name_en":"Jamaica"},{"code":"0081","country_id":83,"name_cn":"日本","name_en":"Japan"},{"code":"0044","country_id":231,"name_cn":"泽西","name_en":"Jersey"},{"code":"00962","country_id":84,"name_cn":"约旦","name_en":"Jordan"},{"code":"007","country_id":86,"name_cn":"哈萨克斯坦","name_en":"Kazakhstan"},{"code":"00254","country_id":87,"name_cn":"肯尼亚","name_en":"Kenya"},{"code":"00686","country_id":210,"name_cn":"基里巴斯","name_en":"Kiribati"},{"code":"0082","country_id":88,"name_cn":"韩国","name_en":"Korea"},{"code":"00383","country_id":234,"name_cn":"科索沃","name_en":"Kosovo"},{"code":"00965","country_id":89,"name_cn":"科威特","name_en":"Kuwait"},{"code":"00996","country_id":90,"name_cn":"吉尔吉斯坦","name_en":"Kyrgyzstan"},{"code":"00856","country_id":91,"name_cn":"老挝","name_en":"Laos"},{"code":"00371","country_id":92,"name_cn":"拉脱维亚","name_en":"Latvia"},{"code":"00961","country_id":93,"name_cn":"黎巴嫩","name_en":"Lebanon"},{"code":"00266","country_id":94,"name_cn":"莱索托","name_en":"Lesotho"},{"code":"00231","country_id":95,"name_cn":"利比里亚","name_en":"Liberia"},{"code":"00218","country_id":96,"name_cn":"利比亚","name_en":"Libya"},{"code":"00423","country_id":97,"name_cn":"列支敦士登","name_en":"Liechtenstein"},{"code":"00370","country_id":98,"name_cn":"立陶宛","name_en":"Lithuania"},{"code":"00352","country_id":99,"name_cn":"卢森堡","name_en":"Luxembourg"},{"code":"00389","country_id":211,"name_cn":"马其顿","name_en":"Macedonia"},{"code":"00261","country_id":101,"name_cn":"马达加斯加","name_en":"Madagascar"},{"code":"00265","country_id":102,"name_cn":"马拉维","name_en":"Malawi"},{"code":"0060","country_id":103,"name_cn":"马来西亚","name_en":"Malaysia"},{"code":"00960","country_id":104,"name_cn":"马尔代夫","name_en":"Maldives"},{"code":"00223","country_id":105,"name_cn":"马里","name_en":"Mali"},{"code":"00356","country_id":106,"name_cn":"马耳他","name_en":"Malta"},{"code":"00223","country_id":107,"name_cn":"马里亚那群岛","name_en":"Mariana Islands"},{"code":"00692","country_id":212,"name_cn":"马绍尔群岛","name_en":"Marshall Islands"},{"code":"00596","country_id":108,"name_cn":"马提尼克","name_en":"Martinique"},{"code":"00222","country_id":213,"name_cn":"毛里塔尼亚","name_en":"Mauritania"},{"code":"00230","country_id":109,"name_cn":"毛里求斯","name_en":"Mauritius"},{"code":"0052","country_id":110,"name_cn":"墨西哥","name_en":"Mexico"},{"code":"00691","country_id":214,"name_cn":"密克罗尼西亚","name_en":"Micronesia"},{"code":"00373","country_id":111,"name_cn":"摩尔多瓦","name_en":"Moldova"},{"code":"00377","country_id":112,"name_cn":"摩纳哥","name_en":"Monaco"},{"code":"00976","country_id":113,"name_cn":"蒙古","name_en":"Mongolia"},{"code":"00382","country_id":215,"name_cn":"黑山","name_en":"Montenegro"},{"code":"001664","country_id":114,"name_cn":"蒙特塞拉特岛","name_en":"Montserrat"},{"code":"00212","country_id":115,"name_cn":"摩洛哥","name_en":"Morocco"},{"code":"00258","country_id":116,"name_cn":"莫桑比克","name_en":"Mozambique"},{"code":"0095","country_id":29,"name_cn":"缅甸","name_en":"Myanmar"},{"code":"00264","country_id":117,"name_cn":"纳米比亚","name_en":"Namibia"},{"code":"00674","country_id":118,"name_cn":"瑙鲁","name_en":"Nauru"},{"code":"00977","country_id":119,"name_cn":"尼泊尔","name_en":"Nepal"},{"code":"00599","country_id":120,"name_cn":"荷属安的列斯","name_en":"Netheriands Antilles"},{"code":"0031","country_id":121,"name_cn":"荷兰","name_en":"Netherlands"},{"code":"00687","country_id":216,"name_cn":"新喀里多尼亚","name_en":"New Caledonia"},{"code":"0064","country_id":122,"name_cn":"新西兰","name_en":"New Zealand"},{"code":"00505","country_id":123,"name_cn":"尼加拉瓜","name_en":"Nicaragua"},{"code":"00227","country_id":124,"name_cn":"尼日尔","name_en":"Niger"},{"code":"00234","country_id":125,"name_cn":"尼日利亚","name_en":"Nigeria"},{"code":"00683","country_id":217,"name_cn":"纽埃岛","name_en":"Niue"},{"code":"00850","country_id":126,"name_cn":"朝鲜","name_en":"North Korea"},{"code":"0047","country_id":127,"name_cn":"挪威","name_en":"Norway"},{"code":"00968","country_id":128,"name_cn":"阿曼","name_en":"Oman"},{"code":"0092","country_id":129,"name_cn":"巴基斯坦","name_en":"Pakistan"},{"code":"00680","country_id":218,"name_cn":"帕劳","name_en":"Palau"},{"code":"00970","country_id":219,"name_cn":"巴勒斯坦","name_en":"Palestine"},{"code":"00507","country_id":130,"name_cn":"巴拿马","name_en":"Panama"},{"code":"00675","country_id":131,"name_cn":"巴布亚新几内亚","name_en":"Papua New Guinea"},{"code":"00595","country_id":132,"name_cn":"巴拉圭","name_en":"Paraguay"},{"code":"0051","country_id":133,"name_cn":"秘鲁","name_en":"Peru"},{"code":"0063","country_id":134,"name_cn":"菲律宾","name_en":"Philippines"},{"code":"0048","country_id":135,"name_cn":"波兰","name_en":"Poland"},{"code":"00351","country_id":137,"name_cn":"葡萄牙","name_en":"Portugal"},{"code":"001","country_id":138,"name_cn":"波多黎各","name_en":"Puerto Rico"},{"code":"00974","country_id":139,"name_cn":"卡塔尔","name_en":"Qatar"},{"code":"00262","country_id":140,"name_cn":"留尼旺","name_en":"Reunion"},{"code":"0040","country_id":141,"name_cn":"罗马尼亚","name_en":"Romania"},{"code":"007","country_id":142,"name_cn":"俄罗斯","name_en":"Russia"},{"code":"00250","country_id":220,"name_cn":"卢旺达","name_en":"Rwanda"},{"code":"001869","country_id":233,"name_cn":"圣基茨和尼维斯","name_en":"Saint Kitts and Nevis"},{"code":"00508","country_id":222,"name_cn":"圣皮埃尔和密克隆群岛","name_en":"Saint Pierre and Miquelon"},{"code":"001784","country_id":144,"name_cn":"圣文森特岛","name_en":"Saint Vincent"},{"code":"00684","country_id":145,"name_cn":"东萨摩亚(美)","name_en":"Samoa Eastern"},{"code":"00685","country_id":146,"name_cn":"西萨摩亚","name_en":"Samoa Western"},{"code":"00378","country_id":147,"name_cn":"圣马力诺","name_en":"San Marino"},{"code":"00239","country_id":148,"name_cn":"圣多美和普林西比","name_en":"Sao Tome and Principe"},{"code":"00966","country_id":149,"name_cn":"沙特阿拉伯","name_en":"Saudi Arabia"},{"code":"00221","country_id":150,"name_cn":"塞内加尔","name_en":"Senegal"},{"code":"00381","country_id":223,"name_cn":"塞尔维亚","name_en":"Serbia"},{"code":"00248","country_id":151,"name_cn":"塞舌尔","name_en":"Seychelles"},{"code":"00232","country_id":152,"name_cn":"塞拉利昂","name_en":"Sierra Leone"},{"code":"0065","country_id":153,"name_cn":"新加坡","name_en":"Singapore"},{"code":"00421","country_id":154,"name_cn":"斯洛伐克","name_en":"Slovakia"},{"code":"00386","country_id":155,"name_cn":"斯洛文尼亚","name_en":"Slovenia"},{"code":"00677","country_id":156,"name_cn":"所罗门群岛","name_en":"Solomon Islands"},{"code":"00252","country_id":157,"name_cn":"索马里","name_en":"Somalia"},{"code":"0027","country_id":158,"name_cn":"南非","name_en":"South Africa"},{"code":"0034","country_id":159,"name_cn":"西班牙","name_en":"Spain"},{"code":"0094","country_id":160,"name_cn":"斯里兰卡","name_en":"Sri Lanka"},{"code":"00290","country_id":221,"name_cn":"圣赫勒拿岛","name_en":"St.Helena"},{"code":"001758","country_id":161,"name_cn":"圣卢西亚","name_en":"St.Lucia"},{"code":"001784","country_id":162,"name_cn":"圣文森特","name_en":"St.Vincent"},{"code":"00249","country_id":163,"name_cn":"苏丹","name_en":"Sudan"},{"code":"00597","country_id":164,"name_cn":"苏里南","name_en":"Suriname_cn"},{"code":"00268","country_id":165,"name_cn":"斯威士兰","name_en":"Swaziland"},{"code":"0046","country_id":166,"name_cn":"瑞典","name_en":"Sweden"},{"code":"0041","country_id":167,"name_cn":"瑞士","name_en":"Switzerland"},{"code":"00963","country_id":168,"name_cn":"叙利亚","name_en":"Syria"},{"code":"00886","country_id":169,"name_cn":"中国台湾","name_en":"Taiwan (China)"},{"code":"00992","country_id":170,"name_cn":"塔吉克斯坦","name_en":"Tajikistan"},{"code":"00255","country_id":171,"name_cn":"坦桑尼亚","name_en":"Tanzania"},{"code":"0066","country_id":172,"name_cn":"泰国","name_en":"Thailand"},{"code":"00228","country_id":173,"name_cn":"多哥","name_en":"Togo"},{"code":"00690","country_id":224,"name_cn":"托克劳群岛","name_en":"Tokelau"},{"code":"00676","country_id":174,"name_cn":"汤加","name_en":"Tonga"},{"code":"001868","country_id":175,"name_cn":"特立尼达和多巴哥","name_en":"Trinidad and Tobago"},{"code":"00216","country_id":176,"name_cn":"突尼斯","name_en":"Tunisia"},{"code":"0090","country_id":177,"name_cn":"土耳其","name_en":"Turkey"},{"code":"00993","country_id":178,"name_cn":"土库曼斯坦","name_en":"Turkmenistan"},{"code":"00688","country_id":225,"name_cn":"图瓦卢","name_en":"Tuvalu"},{"code":"00256","country_id":179,"name_cn":"乌干达","name_en":"Uganda"},{"code":"00380","country_id":180,"name_cn":"乌克兰","name_en":"Ukraine"},{"code":"00971","country_id":181,"name_cn":"阿拉伯联合酋长国","name_en":"United Arab Emirates"},{"code":"0044","country_id":182,"name_cn":"英国","name_en":"United Kingdom"},{"code":"001","country_id":183,"name_cn":"美国","name_en":"United States of America"},{"code":"00598","country_id":184,"name_cn":"乌拉圭","name_en":"Uruguay"},{"code":"00998","country_id":185,"name_cn":"乌兹别克斯坦","name_en":"Uzbekistan"},{"code":"00678","country_id":226,"name_cn":"瓦努阿图","name_en":"Vanuatu"},{"code":"00379","country_id":227,"name_cn":"梵蒂冈城","name_en":"Vatican City"},{"code":"0058","country_id":186,"name_cn":"委内瑞拉","name_en":"Venezuela"},{"code":"0084","country_id":187,"name_cn":"越南","name_en":"Vietnam"},{"code":"00681","country_id":228,"name_cn":"瓦利斯和富图纳","name_en":"Wallis and Futuna"},{"code":"00967","country_id":188,"name_cn":"也门","name_en":"Yemen"},{"code":"00338","country_id":189,"name_cn":"南斯拉夫","name_en":"Yugoslavia"},{"code":"00243","country_id":192,"name_cn":"扎伊尔","name_en":"Zaire"},{"code":"00260","country_id":193,"name_cn":"赞比亚","name_en":"Zambia"},{"code":"00263","country_id":191,"name_cn":"津巴布韦","name_en":"Zimbabwe"}]')},"7cad":function(e,t,n){},"7cbd":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("el-row",{attrs:{gutter:20}},[n("el-checkbox-group",{on:{change:e.handleChange},model:{value:e.checkedAssetIds,callback:function(t){e.checkedAssetIds=t},expression:"checkedAssetIds"}},e._l(e.assetsList,(function(t){return n("el-col",{key:t.projectId,attrs:{span:6}},[n("div",{staticClass:"grid-content bg-purple"},[n("el-checkbox",{attrs:{label:t.projectId}},[e._v("\n                        "+e._s(t.projectName)+"\n                    ")])],1)])})),1)],1)],1)},i=[],s=(n("6b54"),n("ac6a"),n("7514"),n("d26a")),c={name:"RelatedAssets",components:{},props:{echoCheckedAssetObjList:{type:Array,default:function(){return[]}}},data:function(){return{assetsList:[],checkedAssetIds:[],checkedAssetObjList:[]}},watch:{},created:function(){this.getAllAssetsProject()},methods:{echoChecked:function(){var e=this;this.checkedAssetIds=this.echoCheckedAssetObjList.map((function(t){return e.getAssetsProjectAttributesListByProjectId(t.projectId),t.projectId}))},getAllAssetsProject:function(){var e=this;Object(s["d"])().then((function(t){e.assetsList=t.data.data}))},handleChange:function(e){var t=0===e.length?"":e[e.length-1];this.getAssetsProjectAttributesListByProjectId(t)},handleCheckedAssetObjList:function(){var e=this;return this.checkedAssetObjList=this.checkedAssetIds.map((function(t,n){return e.assetsList.find((function(e){return e.projectId===t}))})),this.checkedAssetObjList},getAssetsProjectAttributesListByProjectId:function(e){var t=this;""===e||"dataSubjectList"in this.assetsList.find((function(t){return t.projectId===e}))?this.handleCheckedAssetObjList():Object(s["g"])(e).then((function(n){var a=t.handleEchoData(n.data.data,e);t.assetsList.forEach((function(n,i){n.projectId===e&&t.$set(n,"dataSubjectList",a)})),t.handleCheckedAssetObjList()}))},handleEchoData:function(e,t){var n=this;return e.forEach((function(e,a){n.echoCheckedAssetObjList.forEach((function(n){n.projectId===t&&n.dataSubjectList.forEach((function(t){t.mainBodyId===e.mainBodyId&&(e.checkedCategoryList=t.checkedCategoryList,e.checkedDataClass=t.checkedDataClass,e.checkedFieldList=t.checkedFieldList,e.checkedFieldListAll=t.checkedFieldListAll,e.attributes.forEach((function(e,n,a){t.attributes.forEach((function(t){e.attributesId===t.attributesId&&(a[n]=t)}))})))}))})),e.dataClassList=e.typeList,e.mainBodyIdCp="".concat(e.mainBodyId.toString(),"+").concat(t.toString()),"fieldList"in e||(e.fieldList={}),e.categoryList.forEach((function(t,n){e.fieldList[t.categoryId]=e.attributes.filter((function(e){return t.categoryId===e.categoryId}))}))})),e}}},o=c,r=(n("a682"),n("2877")),l=Object(r["a"])(o,a,i,!1,null,"05e33356",null);t["default"]=l.exports},"82e2":function(e,t,n){"use strict";n("5150")},8484:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("div",{staticClass:"relation-container"},[n("avue-crud",{ref:"crud",attrs:{page:e.page,data:e.temporaryFieldList,option:e.option},on:{"update:page":function(t){e.page=t},"search-change":e.searchChange,"search-reset":e.searchReset,"size-change":e.sizeChange,"current-change":e.currentChange,"selection-change":e.selectionChange},scopedSlots:e._u([{key:"menuRight",fn:function(t){var a=t.size;return[n("el-button",{attrs:{icon:"el-icon-notebook-2",circle:"",size:a},on:{click:e.changeArray}})]}},{key:"menuLeft",fn:function(t){var a=t.row,i=t.index;return e.isView?void 0:[n("el-button",{attrs:{size:"small",icon:"el-icon-setting"},on:{click:function(t){return e.batchCheckSource(a,i)}}},[e._v(e._s(e.$t("assetsManagement.批量配置")))])]}},{key:"menu",fn:function(t){var a=t.row,i=t.index;return[n("el-button",{attrs:{type:"text",size:"small",icon:"el-icon-setting"},on:{click:function(t){return e.checkSource(a,i)}}},[e._v(e._s(e.$t("assetsManagement.配置")))])]}}],null,!0)})],1),e.sourceDialog?n("el-dialog",{attrs:{title:e.$t("assetsManagement.配置"),visible:e.sourceDialog,"append-to-body":"","close-on-click-modal":!1,fullscreen:e.isFullscreen},on:{"update:visible":function(t){e.sourceDialog=t}}},[n("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[n("span",{staticClass:"dialog-header-title"},[e._v(e._s(e.$t("assetsManagement.配置")))]),n("div",{staticClass:"dialog-header-screen",on:{click:function(){return e.isFullscreen=!e.isFullscreen}}},[n("i",{class:e.isFullscreen?"el-icon-news":"el-icon-full-screen"})])]),n("el-form",{ref:"sourceForm",staticStyle:{width:"80%"},attrs:{model:e.sourceForm,"label-width":"140px"}},[n("el-form-item",{attrs:{label:e.$t("assetsManagement.数据主体数量")}},[n("el-input-number",{attrs:{min:0},model:{value:e.sourceForm.volumeOfDataSubjects,callback:function(t){e.$set(e.sourceForm,"volumeOfDataSubjects",t)},expression:"sourceForm.volumeOfDataSubjects"}})],1),n("el-form-item",{attrs:{label:e.$t("businessScenarioManagement.数据处理活动")}},[n("el-cascader",{attrs:{placeholder:""+e.$t("crudCommon.请选择")+e.$t("businessScenarioManagement.数据处理活动"),options:e.activitiesOptions,props:{multiple:!0,emitPath:!1},"show-all-levels":!1,filterable:""},on:{change:e.changeEvent},model:{value:e.sourceForm.activitiesIdList,callback:function(t){e.$set(e.sourceForm,"activitiesIdList",t)},expression:"sourceForm.activitiesIdList"}})],1),n("el-form-item",{attrs:{label:""}},[n("el-divider"),n("ActAnswers",{ref:"actAnswers",attrs:{activitiesList:e.sourceForm.assetsSceneProjectAttributesActivitiesList}})],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary",icon:e.saveBtnText===e.$t("assetsManagement.保存")?"el-icon-circle-plus-outline":"el-icon-circle-check"},on:{click:e.saveSource}},[e._v(e._s(e.saveBtnText))]),n("el-button",{attrs:{icon:"el-icon-circle-close"},on:{click:function(t){e.sourceDialog=!1}}},[e._v(e._s(e.$t("assetsManagement.取消")))])],1)],1):e._e()],1)},i=[],s=(n("8e6e"),n("456d"),n("ac4d"),n("8a81"),n("5df3"),n("1c4c"),n("7f7f"),n("6b54"),n("ade3")),c=(n("7514"),n("ac6a"),n("6762"),n("2fdb"),n("c5f6"),n("17c3")),o=n("605a"),r=n("cc41"),l=n("9dd3"),d=n("0e0b"),u=n("18b9");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=p(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,c=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){o=!0,s=e},f:function(){try{c||null==n.return||n.return()}finally{if(o)throw s}}}}function p(e,t){if(e){if("string"===typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var g={name:"actRelation",components:{ActAnswers:l["default"]},props:{fieldList:{type:Array,default:function(){return[]}},sceneId:{type:Number,default:0},isView:{type:Boolean,default:!1},saveBtnText:{type:String,default:"保 存"}},data:function(){return{page:{pageSize:10,total:0,currentPage:1},pageList:[],temporaryFieldList:[],sourceDialog:!1,rowIndex:"",sourceForm:{},activitiesCategoryOptions:r["a"],activitiesOptions:[],actList:[],identificationList:[],searchParam:{},isBatch:!1,isFullscreen:!1,isOverHidden:!0}},watch:{fieldList:{handler:function(e,t){"{}"!==JSON.stringify(this.searchParam)?this.handleFilter(this.searchParam):(this.pageList=Object(d["a"])(this.fieldList),this.onLoad(this.page,this.fieldList))}}},computed:{option:function(){return Object(u["a"])(this,this.isView,this.isOverHidden)}},created:function(){},methods:{changeArray:function(){this.isOverHidden=!this.isOverHidden,Object(u["a"])(this,this.isView,this.isOverHidden)},onLoad:function(e,t){this.page.total=t.length,this.temporaryFieldList=Object(d["a"])(t).splice((this.page.currentPage-1)*e.pageSize,this.page.pageSize)},initSourceForm:function(){this.sourceForm={activitiesIdList:[],volumeOfDataSubjects:0,activitiesCategoryIdList:[],assetsSceneProjectAttributesActivitiesList:[]}},searchChange:function(e,t){this.searchParam=e,this.handleFilter(e),t()},handleFilter:function(e){var t=this;this.page.currentPage=1,this.pageList=Object(d["a"])(this.fieldList);var n=function(n){t.pageList="keyword"===n?t.pageList.filter((function(t){return-1!==t.attributesName.indexOf(e[n])||-1!==t.mainBodyName.indexOf(e[n])||-1!==t.projectName.indexOf(e[n])||t.activitiesName&&-1!==t.activitiesName.indexOf(e[n])})):t.pageList.filter((function(t){return-1!==t[n].indexOf(e[n])}))};for(var a in e)n(a);this.onLoad(this.page,this.pageList)},searchReset:function(){this.searchParam={},this.pageList=Object(d["a"])(this.fieldList),this.onLoad(this.page,this.fieldList)},selectionChange:function(e){this.identificationList=e.map((function(e){return e.identification}))},batchCheckSource:function(){if(0===this.identificationList.length)return this.$message.error(this.$t("assetsManagement.请至少选择一个字段"));this.isBatch=!0,this.initSourceForm(),this.sourceDialog=!0,this.getAllAssetsActivities()},changeEvent:function(e){var t=this;console.log(e,"valllll"),this.sourceForm.assetsSceneProjectAttributesActivitiesList=this.actList.filter((function(e){return t.sourceForm.activitiesIdList.includes(e.activitiesId)})),this.sourceForm.assetsSceneProjectAttributesActivitiesList.forEach((function(e,n){"echoActivitiesValue"in e||(0===e.activitiesType?t.$set(e,"echoActivitiesValue",0):1===e.activitiesType?t.$set(e,"echoActivitiesValue",[]):t.$set(e,"echoActivitiesValue","")),"answers"in e||(e.answers=JSON.parse(e.activitiesJson).answers)}))},saveCurd:function(){var e=this;console.log(this.fieldList,"baocun "),this.fieldList.forEach((function(t,n){e.fieldList[n].projectAttributesId=t.id||t.projectAttributesId,t.assetsSceneId=e.sceneId,t.tenantId=void 0})),this.fieldList[0]?Object(c["b"])(this.fieldList).then((function(t){200===t.data.status&&(e.$emit("saveSuccess",t.data.data),e.$message.success(t.data.message))})):this.$message.error(this.$t("assetsManagement.请选择需要关联的字段"))},getAllAssetsActivities:function(){var e=this;this.activitiesOptions=Object(d["a"])(this.activitiesCategoryOptions),Object(o["e"])().then((function(t){e.actList=t.data.data,e.actList.forEach((function(t,n){var a=e.sourceForm.assetsSceneProjectAttributesActivitiesList.find((function(e){return e.activitiesId===t.activitiesId}));a&&(t.activitiesValue=a.activitiesValue,e.$set(t,"echoActivitiesValue",a.echoActivitiesValue));var i,s=h(e.activitiesOptions);try{for(s.s();!(i=s.n()).done;){var c=i.value;if(t.activitiesCategory==c.value){c.children.push({value:t.activitiesId,label:t.activitiesName});break}}}catch(o){s.e(o)}finally{s.f()}})),console.log(e.activitiesOptions,"activitiesCategoryOptionsactivitiesCategoryOptions"),e.changeEvent()}))},checkSource:function(e,t){var n=this;this.isBatch=!1,this.initSourceForm(),console.log(e,"rowwwwww"),this.sourceForm.volumeOfDataSubjects=e.volumeOfDataSubjects,this.sourceForm.assetsSceneProjectAttributesActivitiesList=e.assetsSceneProjectAttributesActivitiesList||[],this.sourceForm.assetsSceneProjectAttributesActivitiesList.forEach((function(e,t){n.$set(e,"echoActivitiesValue",JSON.parse(e.activitiesValue)),n.sourceForm.activitiesIdList[t]=e.activitiesId})),this.rowIndex=e.identification,this.sourceDialog=!0,this.getAllAssetsActivities()},saveSource:function(){var e=this,t=[],n=this.sourceForm.assetsSceneProjectAttributesActivitiesList.map((function(e){return e.echoActivitiesValue})).filter((function(e){return["0","''","[]"].includes(JSON.stringify(e))}));if(n.length)return this.$message.error(this.$t("businessScenarioManagement.还有问题没有回答"));this.sourceForm.assetsSceneProjectAttributesActivitiesList.forEach((function(e,n){if(e.tenantId=void 0,e.activitiesValue=JSON.stringify(e.echoActivitiesValue),0===e.activitiesType){var a=e.answers.find((function(t){return t.value===e.echoActivitiesValue})).label;t[n]="".concat(e.activitiesName,"：").concat(a)}else if(1===e.activitiesType){var i=e.answers.filter((function(t){return e.echoActivitiesValue.includes(t.value)})).map((function(e){return e.label})).join("||");t[n]="".concat(e.activitiesName,"：").concat(i)}else t[n]="".concat(e.activitiesName,"：").concat(e.echoActivitiesValue)})),this.sourceForm.activitiesName=t.join("；"),this.isBatch?this.fieldList.forEach((function(t,n){e.identificationList.includes(t.identification)&&e.$set(e.fieldList,n,f(f({},t),e.sourceForm))})):this.fieldList.forEach((function(t,n){t.identification===e.rowIndex&&e.$set(e.fieldList,n,f(f({},t),e.sourceForm))})),this.sourceDialog=!1,this.$message.success(this.$t("assetsManagement.保存成功"))},sizeChange:function(e){this.page.pageSize=e,this.onLoad(this.page,this.pageList)},currentChange:function(e){this.page.currentPage=e,this.onLoad(this.page,this.pageList)}}},y=g,v=(n("427b"),n("2877")),_=Object(v["a"])(y,a,i,!1,null,"a4a2fb26",null);t["default"]=_.exports},"84df":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("3b2b"),n("a481");function a(e){e=e instanceof Date?e:new Date(e);var t="yyyy-MM-dd hh:mm";if("Invalid Date"!=e){var n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var a in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+a+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?n[a]:("00"+n[a]).substr((""+n[a]).length)));return t}return""}},8748:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("el-row",{attrs:{gutter:20}},[n("el-checkbox-group",{on:{change:e.handleCheckedChange},model:{value:e.checkedDataSubjectList,callback:function(t){e.checkedDataSubjectList=t},expression:"checkedDataSubjectList"}},e._l(e.dataSubjectList,(function(t){return n("el-col",{key:t.mainBodyId,attrs:{span:6}},[n("div",{staticClass:"grid-content bg-purple"},[n("el-checkbox",{attrs:{label:t.mainBodyId}},[e._v("\n                        "+e._s(t.mainBodyName)+"\n                    ")])],1)])})),1)],1)],1)},i=[],s=n("2909"),c=(n("7514"),n("c5f6"),n("3880")),o={name:"DataSubject",components:{},props:{projectId:{type:Number,default:0},echoCheckedDataSubjectList:{type:Array,default:function(){return[]}}},data:function(){return{dataSubjectList:[],checkedDataSubjectList:[],checkedDataSubjectObjList:[]}},watch:{},created:function(){this.getMainBodList()},methods:{echoChecked:function(){this.checkedDataSubjectList=this.echoCheckedDataSubjectList.map((function(e){return e.mainBodyId})),this.handleCheckedChange(this.checkedDataSubjectList)},getMainBodList:function(){var e=this;Object(c["c"])().then((function(t){e.dataSubjectList=t.data.data}))},handleCheckedChange:function(e){var t=this;this.checkedDataSubjectObjList=e.map((function(e,n){return t.echoCheckedDataSubjectList.find((function(t){return t.mainBodyId===e}))||t.dataSubjectList.find((function(t){return t.mainBodyId===e}))})),this.$emit("getCheckedDataSubject",this.checkedDataSubjectList,Object(s["a"])(this.checkedDataSubjectObjList))}}},r=o,l=(n("41c0"),n("2877")),d=Object(l["a"])(r,a,i,!1,null,"108b461e",null);t["default"]=d.exports},"875a":function(e,t,n){},"8bdb":function(e,t,n){},"8ead":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"user"},[n("basic-container",[n("avue-crud",{ref:"crud",attrs:{option:e.option,page:e.page,"table-loading":e.listLoading,data:e.list},on:{"update:page":function(t){e.page=t},"size-change":e.sizeChange,"current-change":e.currentChange,"search-change":e.handleFilter,"search-reset":e.resetChange,"refresh-change":e.handleRefreshChange},scopedSlots:e._u([{key:"menuRight",fn:function(t){var a=t.size;return[n("el-button",{attrs:{icon:"el-icon-notebook-2",circle:"",size:a},on:{click:e.changeArray}})]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}})],1)],1)},i=[],s=(n("8e6e"),n("ac6a"),n("456d"),n("ade3")),c=(n("c5f6"),n("17c3")),o=function(e,t){return{labelWidth:150,border:!1,index:!0,indexLabel:e.$t("crudCommon.序号"),stripe:!0,menuAlign:"center",searchMenuSpan:6,editBtn:!1,delBtn:!1,align:"center",addBtn:!1,viewBtn:!0,menuWidth:120,column:[{fixed:!0,label:"id",prop:"id",span:24,hide:!0,editDisplay:!1,addDisplay:!1,viewDisplay:!1},{width:100,label:e.$t("businessScenarioManagement.业务场景变化"),prop:"sceneChange",type:"textarea",span:24,minRows:1,overHidden:t},{label:e.$t("assetsManagement.新增字段"),prop:"projectAdd",type:"textarea",span:24,minRows:1,overHidden:t},{label:e.$t("assetsManagement.删除字段"),prop:"projectDel",type:"textarea",span:24,minRows:1,overHidden:t},{label:e.$t("businessScenarioManagement.编辑字段"),prop:"projectUpdate",type:"textarea",span:24,minRows:1,overHidden:t},{width:120,label:e.$t("crudCommon.创建时间"),prop:"createTime",type:"datetime",format:"yyyy-MM-dd HH:mm",editDisabled:!1,addDisplay:!1,editDisplay:!1,span:24},{label:e.$t("crudCommon.修改人"),prop:"updateBy",span:24,editDisplay:!1,addDisplay:!1,overHidden:t},{width:120,label:e.$t("crudCommon.修改时间"),prop:"updateTime",type:"datetime",format:"yyyy-MM-dd HH:mm",editDisabled:!1,addDisplay:!1,editDisplay:!1,span:24},{label:e.$t("crudCommon.关键字"),hide:!0,prop:"keyword",search:!0,display:!1}]}},r=n("2f62");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u={name:"BusHistory",components:{},props:{sceneId:{type:Number,default:0}},data:function(){return{page:{total:0,currentPage:1,pageSize:20,isAsc:!1},query:{},list:[],listLoading:!0,form:{},isOverHidden:!0}},computed:d(d({},Object(r["b"])(["permissions"])),{},{option:function(){return o(this,this.isOverHidden)}}),created:function(){this.getList(this.page)},watch:{},methods:{changeArray:function(){this.isOverHidden=!this.isOverHidden,o(this,this.isOverHidden)},getList:function(e,t){var n=this;this.listLoading=!0,Object(c["h"])(Object.assign({current:e.currentPage,size:e.pageSize,sceneId:this.sceneId},t)).then((function(e){n.list=e.data.data.records,n.page.total=e.data.data.total,n.listLoading=!1}))},sizeChange:function(e){this.page.pageSize=e,this.getList(this.page,this.query)},currentChange:function(e){this.page.currentPage=e,this.getList(this.page,this.query)},handleFilter:function(e,t){this.query=e,this.page.currentPage=1,this.getList(this.page,e),t()},resetChange:function(){this.query={},this.getList(this.page,this.query)},handleRefreshChange:function(){this.getList(this.page)},handleUpdate:function(e,t){this.$refs.crud.rowEdit(e,t)}}},m=u,f=n("2877"),h=Object(f["a"])(m,a,i,!1,null,null,null);t["default"]=h.exports},9163:function(e,t,n){"use strict";n("ee82")},92756:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return o})),n.d(t,"b",(function(){return r}));var a=n("b5c6");function i(e){return Object(a["a"])({url:"/assets/assetsAttributesCategory/getCategoryListByPage",method:"get",params:e})}function s(){return Object(a["a"])({url:"/assets/assetsAttributesCategory/getCategoryList",method:"get"})}function c(e){return Object(a["a"])({url:"/assets/assetsAttributesCategory/add",method:"post",data:e})}function o(e){return Object(a["a"])({url:"/assets/assetsAttributesCategory/update",method:"put",data:e})}function r(e){return Object(a["a"])({url:"/assets/assetsAttributesCategory/deleteByIdList?idList=".concat(e),method:"delete"})}},9758:function(e,t,n){},"9a57":function(e,t,n){"use strict";n("38da")},"9dd3":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-form",{ref:"answersForm",attrs:{model:e.answersForm}},e._l(e.activitiesList,(function(t){return n("div",{key:t.activitiesId},[0===t.activitiesType?n("el-form-item",{attrs:{label:t.activitiesName+"："}},e._l(t.answers,(function(a,i){return n("el-radio",{key:i,attrs:{label:a.value},model:{value:t.echoActivitiesValue,callback:function(n){e.$set(t,"echoActivitiesValue",n)},expression:"item.echoActivitiesValue"}},[e._v("\n                    "+e._s(a.label)+" \n                ")])})),1):e._e(),1===t.activitiesType?n("el-form-item",{attrs:{label:t.activitiesName+"："}},[n("el-checkbox-group",{model:{value:t.echoActivitiesValue,callback:function(n){e.$set(t,"echoActivitiesValue",n)},expression:"item.echoActivitiesValue"}},e._l(t.answers,(function(t,a){return n("el-checkbox",{key:a,attrs:{label:t.value}},[e._v("\n                        "+e._s(t.label)+" \n                    ")])})),1)],1):e._e(),2===t.activitiesType?n("el-form-item",{attrs:{label:t.activitiesName+"："}},[n("el-input",{attrs:{type:"textarea",rows:3},model:{value:t.echoActivitiesValue,callback:function(n){e.$set(t,"echoActivitiesValue",n)},expression:"item.echoActivitiesValue"}})],1):e._e(),3===t.activitiesType?n("el-form-item",{attrs:{label:t.activitiesName+"："}},[n("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd"},model:{value:t.echoActivitiesValue,callback:function(n){e.$set(t,"echoActivitiesValue",n)},expression:"item.echoActivitiesValue"}})],1):e._e()],1)})),0)],1)},i=[],s={name:"ActAnswers",components:{},props:{activitiesList:{type:Array,default:function(){return[]}}},data:function(){return{radioValue:"",checkList:[],textarea:"",answersForm:{}}},watch:{activitiesList:{handler:function(e,t){console.log(e,t,"////")}}},created:function(){},methods:{changeRadio:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];console.log(e,n,"单选")},changeBox:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];console.log(e,n,"多选")}}},c=s,o=n("2877"),r=Object(o["a"])(c,a,i,!1,null,"2c0c9daa",null);t["default"]=r.exports},a5fa:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"error404"},[n("div",{staticClass:"error404-body-con"},[n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"error404-body-con-title"},[e._v("4\n        "),n("span",[e._v("0")]),e._v("4")]),n("p",{staticClass:"error404-body-con-message"},[e._v("YOU  LOOK  LOST")]),n("div",{staticClass:"error404-btn-con"},[n("el-button",{staticStyle:{width:"200px"},attrs:{size:"large",type:"text"},on:{click:e.goHome}},[e._v("返回首页")]),n("el-button",{staticStyle:{width:"200px","margin-left":"40px"},attrs:{size:"large",type:"primary"},on:{click:e.backPage}},[e._v("返回上一页")])],1)])],1)])},i=[],s={name:"Error404",methods:{backPage:function(){this.$router.go(-1)},goHome:function(){this.$router.push({path:"/"})}}},c=s,o=(n("19f3"),n("2877")),r=Object(o["a"])(c,a,i,!1,null,"0ba4aad0",null);t["default"]=r.exports},a682:function(e,t,n){"use strict";n("3a5c")},a8d0:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"error403"},[n("div",{staticClass:"error403-body-con"},[n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"error403-body-con-title"},[e._v("4\n        "),n("span",{staticClass:"error403-0-span"},[n("i",{staticClass:"icon-quanxian"})]),n("span",{staticClass:"error403-key-span"},[n("i",{staticClass:"icon-iconset0216"})])]),n("p",{staticClass:"error403-body-con-message"},[e._v("You don't have permission")]),n("div",{staticClass:"error403-btn-con"},[n("el-button",{staticStyle:{width:"200px"},attrs:{size:"large",type:"text"},on:{click:e.goHome}},[e._v("返回首页")]),n("el-button",{staticStyle:{width:"200px","margin-left":"40px"},attrs:{size:"large",type:"primary"},on:{click:e.backPage}},[e._v("返回上一页")])],1)])],1)])},i=[],s={name:"Error403",methods:{backPage:function(){this.$router.go(-1)},goHome:function(){this.$router.push({path:"/"})}}},c=s,o=(n("9a57"),n("2877")),r=Object(o["a"])(c,a,i,!1,null,"3cea60b0",null);t["default"]=r.exports},aa3a:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"outerContainer"},[n("div",{staticClass:"leftSubject"},[n("div",{staticClass:"title"},[e._v("数据主体")]),e._l(e.dataSubjectList,(function(t){return[n("div",{key:t.mainBodyId,staticClass:"subjectItem",class:t.mainBodyId===e.currentSubjectId?"selected":"",on:{click:function(n){return e.clickSubject(t)}}},[e._v("\n                "+e._s(t.mainBodyName)+"\n            ")])]}))],2),n("div",{staticClass:"middleScene"},[n("div",{staticClass:"title"},[e._v("业务场景")]),e._l(e.sceneList,(function(t){return[n("div",{key:t.sceneId,staticClass:"sceneItem",class:t.sceneId===e.currentSceneId?"selected":"",on:{click:function(n){return e.clickScene(t)}}},[e._v("\n                "+e._s(t.sceneName)+"\n            ")])]}))],2),n("div",{staticClass:"rightActivities"},[e._l(e.activitiesAndAssetsList,(function(t,a){return[n("div",{key:a,staticClass:"activityItem"},[n("div",{staticClass:"activitiesCategory"},[e._v(e._s(t.activitiesCategory))]),e._l(t.project,(function(t){return[n("el-tooltip",{key:t.projectId,attrs:{placement:"bottom",effect:"light"}},[n("div",{attrs:{slot:"content"},slot:"content"},[n("div",{domProps:{innerHTML:e._s(e.handleActivities(t.assetsSceneProjectAttributesActivities))}})]),n("div",{staticClass:"assetItem"},[e._v("\n                            "+e._s(t.projectName)+"\n                        ")])])]}))],2)]}))],2)])},i=[],s=(n("6762"),n("2fdb"),n("7514"),n("14be")),c=n("3880"),o={name:"MyChartsTemplate",components:{},data:function(){return{dataSubjectList:[],sceneList:[],activitiesAndAssetsList:[{activitiesCategory:"收集"},{activitiesCategory:"存储"},{activitiesCategory:"使用"},{activitiesCategory:"传输"},{activitiesCategory:"存档/删除"}],currentSubjectId:"",currentSceneId:""}},computed:{handleActivities:function(){return function(e){var t=e.map((function(e){var t=e.activitiesName,n=JSON.parse(e.activitiesJson).answers;if(0===e.activitiesType){var a=n.find((function(t){return t.value===1*e.activitiesValue})).label;return"".concat(t,"：").concat(a)}if(1===e.activitiesType){var i=n.filter((function(t){return e.activitiesValue.includes(t.value+"")})).map((function(e){return e.label})).join("|");return"".concat(t,"：").concat(i)}return"".concat(t,"：").concat(e.activitiesValue)}));return t.join("<br />")}}},created:function(){this.getMainBodList()},methods:{clickSubject:function(e){this.currentSceneId="",this.currentSubjectId!==e.mainBodyId&&(this.activitiesAndAssetsList=[{activitiesCategory:"收集"},{activitiesCategory:"存储"},{activitiesCategory:"使用"},{activitiesCategory:"传输"},{activitiesCategory:"存档/删除"}],this.currentSubjectId=e.mainBodyId),this.getAssetsBusinessSceneByMainBodyId(e.mainBodyId)},clickScene:function(e){this.currentSceneId=e.sceneId,this.getAssetsProjectByMainBodyIdAndSceneId(this.currentSubjectId,e.sceneId)},getMainBodList:function(){var e=this;Object(c["c"])().then((function(t){e.dataSubjectList=t.data.data}))},getAssetsBusinessSceneByMainBodyId:function(e){var t=this;Object(s["a"])(e).then((function(e){t.sceneList=e.data.data}))},getMainBodyBySceneId:function(e){Object(s["c"])(e).then((function(e){}))},getAssetsProjectByMainBodyIdAndSceneId:function(e,t){var n=this;Object(s["b"])(e,t).then((function(e){n.activitiesAndAssetsList=e.data.data}))}}},r=o,l=(n("7bb7"),n("2877")),d=Object(l["a"])(r,a,i,!1,null,"27de7706",null);t["default"]=d.exports},ae1c:function(e,t,n){},afdc:function(e,t,n){"use strict";n("9758")},ba07:function(e,t,n){"use strict";n("7cad")},c1a1:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("basic-container",[e.$route.query.src?n("iframe",{ref:"iframe",staticClass:"iframe",attrs:{src:e.$route.query.src}}):n("iframe",{ref:"iframe",staticClass:"iframe",attrs:{src:e.urlPath}})])],1)},i=[],s=(n("8e6e"),n("ac6a"),n("456d"),n("a481"),n("6b54"),n("ade3")),c=n("2f62"),o=n("323e"),r=n.n(o);n("a5d8");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u={name:"AvueIframe",data:function(){return{urlPath:this.getUrlPath()}},created:function(){r.a.configure({showSpinner:!1})},mounted:function(){this.load(),this.resize()},props:["routerPath"],watch:{$route:function(){this.load()},routerPath:function(){this.urlPath=this.getUrlPath()}},components:d({},Object(c["b"])(["screen"])),methods:{show:function(){r.a.start()},hide:function(){r.a.done()},resize:function(){var e=this;window.onresize=function(){e.iframeInit()}},load:function(){var e=this;this.show();var t=!0;-1==this.$route.query.src.indexOf("?")&&(t=!1);var n=[];for(var a in this.$route.query)"src"!=a&&"name"!=a&&n.push("".concat(a,"= this.$route.query[key]"));n=n.join("&").toString(),this.$route.query.src=t?"".concat(this.$route.query.src).concat(n.length>0?"&list":""):"".concat(this.$route.query.src).concat(n.length>0?"?list":"");var i=5,s=setInterval((function(){i--,0==i&&(e.hide(),clearInterval(s))}),1e3);this.iframeInit()},iframeInit:function(){var e=this,t=this.$refs.iframe,n=document.documentElement.clientHeight-(screen>1?200:130);t.style.height="".concat(n,"px"),t.attachEvent?t.attachEvent("onload",(function(){e.hide()})):t.onload=function(){e.hide()}},getUrlPath:function(){var e=window.location.href;return e=e.replace("/myiframe",""),e}}},m=u,f=(n("30eb"),n("2877")),h=Object(f["a"])(m,a,i,!1,null,null,null);t["default"]=h.exports},ca44:function(e,t,n){},cbcb:function(e,t,n){},cc41:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));var a=[{label:i18n.t("enum.收集"),placeholder:i18n.t("enum.例如方式频率目的"),value:0,children:[]},{label:i18n.t("enum.存储"),placeholder:i18n.t("enum.例如存储方式存储期限"),value:1,children:[]},{label:i18n.t("enum.使用"),placeholder:i18n.t("enum.例如自动化决策用户画像访问控制措施"),value:2,children:[]},{label:i18n.t("enum.传输"),placeholder:i18n.t("enum.例如是否出境目的地频率"),value:3,children:[]},{label:i18n.t("enum.存档或删除"),placeholder:i18n.t("enum.例如存档目的存档期限物理删除销毁"),value:4,children:[]}],i={1:{type:"",label:i18n.t("enum.填写中")},2:{type:"warning",label:i18n.t("enum.审核中")},3:{type:"success",label:i18n.t("enum.通过")},4:{type:"danger",label:i18n.t("enum.拒绝")},5:{type:"danger",label:i18n.t("enum.已驳回")}}},cf85:function(e,t,n){"use strict";n("3f69")},d03f:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return o})),n.d(t,"b",(function(){return r}));var a=n("b5c6");function i(e){return Object(a["a"])({url:"/assets/assetsAttributesType/getTypeListByPage",method:"get",params:e})}function s(){return Object(a["a"])({url:"/assets/assetsAttributesType/getTypeList",method:"get"})}function c(e){return Object(a["a"])({url:"/assets/assetsAttributesType/add",method:"post",data:e})}function o(e){return Object(a["a"])({url:"/assets/assetsAttributesType/update",method:"put",data:e})}function r(e){return Object(a["a"])({url:"/assets/assetsAttributesType/deleteByIdList?idList=".concat(e),method:"delete"})}},d26a:function(e,t,n){"use strict";n.d(t,"h",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"f",(function(){return o})),n.d(t,"e",(function(){return r})),n.d(t,"a",(function(){return l})),n.d(t,"j",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return m})),n.d(t,"i",(function(){return f}));var a=n("b5c6");function i(e){return Object(a["a"])({url:"/assets/assetsProject/getAssetsProjectByPage",method:"get",params:e})}function s(){return Object(a["a"])({url:"/assets/assetsProject/getAllAssetsProject",method:"get"})}function c(e){return Object(a["a"])({url:"/assets/assetsProjectAttributes/getAssetsProjectAttributesListByProjectId/".concat(e),method:"get"})}function o(e,t,n){return Object(a["a"])({url:"/assets/assetsProjectAttributes/getAssetsProjectAttributesByAttributeId/".concat(e,"/").concat(t,"/").concat(n),method:"get"})}function r(e){return Object(a["a"])({url:"/assets/assetsProjectAttributes/getAssetsProjectAttributes",method:"post",data:e})}function l(e){return Object(a["a"])({url:"/assets/assetsProject/add",method:"post",data:e})}function d(e){return Object(a["a"])({url:"/assets/assetsProject/update",method:"put",data:e})}function u(e){return Object(a["a"])({url:"/assets/assetsProject/deleteByIdList?idList=".concat(e),method:"delete"})}function m(e){return Object(a["a"])({url:"/assets/assetsProjectAttributes/addOrUpdate",method:"post",data:e})}function f(e){return Object(a["a"])({url:"/assets/assetsProjectHistory/getAssetsProjectHistoryByPage",method:"get",params:e})}},d2c1:function(e,t,n){},d4d0:function(e,t,n){},da4f:function(e,t,n){"use strict";n("3ff6")},daba:function(e,t,n){"use strict";n("f4e7")},dc8f:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.findStatus?n("div",{staticClass:"successTip"},[n("el-result",{attrs:{icon:"success",title:"成功提示",subTitle:"您已完成本次填写，感谢您的帮助与支持"}})],1):n("div",{staticClass:"findAsset"},[n("div",{staticClass:"findHeader"},[n("span",[e._v(e._s(e.title))])]),n("div",{staticClass:"findContent"},[1===e.findType?n("FindAssetForm",{ref:"findAssetForm",attrs:{findStatus:e.findStatus},on:{commitJob:e.commitJob}}):n("FindBusinessForm",{ref:"findBusinessForm",attrs:{findStatus:e.findStatus},on:{commitJob:e.commitJob}})],1)])])},i=[],s=n("17db"),c=n("6a85"),o=n("6b6f"),r={name:"FindAssets",components:{FindAssetForm:c["default"],FindBusinessForm:o["default"]},props:{},data:function(){return{assetsFoundId:"",title:"",findStatus:0,findType:0}},created:function(){this.assetsFoundId=this.$route.query.id,this.title=this.$route.query.jobName,this.getFindJobInfoById(this.assetsFoundId),this.findType=1*this.$route.query.findType},methods:{getFindJobInfoById:function(e){var t=this;Object(s["b"])(e).then((function(e){t.findStatus=e.data.data.status}))},commitJob:function(e,t){var n=this;this.$confirm("是否提交?","提示",{confirmButtonText:"提交",cancelButtonText:"不提交",type:"warning"}).then((function(){var a=1===n.findType?{assetsFoundId:n.assetsFoundId,assetsProject:e}:{assetsFoundId:n.assetsFoundId,assetsBusinessScene:e};Object(s["a"])(a).then((function(e){200===e.data.status&&(n.findStatus=1),t()})).catch((function(){t()}))})).catch((function(){n.$message({type:"info",message:"已取消提交"}),t()}))}}},l=r,d=(n("82e2"),n("2877")),u=Object(d["a"])(l,a,i,!1,null,"e01e5b5a",null);t["default"]=u.exports},dde6:function(e,t,n){},de2d:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"user"},[n("basic-container",[n("avue-crud",{ref:"crud",attrs:{option:e.option,page:e.page,"table-loading":e.listLoading,"before-open":e.handleOpenBefore,data:e.list},on:{"update:page":function(t){e.page=t},"size-change":e.sizeChange,"current-change":e.currentChange,"search-change":e.handleFilter,"search-reset":e.resetChange,"refresh-change":e.handleRefreshChange,"row-update":e.update,"row-save":e.create,"selection-change":e.selectionChange,"cell-click":e.cellClick},scopedSlots:e._u([{key:"menuRight",fn:function(t){var a=t.size;return[n("el-button",{attrs:{icon:"el-icon-notebook-2",circle:"",size:a},on:{click:e.changeArray}})]}},{key:"projectName",fn:function(t){return[n("span",{staticClass:"projectName"},[e._v("\n              "+e._s(t.row.projectName)+"\n          ")])]}},{key:"sceneIds",fn:function(t){return[e._v("\n         "+e._s(t.row.sceneNames?t.row.sceneNames.toString():e.$t("crudCommon.暂无"))+" \n      ")]}},{key:"menu",fn:function(t){return[n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.$t("crudCommon.编辑"),placement:"top"}},[e.permissions.assets_assetsManagement_edit?n("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(n){return e.handleUpdate(t.row,t.index)}}}):e._e()],1),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.$t("assetsManagement.关联"),placement:"top"}},[e.permissions.assets_assetsManagement_relation?n("el-button",{attrs:{type:"text",icon:"el-icon-link"},on:{click:function(n){return e.relationBtn(t.row,t.index)}}}):e._e()],1),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.$t("assetsManagement.历史记录"),placement:"top"}},[e.permissions.assets_assetsManagement_history?n("el-button",{attrs:{type:"text",icon:"btn-icon-lishijilu"},on:{click:function(n){return e.viewHistory(t.row,t.index)}}}):e._e()],1),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.$t("assetsManagement.评估"),placement:"top"}},[e.permissions.assets_assetsManagement_assessment?n("el-button",{staticClass:"filter-item",attrs:{type:"text",icon:"el-icon-message"},on:{click:function(n){return e.openAssessment(t.row)}}}):e._e()],1),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.$t("crudCommon.删除"),placement:"top"}},[e.permissions.assets_assetsManagement_del?n("el-button",{attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(n){return e.deleteBtn(t.row,t.index)}}}):e._e()],1)]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[n("template",{slot:"hostingLocationForm"},[n("avue-input",{attrs:{placeholder:""+e.$t("crudCommon.请选择")+e.$t("assetsManagement.托管位置")},on:{focus:e.openMap},model:{value:e.form.hostingLocation,callback:function(t){e.$set(e.form,"hostingLocation",t)},expression:"form.hostingLocation"}})],1),n("template",{slot:"menuLeft"},[e.permissions.assets_assetsManagement_add?n("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.$refs.crud.rowAdd()}}},[e._v(e._s(e.$t("crudCommon.添加"))+"\n        ")]):e._e(),e.permissions.assets_assetsManagement_find?n("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-position"},on:{click:e.findAsset}},[e._v(e._s(e.$t("assetsManagement.发现资产"))+"\n        ")]):e._e(),e.permissions.assets_assetsManagement_export?n("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-upload"},on:{click:e.exportMode}},[e._v(e._s(e.$t("crudCommon.导出模板"))+"\n        ")]):e._e(),e.permissions.assets_assetsManagement_import?n("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-document-add"},on:{click:e.importAsset}},[e._v(e._s(e.$t("crudCommon.导入"))+"\n        ")]):e._e(),e.permissions.assets_assetsManagement_batchDel?n("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-delete"},on:{click:function(t){return e.deleteBtn(!1)}}},[e._v(e._s(e.$t("crudCommon.批量删除"))+" \n        ")]):e._e()],1),n("template",{slot:"sceneIdsForm"},[n("el-select",{attrs:{multiple:"",filterable:"",placeholder:"请选择所属业务场景"},model:{value:e.form.sceneIds,callback:function(t){e.$set(e.form,"sceneIds",t)},expression:"form.sceneIds"}},e._l(e.sceneOptions,(function(t){return n("el-option",{key:t.sceneId,attrs:{label:t.sceneName,props:e.sceneProps,value:t.sceneId}})})),1)],1)],2)],1),e.relationDialog?n("el-drawer",{attrs:{size:"100%",visible:e.relationDialog},on:{"update:visible":function(t){e.relationDialog=t}}},[n("div",{staticClass:"drawer-header",attrs:{slot:"title"},slot:"title"},[n("span",{staticClass:"drawer-header-title",domProps:{innerHTML:e._s(e.relationTitle)}}),n("div",{staticClass:"drawer-header-screen",on:{click:function(){return e.isFullscreen=!e.isFullscreen}}},[n("i",{class:e.isFullscreen?"el-icon-news":"el-icon-full-screen"})])]),n("el-steps",{staticStyle:{width:"60%",margin:"0 auto"},attrs:{simple:"",active:e.active,"finish-status":"success"}},[n("el-step",{attrs:{title:e.$t("assetsManagement.选择数据主体")}}),n("el-step",{attrs:{title:e.$t("assetsManagement.选择字段")}}),n("el-step",{attrs:{title:e.$t("assetsManagement.字段配置")}})],1),n("DataSubject",{directives:[{name:"show",rawName:"v-show",value:0===e.active,expression:"active === 0"}],ref:"dataSubject",attrs:{echoCheckedDataSubjectList:e.echoCheckedDataSubjectList},on:{getCheckedDataSubject:e.getCheckedDataSubject}}),n("SelectField",{directives:[{name:"show",rawName:"v-show",value:1===e.active,expression:"active === 1"}],ref:"selectField",attrs:{defaultActive:e.defaultActive,projectId:e.projectId,checkedDataSubjectObjList:e.checkedDataSubjectObjList,isView:!1}}),n("FieldRelation",{directives:[{name:"show",rawName:"v-show",value:2===e.active,expression:"active === 2"}],ref:"fieldRelation",attrs:{projectId:e.projectId,isView:!1,fieldList:e.fieldList,saveBtnText:e.saveBtnText},on:{saveSuccess:e.FieldRelationSaveSuccess}}),n("div",{staticClass:"demo-drawer__footer"},[0!==e.active?n("el-button",{attrs:{type:"primary",icon:"el-icon-top"},on:{click:e.previousStep}},[e._v(e._s(e.$t("assetsManagement.上一步")))]):e._e(),2!==e.active?n("el-button",{attrs:{type:"primary",icon:"el-icon-bottom"},on:{click:e.nextStep}},[e._v(e._s(e.$t("assetsManagement.下一步")))]):e._e(),2===e.active?n("el-button",{attrs:{type:"primary",icon:e.saveBtnText===e.$t("assetsManagement.保存")?"el-icon-circle-plus-outline":"el-icon-circle-check"},on:{click:e.relationFormSubmit}},[e._v(e._s(e.saveBtnText))]):e._e(),n("el-button",{attrs:{icon:"el-icon-circle-close"},on:{click:function(t){e.relationDialog=!1}}},[e._v(e._s(e.$t("assetsManagement.取消")))])],1)],1):e._e(),e.detailsDialog?n("el-dialog",{attrs:{title:e.$t("assetsManagement.查看资产详情"),width:"70%",visible:e.detailsDialog,fullscreen:e.isFullscreen},on:{"update:visible":function(t){e.detailsDialog=t}}},[n("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[n("span",{staticClass:"dialog-header-title"},[e._v(e._s(e.$t("assetsManagement.查看资产详情")))]),n("div",{staticClass:"dialog-header-screen",on:{click:function(){return e.isFullscreen=!e.isFullscreen}}},[n("i",{class:e.isFullscreen?"el-icon-news":"el-icon-full-screen"})])]),n("Details",{ref:"details",attrs:{projectId:e.projectId,viewColumn:e.viewColumn,rowData:e.rowData,fieldList:e.fieldList}})],1):e._e(),e.assessmentDialog?n("el-dialog",{attrs:{title:e.$t("assetsManagement.启动评估"),width:"35%",visible:e.assessmentDialog,"close-on-click-modal":!1,fullscreen:e.isFullscreen},on:{"update:visible":function(t){e.assessmentDialog=t}}},[n("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[n("span",{staticClass:"dialog-header-title"},[e._v(e._s(e.$t("assetsManagement.启动评估")))]),n("div",{staticClass:"dialog-header-screen",on:{click:function(){return e.isFullscreen=!e.isFullscreen}}},[n("i",{class:e.isFullscreen?"el-icon-news":"el-icon-full-screen"})])]),n("ReleaseForm",{ref:"releaseForm",attrs:{typeIds:2,evaluationItem:{assetsId:e.projectId}},on:{closeAssessmentDialog:e.closeAssessmentDialog}}),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:e.assessmentFormSubmit}},[e._v(e._s(e.$t("assetsManagement.保存")))]),n("el-button",{attrs:{icon:"el-icon-circle-close"},on:{click:function(t){e.assessmentDialog=!1}}},[e._v(e._s(e.$t("assetsManagement.取消")))])],1)],1):e._e(),e.findDialog?n("el-dialog",{attrs:{title:e.$t("assetsManagement.发现资产"),width:"70%",visible:e.findDialog,"close-on-click-modal":!1,fullscreen:e.isFullscreen},on:{"update:visible":function(t){e.findDialog=t}}},[n("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[n("span",{staticClass:"dialog-header-title"},[e._v(e._s(e.$t("assetsManagement.发现资产")))]),n("div",{staticClass:"dialog-header-screen",on:{click:function(){return e.isFullscreen=!e.isFullscreen}}},[n("i",{class:e.isFullscreen?"el-icon-news":"el-icon-full-screen"})])]),n("FindStart",{ref:"findStart",attrs:{findType:1},on:{saveSuccess:e.findAsssetSaveSuccess}}),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:e.findFormSave}},[e._v(e._s(e.$t("assetsManagement.保存")))]),n("el-button",{attrs:{icon:"el-icon-circle-close"},on:{click:function(t){e.findDialog=!1}}},[e._v(e._s(e.$t("assetsManagement.取消")))])],1)],1):e._e(),n("el-dialog",{attrs:{title:e.$t("crudCommon.导入"),width:"35%",visible:e.importDialog,"append-to-body":"","close-on-click-modal":!1,fullscreen:e.isFullscreen},on:{"update:visible":function(t){e.importDialog=t}}},[n("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[n("span",{staticClass:"dialog-header-title"},[e._v(e._s(e.$t("crudCommon.导入")))]),n("div",{staticClass:"dialog-header-screen",on:{click:function(){return e.isFullscreen=!e.isFullscreen}}},[n("i",{class:e.isFullscreen?"el-icon-news":"el-icon-full-screen"})])]),n("el-upload",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"upload-demo",attrs:{action:"","before-upload":e.beforeUpload,"on-remove":e.handleRemove,"before-remove":e.beforeRemove,accept:".xls,.xlsx",limit:1,"on-exceed":e.handleExceed,"file-list":e.fileList}},[n("el-button",{attrs:{size:"small",type:"primary"}},[e._v(e._s(e.$t("crudCommon.点击上传")))]),n("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(e._s(e.$t("crudCommon.只能上传xls和xlsx文件且不超过500kb")))])],1)],1),e.historyDialog?n("el-dialog",{attrs:{title:e.$t("assetsManagement.历史记录"),width:"70%",visible:e.historyDialog,"append-to-body":"",fullscreen:e.isFullscreen},on:{"update:visible":function(t){e.historyDialog=t}}},[n("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[n("span",{staticClass:"dialog-header-title"},[e._v(e._s(e.$t("assetsManagement.历史记录")))]),n("div",{staticClass:"dialog-header-screen",on:{click:function(){return e.isFullscreen=!e.isFullscreen}}},[n("i",{class:e.isFullscreen?"el-icon-news":"el-icon-full-screen"})])]),n("History",{attrs:{projectId:e.projectId}})],1):e._e(),n("el-dialog",{attrs:{title:e.$t("assetsManagement.地图"),width:"70%",visible:e.showMap,"append-to-body":"",fullscreen:e.isFullscreen},on:{"update:visible":function(t){e.showMap=t}}},[n("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[n("span",{staticClass:"dialog-header-title"},[e._v(e._s(e.$t("assetsManagement.地图")))]),n("div",{staticClass:"dialog-header-screen",on:{click:function(){return e.isFullscreen=!e.isFullscreen}}},[n("i",{class:e.isFullscreen?"el-icon-news":"el-icon-full-screen"})])]),n("div",[e._v(e._s(e.$t("assetsManagement.当前位置"))+" "+e._s(e.form.hostingLocation)+" "),n("br"),e._v("\n         "+e._s(e.$t("assetsManagement.当前经纬度"))+" "+e._s(e.form.lng)+", "+e._s(e.form.lat)+" \n    ")]),n("div",{attrs:{id:"baiduMap"}}),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:e.saveLatlng}},[e._v(e._s(e.$t("assetsManagement.保存")))])],1)])],1)},i=[],s=(n("8e6e"),n("456d"),n("28a5"),n("15fd")),c=n("53ca"),o=(n("ac6a"),n("8615"),n("ade3")),r=n("d26a"),l=n("17c3"),d=n("8748"),u=n("394a"),m=n("f6bc"),f=n("fa64"),h=n("f6c5"),p=n("e171"),b=n("1b82"),g=n("115c"),y=n("2f62"),v=["sceneNames"];function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){Object(o["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L={name:"assetsManagement",components:{DataSubject:d["default"],SelectField:u["default"],FieldRelation:m["default"],Details:f["default"],ReleaseForm:p["default"],FindStart:h["default"],History:b["default"]},data:function(){return{active:0,page:{total:0,currentPage:1,pageSize:20,isAsc:!1},query:{},list:[],listLoading:!0,form:{},ids:[],sceneIdList:[],sceneOptions:[],sceneProps:{label:"sceneName",value:"sceneId"},relationDialog:!1,relationTitle:"",detailsDialog:!1,assessmentDialog:!1,saveBtnText:this.$t("assetsManagement.保存"),projectId:0,viewColumn:[],rowData:{},findDialog:!1,importDialog:!1,fileList:[],fullscreenLoading:!1,defaultActive:"",echoCheckedDataSubjectList:[],checkedDataSubjectObjList:[],fieldList:[],historyDialog:!1,showMap:!1,map:null,searchLocation:"",locationOptions:[],isOverHidden:!0,isFullscreen:!1}},computed:j(j({},Object(y["b"])(["permissions","userInfo"])),{},{option:function(){return Object(g["b"])(this,this.userInfo.tenantId,this.isOverHidden,!1)}}),created:function(){this.getList(this.page)},methods:{changeArray:function(){this.isOverHidden=!this.isOverHidden,Object(g["b"])(this.userInfo.tenantId,this.isOverHidden,!1)},openMap:function(){var e=this;this.showMap=!0,this.$nextTick((function(){e.map=new BMapGL.Map("baiduMap");var t=new BMapGL.ScaleControl;e.map.addControl(t);var n=new BMapGL.ZoomControl;e.map.addControl(n);var a=new BMapGL.CityListControl;e.map.addControl(a),e.map.enableScrollWheelZoom(!0);var i=new BMapGL.Point(e.form.lng||116.404,e.form.lat||39.915);e.map.centerAndZoom(i,15);var s=new BMapGL.Marker(i);e.map.addOverlay(s);var c=new BMapGL.Geocoder;e.map.addEventListener("click",(function(t){e.form.lng=t.latlng.lng,e.form.lat=t.latlng.lat;var n=new BMapGL.Point(t.latlng.lng,t.latlng.lat),a=new BMapGL.Marker(n);e.map.clearOverlays(),e.map.addOverlay(a),c.getLocation(t.latlng,(function(t){var n=t.addressComponents;e.form.hostingLocation="".concat(n.province,",").concat(n.city)}))}))}))},saveLatlng:function(){this.showMap=!1},nextStep:function(){if(0===this.active)0===this.checkedDataSubjectObjList.length?this.$message.error(this.$t("assetsManagement.请至少选择一个主体类型")):(this.defaultActive=this.checkedDataSubjectObjList[0].mainBodyId+"",this.$refs.selectField.handleChecked(this.defaultActive),console.log(this.defaultActive,"mmmm"),this.active++);else if(1===this.active){var e=this.$refs.selectField.getCheckedDataSubjectObjList(),t=e.every((function(e){return"checkedFieldListAll"in e&&0!==e.checkedFieldListAll.length}));t?(this.fieldList=this.handleFieldList(e),0===this.fieldList.length?this.$message.error(this.$t("assetsManagement.请选择主体类型下面的字段")):this.active++):this.$message.error(this.$t("assetsManagement.请选择主体类型下面的字段"))}},previousStep:function(){this.active--},getAssetsProjectAttributesListByProjectId:function(e){var t=this;return Object(r["g"])(e).then((function(e){t.echoCheckedDataSubjectList=t.handleEchoData(e.data.data),t.fieldList=t.handleFieldList(t.echoCheckedDataSubjectList)}))},getCheckedDataSubject:function(e,t){this.checkedDataSubjectObjList=t},handleFieldList:function(e){return e.reduce((function(e,t,n,a){var i=Object.values(t.checkedFieldListAll).flat();return i.forEach((function(e,t){e.dataSubjectsVolume=e.dataSubjectsVolume||0,e.identification="".concat(e.mainBodyId,"+").concat(e.attributesId)})),e.concat(i)}),[])},handleEchoData:function(e){return e.forEach((function(e,t){e.checkedCategoryList=e.categoryList.map((function(e){return e.categoryId}))||[],e.checkedDataClass=e.typeList.map((function(e){return e.typeId}))||[],"checkedFieldList"in e||(e.checkedFieldList={}),"checkedFieldListAll"in e||(e.checkedFieldListAll={}),e.checkedCategoryList.forEach((function(t,n){e.checkedFieldListAll[t]=e.attributes.filter((function(e){return t===e.categoryId})),e.checkedFieldList[t]=e.checkedFieldListAll[t].map((function(e){return e.attributesId}))}))})),e},getList:function(e,t){var n=this;this.listLoading=!0,Object(r["h"])(Object.assign({current:e.currentPage,size:e.pageSize},t)).then((function(e){n.list=e.data.data.records,n.page.total=e.data.data.total,n.listLoading=!1}))},handleOpenBefore:function(e,t){this.getAllAssetsBusinessScene(),e()},getAllAssetsBusinessScene:function(){var e=this;Object(l["d"])().then((function(t){e.sceneOptions=t.data.data}))},cellClick:function(e,t){t.label===this.$t("assetsManagement.资产名称")&&(console.log(e,t,"row, column"),this.projectId=e.projectId,this.viewColumn=this.$refs.crud.columnOption,this.rowData=e,this.detailsDialog=!0,this.getAssetsProjectAttributesListByProjectId(e.projectId))},create:function(e,t,n){var a=this;(Array.isArray(this.form.organizationalSecurityMeasures)||"object"===Object(c["a"])(this.form.organizationalSecurityMeasures))&&(this.form.organizationalSecurityMeasures=this.form.organizationalSecurityMeasures.join());var i=this.form,o=(i.sceneNames,Object(s["a"])(i,v));Object(r["a"])(o).then((function(e){200==e.data.status?(a.getList(a.page),t(),a.$message.success(e.data.message)):n()})).catch((function(){n()}))},update:function(e,t,n,a){var i=this;(Array.isArray(this.form.organizationalSecurityMeasures)||"object"===Object(c["a"])(this.form.organizationalSecurityMeasures))&&(this.form.organizationalSecurityMeasures=this.form.organizationalSecurityMeasures.join()),Object(r["j"])(this.form).then((function(t){200==t.data.status?(i.getList(i.page),n(),i.reassess(e.projectId),i.$message.success(t.data.message)):a()})).catch((function(){a()}))},reassess:function(e){var t=this;this.$confirm(this.$t("assetsManagement.是否对本资产发起新的评估"),this.$t("crudCommon.提示"),{confirmButtonText:this.$t("crudCommon.确定"),cancelButtonText:this.$t("crudCommon.取消"),cancelButtonClass:"btn-custom-cancel",type:"warning"}).then((function(){t.assessmentDialog=!0,t.projectId=e}))},findAsset:function(){this.findDialog=!0},importAsset:function(){this.importDialog=!0},exportMode:function(){var e=this;this.fullscreenLoading=!0;var t={responseType:"blob"};this.axios.get("/assets/assetsProject/export",t).then((function(t){var n=decodeURIComponent(t.headers["content-disposition"]).split("=")[1],a=[];a.push(t.data);var i=URL.createObjectURL(new Blob(a,{type:t.headers["content-type"]}));e.download(i,n),e.fullscreenLoading=!1,e.$message.success(e.$t("crudCommon.导出成功"))}))},download:function(e,t){var n=document.createElement("a");n.style.display="none",n.download=t,n.href=e,n.click()},beforeUpload:function(e){var t=this;this.fullscreenLoading=!0;var n=new FormData;return n.append("file",e),this.axios.post("/assets/assetsProject/exportProject",n).then((function(e){t.$message.success(e.data.message),t.importDialog=!1,t.fullscreenLoading=!1,t.getList(t.page)})).catch((function(){t.importDialog=!1,t.fullscreenLoading=!1})),!1},handleRemove:function(){},beforeRemove:function(){},handleExceed:function(){},findFormSave:function(){this.fullscreenLoading=!0,this.$refs.findStart.findFormSave()},findAsssetSaveSuccess:function(){this.findDialog=!1,this.fullscreenLoading=!1,this.getList(this.page)},openAssessment:function(e){this.projectId=e.projectId,this.assessmentDialog=!0},assessmentFormSubmit:function(){this.fullscreenLoading=!1,this.$refs.releaseForm.releaseSave(),this.assessmentDialog=!1},closeAssessmentDialog:function(){this.fullscreenLoading=!1,this.assessmentDialog=!1},relationBtn:function(e){var t=this;this.fullscreenLoading=!0,this.active=0,this.projectId=e.projectId,this.relationTitle='<i class="'.concat(e.projectIcon,'"></i> <span style="font-weight: 700;">').concat(e.projectName,"</span> ").concat(this.$t("assetsManagement.关联字段")),this.relationDialog=!0,this.getAssetsProjectAttributesListByProjectId(this.projectId).then((function(){t.saveBtnText=t.echoCheckedDataSubjectList.length?t.$t("assetsManagement.修改"):t.$t("assetsManagement.保存"),t.$refs.dataSubject.echoChecked(),t.fullscreenLoading=!1}))},viewHistory:function(e){this.historyDialog=!0,this.projectId=e.projectId},selectionChange:function(e){this.ids=e.map((function(e){return e.projectId}))},relationFormSubmit:function(){this.fullscreenLoading=!0,this.$refs.fieldRelation.saveCurd()},FieldRelationSaveSuccess:function(e){this.reassess(this.projectId),this.relationDialog=!1,this.fullscreenLoading=!1,this.getList(this.page)},deleteBtn:function(e){var t=this,n=e?[e.projectId]:this.ids;n.length?this.$confirm(this.$t("crudCommon.是否删除本条数据"),this.$t("crudCommon.提示"),{confirmButtonText:this.$t("crudCommon.删除"),cancelButtonText:this.$t("crudCommon.不删除"),type:"warning"}).then((function(){Object(r["c"])(n).then((function(e){200===e.data.status?(t.$message.success(e.data.message),t.$refs.crud.toggleSelection(),t.handleRefreshChange()):t.$message.error(e.data.message)}))})):this.$message.error(this.$t("crudCommon.请选择要删除的数据"))},sizeChange:function(e){this.page.pageSize=e,this.getList(this.page,this.query)},currentChange:function(e){this.page.currentPage=e,this.getList(this.page,this.query)},handleFilter:function(e,t){"date"in e&&(e.startTime=e.date[0],e.endTime=e.date[1],e.date=void 0),this.query=e,this.page.currentPage=1,this.getList(this.page,this.query),t()},resetChange:function(){this.query={},this.getList(this.page,this.query)},handleRefreshChange:function(){this.getList(this.page)},handleUpdate:function(e,t){console.log(this.$refs,"2222222"),this.$refs.crud.rowEdit(e,t)}}},C=L,O=(n("1f17"),n("da4f"),n("2877")),k=Object(O["a"])(C,a,i,!1,null,"203f1dd5",null);t["default"]=k.exports},e008:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"selectDataSubject"},[e._v("\n        "+e._s(e.$t("assetbusin.数据主体"))),n("el-select",{attrs:{filterable:""},on:{change:e.handleChange},model:{value:e.dataSubject,callback:function(t){e.dataSubject=t},expression:"dataSubject"}},e._l(e.dataSubjectList,(function(e){return n("el-option",{key:e.mainBodyId,attrs:{label:e.mainBodyName,value:e.mainBodyId}})})),1)],1),n("div",{staticClass:"downContent"},[n("div",{staticClass:"leftType"},[e.typeList.includes("0")?n("div",{staticClass:"typeItem"},[e._v(e._s(e.$t("assetbusin.业务场景")))]):e._e(),e.typeList.includes("1")?n("div",{staticClass:"typeItem"},[e._v(e._s(e.$t("assetbusin.字段类别")))]):e._e(),e.typeList.includes("2")?n("div",{staticClass:"typeItem"},[e._v(e._s(e.$t("assetbusin.字段")))]):e._e(),e.typeList.includes("3")?n("div",{staticClass:"typeItem"},[e._v(e._s(e.$t("assetbusin.收集")))]):e._e(),e.typeList.includes("4")?n("div",{staticClass:"typeItem"},[e._v(e._s(e.$t("assetbusin.存储")))]):e._e(),e.typeList.includes("5")?n("div",{staticClass:"typeItem"},[e._v(e._s(e.$t("assetbusin.使用")))]):e._e(),e.typeList.includes("6")?n("div",{staticClass:"typeItem"},[e._v(e._s(e.$t("assetbusin.传输")))]):e._e(),e.typeList.includes("7")?n("div",{staticClass:"typeItem"},[e._v(e._s(e.$t("assetbusin.存档或删除")))]):e._e()]),n("div",{attrs:{id:"container"}})])])},i=[],s=(n("8e6e"),n("456d"),n("5df3"),n("4f7f"),n("2909")),c=n("ade3"),o=(n("2fdb"),n("6762"),n("ac6a"),n("6b54"),n("28a5"),n("7f7f"),n("14be")),r=n("3880"),l=n("313e"),d=n("2ef0"),u=n.n(d);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){Object(c["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h={name:"FreeEcharts",components:{},data:function(){return{dataSubjectList:[],data:[],dataSubject:"",typeList:[]}},computed:{},created:function(){this.getMainBodList()},mounted:function(){},methods:{handleChange:function(e){this.getMainBodySceneData(e)},initEcharts:function(e){var t,n=document.getElementById("container"),a=l["a"](n);t={title:{text:""},tooltip:{trigger:"item",triggerOn:"mousemove"},series:[{type:"sankey",top:"0%",left:"15%",right:"15%",bottom:"10%",height:500,nodeWidth:20,emphasis:{disabled:!0,focus:"adjacency"},data:e.myData,links:e.links,orient:"vertical",lineStyle:{color:"source"}}]};var i=!1,s="";a.on("mousemove",(function(e){"node"===e.dataType?(e.event.target.cursor="pointer",e.event.topTarget.cursor="pointer"):"edge"===e.dataType&&(e.event.target.cursor="move")})),a.on("click",(function(t){if(!t.data.source){var n=t.name,c=u.a.cloneDeep(e),o=c.links,r=c.myData,l=a.getOption();if(s!==n&&(i=!1),s=n,i)l.series[0].data=r,l.series[0].links=o,i=!1;else{var d=function e(t){var n=o.filter((function(e){return e.target===t})).map((function(e){return v.push(e.target),y.push(e.source),{name:e.source,depth:r.filter((function(t){return t.name===e.source}))[0].depth,itemStyle:{color:"#00aea8",opacity:1},label:{fontSize:13,overflow:"break",position:"bottom",verticalAlign:"top",formatter:function(e){return e.name.toString().split("").join("\n")}}}}));n.length&&n.forEach((function(t){e(t.name)})),p=p.concat(n)},m=function e(t){var n=o.filter((function(e){return e.source===t})).map((function(e){return _.push(e.source),y.push(e.target),{name:e.target,depth:r.filter((function(t){return t.name===e.target}))[0].depth,itemStyle:{color:"#00aea8",opacity:1},label:{fontSize:13,overflow:"break",position:"bottom",verticalAlign:"top",formatter:function(e){return e.name.toString().split("").join("\n")}}}}));n.length&&n.forEach((function(t){e(t.name)})),g=g.concat(n)},h=[],p=[],b=r,g=[],y=[],v=[n],_=[];d(n),m(n),h=o.map((function(e){return _.includes(e.source)||v.includes(e.target)?f(f({},e),{},{lineStyle:{color:"#00aea8",opacity:.8}}):f(f({},e),{},{lineStyle:{color:"transparent",opacity:.3}})})),b.forEach((function(e,t){y.includes(e.name)?(e.itemStyle={color:"#00aea8",opacity:1},e.label={fontSize:13,overflow:"break",position:"bottom",verticalAlign:"top",formatter:function(e){return e.name.toString().split("").join("\n")}}):e.name===n?(e.itemStyle={color:"#f36107",opacity:1},e.label={fontSize:13,overflow:"break",position:"bottom",verticalAlign:"top",formatter:function(e){return e.name.toString().split("").join("\n")}}):(e.itemStyle={color:e.itemStyle.color,opacity:.3},e.label={show:!1})})),l.series[0].data=b,l.series[0].links=h,i=!0}a.setOption(l)}})),t&&a.setOption(t)},getMainBodList:function(){var e=this;Object(r["c"])().then((function(t){e.dataSubjectList=t.data.data}))},getMainBodySceneData:function(e){var t=this;Object(o["d"])(e).then((function(e){t.data=e.data.data;var n=e.data.data.myData.map((function(e){return e.depth}));t.typeList=Object(s["a"])(new Set(n)),t.initEcharts(t.data)}))}}},p=h,b=(n("9163"),n("2877")),g=Object(b["a"])(p,a,i,!1,null,"0949a32d",null);t["default"]=g.exports},e171:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("avue-form",{ref:"releaseForm",attrs:{option:e.releaseFormOption},model:{value:e.releaseForm,callback:function(t){e.releaseForm=t},expression:"releaseForm"}},[n("template",{slot:"qnId"},[n("avue-select",{attrs:{placeholder:""+e.$t("crudCommon.请选择")+e.$t("evaluationRecord.问卷"),filterable:"",dic:e.queOptions,props:e.defaultQnIdProps},model:{value:e.releaseForm.qnId,callback:function(t){e.$set(e.releaseForm,"qnId",t)},expression:"releaseForm.qnId"}})],1),n("template",{slot:"evaluatorsHandle"},[n("el-select",{attrs:{multiple:"",filterable:"","allow-create":"","default-first-option":"","value-key":"userId",placeholder:""+e.$t("crudCommon.请选择")+e.$t("evaluationRecord.被评估人")},model:{value:e.releaseForm.evaluatorsHandle,callback:function(t){e.$set(e.releaseForm,"evaluatorsHandle",t)},expression:"releaseForm.evaluatorsHandle"}},e._l(e.evaluatorList,(function(t){return n("el-option",{key:t.userId,attrs:{label:t.nickName,value:t}},[n("span",{staticStyle:{float:"left"}},[e._v(e._s(t.nickName))]),n("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.mail||t.phone))])])})),1)],1)],2)],1)},i=[],s=(n("8e6e"),n("ac6a"),n("456d"),n("15fd")),c=n("ade3"),o=(n("c5f6"),n("3ab6")),r=n("c54a"),l=n("0e0b"),d=function(e){return{submitBtn:!1,emptyBtn:!1,labelWidth:90,column:[{label:e.$t("evaluationRecord.评估名称"),prop:"assessName",rules:[{required:!0,message:"".concat(e.$t("crudCommon.请输入")).concat(e.$t("evaluationRecord.评估名称")),trigger:"blur"}],span:24},{label:e.$t("evaluationRecord.问卷"),prop:"qnId",type:"select",formslot:!0,rules:[{required:!0,message:"".concat(e.$t("crudCommon.请选择")).concat(e.$t("evaluationRecord.问卷")),trigger:"change"}],span:24},{label:e.$t("evaluationRecord.被评估人"),prop:"evaluatorsHandle",formslot:!0,rules:[{required:!0,message:"".concat(e.$t("crudCommon.请选择")).concat(e.$t("evaluationRecord.被评估人")),trigger:"change"}],span:24},{label:e.$t("evaluationRecord.审核人"),prop:"auditors",type:"select",multiple:!0,dicUrl:"/admin/user/getList",props:{label:"nickName",value:"userId"},rules:[{required:!0,message:"".concat(e.$t("crudCommon.请选择")).concat(e.$t("evaluationRecord.审核人")),trigger:"change"}],span:24},{label:e.$t("evaluationRecord.有效时间"),prop:"endTime",type:"datetime",format:"yyyy-MM-dd HH:mm",valueFormat:"yyyy-MM-dd HH:mm:ss",rules:[{required:!0,message:"".concat(e.$t("crudCommon.请选择")).concat(e.$t("evaluationRecord.有效时间")),trigger:"change"}],span:24}]}},u=n("2f62"),m=["evaluatorsHandle"];function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){Object(c["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={name:"ReleaseForm",props:{typeIds:{type:Number,default:0},evaluationItem:{type:Object,default:function(){}}},data:function(){return{releaseForm:{},queOptions:[],evaluatorList:[],defaultQnIdProps:{label:"qnName",value:"id"}}},watch:{},computed:h(h({},Object(u["b"])(["userInfo"])),{},{releaseFormOption:function(){return d(this)}}),created:function(){this.initReleaseForm(),this.getQuestionnaireList(this.typeIds),this.getUserList()},methods:{initReleaseForm:function(){this.releaseForm={assessName:"",qnId:"",evaluators:[],evaluatorsHandle:[],endTime:""}},getUserList:function(){var e=this;Object(o["b"])().then((function(t){e.evaluatorList=t.data.data}))},getQuestionnaireList:function(e,t){var n=this;Object(o["a"])({typeIds:e,keyword:t}).then((function(e){n.queOptions=e.data.data.map((function(e){var t=e.id,n=e.qnName,a={id:t,qnName:n};return a}))}))},releaseSave:function(){var e=this;this.$refs.releaseForm.validate((function(t,n,a){if(!t)return!1;e.releaseForm.url="http://assess.idatatrust.com/#/submitQnAnswer?qnId=".concat(e.releaseForm.qnId),e.releaseForm=h(h({},e.evaluationItem),e.releaseForm);for(var i=e.releaseForm,c=i.evaluatorsHandle,o=Object(s["a"])(i,m),d=0;d<c.length;d++)if(Object(r["a"])(c[d]))e.releaseForm.evaluators[d]={mail:c[d]};else if(Object(r["b"])(c[d]))e.releaseForm.evaluators[d]={mobilePhone:c[d]};else{if("object"!==Object(l["g"])(c[d]))return e.$message.error("".concat(c[d]).concat(e.$t("findStart.既不是邮箱也不是手机号"))),void n();e.releaseForm.evaluators[d]={evaluatorId:c[d].userId}}e.releaseAssessQuestionnaire(o),n()}))},releaseAssessQuestionnaire:function(e){var t=this;Object(o["c"])(e).then((function(e){200==e.data.status?(t.initReleaseForm(),t.$message.success(e.data.message),t.$emit("closeAssessmentDialog")):t.$message.error(e.data.message)}))}}},b=p,g=n("2877"),y=Object(g["a"])(b,a,i,!1,null,null,null);t["default"]=y.exports},e728:function(e,t,n){"use strict";n("ca44")},ee82:function(e,t,n){},f4c8:function(e,t,n){},f4e7:function(e,t,n){},f6bc:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("div",{staticClass:"relation-container"},[n("avue-crud",{ref:"crud",attrs:{page:e.page,data:e.temporaryFieldList,option:e.option},on:{"update:page":function(t){e.page=t},"search-change":e.searchChange,"search-reset":e.searchReset,"size-change":e.sizeChange,"current-change":e.currentChange,"selection-change":e.selectionChange},scopedSlots:e._u([{key:"menuRight",fn:function(t){var a=t.size;return[n("el-button",{attrs:{icon:"el-icon-notebook-2",circle:"",size:a},on:{click:e.changeArray}})]}},{key:"menuLeft",fn:function(t){var a=t.row,i=t.index;return e.isView?void 0:[n("el-button",{attrs:{size:"small",icon:"el-icon-setting"},on:{click:function(t){return e.batchCheckSource(a,i)}}},[e._v(e._s(e.$t("assetsManagement.批量配置")))])]}},{key:"menu",fn:function(t){var a=t.row,i=t.index;return[n("el-button",{attrs:{type:"text",size:"small",icon:"el-icon-setting"},on:{click:function(t){return e.checkSource(a,i)}}},[e._v(e._s(e.$t("assetsManagement.配置")))])]}}],null,!0)})],1),e.sourceDialog?n("el-dialog",{attrs:{title:e.sourceTitle,visible:e.sourceDialog,"append-to-body":"","close-on-click-modal":!1,fullscreen:e.isFullscreen},on:{"update:visible":function(t){e.sourceDialog=t}}},[n("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[n("span",{staticClass:"dialog-header-title"},[e._v(e._s(e.sourceTitle))]),n("div",{staticClass:"dialog-header-screen",on:{click:function(){return e.isFullscreen=!e.isFullscreen}}},[n("i",{class:e.isFullscreen?"el-icon-news":"el-icon-full-screen"})])]),n("el-form",{ref:"sourceForm",staticStyle:{width:"50%"},attrs:{model:e.sourceForm,"label-width":"100px"}},[n("el-form-item",{attrs:{label:e.$t("assetsManagement.字段来源")}},[n("el-select",{attrs:{filterable:"",multiple:""},model:{value:e.sourceForm.parentProjectAttributesIds,callback:function(t){e.$set(e.sourceForm,"parentProjectAttributesIds",t)},expression:"sourceForm.parentProjectAttributesIds"}},e._l(e.sourceOptions,(function(e){return n("el-option",{key:e.parentId,attrs:{label:e.projectName,value:e.parentId}})})),1)],1),n("el-form-item",{attrs:{label:e.$t("assetsManagement.数据数量")}},[n("el-input-number",{attrs:{min:0},model:{value:e.sourceForm.dataSubjectsVolume,callback:function(t){e.$set(e.sourceForm,"dataSubjectsVolume",t)},expression:"sourceForm.dataSubjectsVolume"}})],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary",icon:e.saveBtnText===e.$t("assetsManagement.保存")?"el-icon-circle-plus-outline":"el-icon-circle-check"},on:{click:e.saveSource}},[e._v(e._s(e.saveBtnText))]),n("el-button",{attrs:{icon:"el-icon-circle-close"},on:{click:function(t){e.sourceDialog=!1}}},[e._v(e._s(e.$t("assetsManagement.取消")))])],1)],1):e._e()],1)},i=[],s=(n("8e6e"),n("456d"),n("ade3")),c=(n("6762"),n("2fdb"),n("ac6a"),n("c5f6"),n("d26a")),o=n("0e0b"),r=n("115c");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u={name:"FieldRelation",props:{fieldList:{type:Array,default:function(){return[]}},projectId:{type:Number,default:0},isView:{type:Boolean,default:!1},saveBtnText:{type:String,default:"保 存"}},data:function(){return{page:{pageSize:10,total:0,currentPage:1},pageList:[],temporaryFieldList:[],sourceDialog:!1,rowIndex:"",sourceForm:{},sourceOptions:[],identificationList:[],rowList:[],isBatch:!1,searchParam:[],sourceTitle:this.$t("assetsManagement.配置"),isFullscreen:!1,isOverHidden:!0}},watch:{fieldList:{handler:function(e,t){"{}"!==JSON.stringify(this.searchParam)?this.handleFilter(this.searchParam):(this.pageList=Object(o["a"])(this.fieldList),this.onLoad(this.page,this.fieldList))}}},computed:{option:function(){return Object(r["a"])(this,this.isView,this.isOverHidden)}},created:function(){},methods:{changeArray:function(){this.isOverHidden=!this.isOverHidden,Object(r["a"])(this,this.isView,this.isOverHidden)},onLoad:function(e,t){this.page.total=t.length,this.temporaryFieldList=Object(o["a"])(t).splice((this.page.currentPage-1)*e.pageSize,this.page.pageSize)},initSourceForm:function(){this.sourceForm={parentProjectAttributesIds:[],parentProjectAttributesNames:"",dataSubjectsVolume:0},this.sourceOptions=[]},searchChange:function(e,t){this.searchParam=e,this.handleFilter(e),t()},handleFilter:function(e){this.page.currentPage=1,this.pageList=Object(o["a"])(this.fieldList),"keyword"in e&&(this.pageList=this.pageList.filter((function(t){return-1!==t.mainBodyName.indexOf(e.keyword)||-1!==t.attributesName.indexOf(e.keyword)||t.parentProjectAttributesNames&&-1!==t.parentProjectAttributesNames.indexOf(e.keyword)}))),this.onLoad(this.page,this.pageList)},searchReset:function(){this.searchParam={},this.pageList=Object(o["a"])(this.fieldList),this.onLoad(this.page,this.fieldList)},selectionChange:function(e){this.identificationList=e.map((function(e){return e.identification})),this.rowList=e},batchCheckSource:function(){var e=this;if(console.log(this.rowList,"rowListrowList"),0===this.identificationList.length)return this.$message.error(this.$t("assetsManagement.请至少选择一个字段"));var t=this.rowList.map((function(t){return{attributesId:t.attributesId,projectId:e.projectId,mainBodyId:t.mainBodyId}}));this.getAssetsProjectAttributes(t),this.isBatch=!0,this.sourceTitle=this.$t("assetsManagement.批量配置"),this.initSourceForm(),this.sourceDialog=!0},saveCurd:function(){var e=this;this.fieldList.forEach((function(t,n){e.fieldList[n].projectId=e.projectId})),this.fieldList[0]?Object(c["b"])(this.fieldList).then((function(t){200===t.data.status&&(e.$emit("saveSuccess",t.data.data),e.$message.success(t.data.message))})):this.$message.error(this.$t("assetsManagement.请选择需要关联的字段"))},checkSource:function(e,t){var n,a;console.log(e,"rowwwww"),this.isBatch=!1,this.initSourceForm(),this.sourceTitle=this.$t("assetsManagement.配置"),this.rowIndex=e.identification,this.sourceForm.parentProjectAttributesNames=e.parentProjectAttributesNames,0!==(null===(n=e.parentProjectAttributesIds)||void 0===n?void 0:n.length)&&null!==(a=e.parentProjectAttributesIds)&&void 0!==a&&a.includes(this.projectId)?this.sourceForm.parentProjectAttributesIds=[]:this.sourceForm.parentProjectAttributesIds=e.parentProjectAttributesIds,this.sourceForm.dataSubjectsVolume=e.dataSubjectsVolume,this.sourceDialog=!0,this.getAssetsProjectAttributesByAttributeId(e.attributesId,e.mainBodyId,this.projectId)},getAssetsProjectAttributesByAttributeId:function(e,t,n){var a=this;Object(c["f"])(e,t,n).then((function(e){a.sourceOptions=e.data.data}))},getAssetsProjectAttributes:function(e){var t=this;Object(c["e"])(e).then((function(e){t.sourceOptions=e.data.data}))},saveSource:function(){var e=this,t=[];this.sourceOptions.forEach((function(n){e.sourceForm.parentProjectAttributesIds.includes(n.parentId)&&t.push(n.projectName)})),console.log(t,"parentProjectAttributesNames"),this.sourceForm.parentProjectAttributesNames=0!==t.length?t.toString():this.sourceForm.parentProjectAttributesNames,this.isBatch?this.fieldList.forEach((function(t,n){e.identificationList.includes(t.identification)&&e.$set(e.fieldList,n,d(d({},t),e.sourceForm))})):this.fieldList.forEach((function(t,n){t.identification===e.rowIndex&&e.$set(e.fieldList,n,d(d({},t),e.sourceForm))})),this.sourceDialog=!1,this.$message.success(this.$t("assetsManagement.保存成功"))},sizeChange:function(e){this.page.pageSize=e,this.onLoad(this.page,this.pageList)},currentChange:function(e){this.page.currentPage=e,this.onLoad(this.page,this.pageList)}}},m=u,f=(n("2a23"),n("2877")),h=Object(f["a"])(m,a,i,!1,null,"3eebd4ca",null);t["default"]=h.exports},f6c5:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-tabs",{attrs:{type:"border-card"},model:{value:e.findAssetTab,callback:function(t){e.findAssetTab=t},expression:"findAssetTab"}},[n("el-tab-pane",{attrs:{name:"findForm",label:e.$t("findStart.发起任务")}},[n("avue-form",{ref:"findForm",attrs:{option:e.findStartOption},model:{value:e.findForm,callback:function(t){e.findForm=t},expression:"findForm"}},[n("template",{slot:"evaluatorsHandle"},[n("el-select",{attrs:{multiple:"",filterable:"","allow-create":"","default-first-option":"","value-key":"userId"},model:{value:e.findForm.evaluatorsHandle,callback:function(t){e.$set(e.findForm,"evaluatorsHandle",t)},expression:"findForm.evaluatorsHandle"}},e._l(e.evaluatorList,(function(t){return n("el-option",{key:t.userId,attrs:{label:t.nickName,value:t}},[n("span",{staticStyle:{float:"left"}},[e._v(e._s(t.nickName))]),n("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.mail||t.phone))])])})),1)],1)],2)],1),n("el-tab-pane",{attrs:{name:"findList",label:e.$t("findStart.查看已发起的记录")}},[n("FindList",{ref:"findList",attrs:{findType:e.findType}})],1)],1)],1)},i=[],s=n("15fd"),c=(n("c5f6"),n("17db")),o=n("3ab6"),r=n("08e0"),l=n("c54a"),d=n("0e0b"),u=function(e){return{submitBtn:!1,emptyBtn:!1,labelWidth:120,column:[{label:e.$t("findList.任务名称"),prop:"jobName",rules:[{required:!0,message:"".concat(e.$t("crudCommon.请输入")).concat(e.$t("findList.任务名称")),trigger:"blur"}],span:24},{label:e.$t("findStart.受访人"),prop:"evaluatorsHandle",type:"select",formslot:!0,rules:[{required:!0,message:"".concat(e.$t("crudCommon.请选择")).concat(e.$t("findStart.受访人")),trigger:"change"}],span:24},{label:e.$t("findStart.任务有效期"),prop:"endTime",type:"datetime",format:"yyyy-MM-dd HH:mm",valueFormat:"yyyy-MM-dd HH:mm:ss",rules:[{required:!0,message:"".concat(e.$t("crudCommon.请选择")).concat(e.$t("findStart.任务有效期")),trigger:"change"}],span:24}]}},m=["evaluatorsHandle"],f={name:"FindStart",components:{FindList:r["default"]},props:{findType:{type:Number,default:0}},data:function(){return{findAssetTab:"findForm",evaluatorList:[],findForm:{}}},computed:{findStartOption:function(){return u(this)}},created:function(){this.initReleaseForm(),this.getUserList()},methods:{initReleaseForm:function(){this.findForm={jobName:"",evaluators:[],evaluatorsHandle:[],endTime:""}},findFormSave:function(){var e=this;"findForm"===this.findAssetTab?this.$refs.findForm.validate((function(t,n,a){if(!t)return!1;e.findForm.jobUrl="http://assets.idatatrust.com/#/findAssets",e.findForm.findType=e.findType;for(var i=e.findForm,c=i.evaluatorsHandle,o=Object(s["a"])(i,m),r=0;r<c.length;r++)if(Object(l["a"])(c[r]))e.findForm.evaluators[r]={mail:c[r]};else if(Object(l["b"])(c[r]))e.findForm.evaluators[r]={mobilePhone:c[r]};else{if("object"!==Object(d["g"])(c[r]))return void e.$message.error("".concat(c[r]).concat(e.$t("findStart.既不是邮箱也不是手机号")));e.findForm.evaluators[r]={evaluatorId:c[r].userId}}e.startFindJob(o),n()})):this.$emit("saveSuccess")},startFindJob:function(e){var t=this;Object(c["d"])(e).then((function(e){200==e.data.status?(t.initReleaseForm(),t.$message.success(e.data.message)):t.$message.error(e.data.message),t.$emit("saveSuccess")}))},getUserList:function(){var e=this;Object(o["b"])().then((function(t){e.evaluatorList=t.data.data}))}}},h=f,p=n("2877"),b=Object(p["a"])(h,a,i,!1,null,"085e453a",null);t["default"]=b.exports},fa64:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("el-tabs",{attrs:{type:"border-card"}},[n("el-tab-pane",{attrs:{label:e.$t("assetsManagement.资产详情")}},[n("el-descriptions",{attrs:{title:"",column:2,size:"mini",border:""}},[e._l(e.viewColumn,(function(t,a){return[t.noView?e._e():n("el-descriptions-item",{key:a,attrs:{label:t.label}},[e._v("\n                        "+e._s(e.handelData(e.rowData,t.prop))+"\n                    ")])]}))],2)],1),n("el-tab-pane",{attrs:{label:e.$t("assetsManagement.关联字段")}},[n("FieldRelation",{ref:"fieldRelation",attrs:{projectId:e.projectId,isView:!0,fieldList:e.fieldList}})],1),n("el-tab-pane",{attrs:{label:e.$t("assetsManagement.资产评估记录")}},[n("EvaluationRecord",{ref:"evaluationRecord",attrs:{queryId:{assetsId:e.projectId}}})],1)],1)],1)},i=[],s=(n("6762"),n("2fdb"),n("c5f6"),n("f6bc")),c=n("0e82"),o=n("84df"),r={name:"Details",components:{FieldRelation:s["default"],EvaluationRecord:c["default"]},props:{fieldList:{type:Array,default:function(){return[]}},projectId:{type:Number,default:0},viewColumn:{type:Array,default:function(){return[]}},rowData:{type:Object,default:function(){}}},data:function(){return{}},methods:{handelData:function(e,t){return"managingOrganization"===t?e.$managingOrganization:["updateTime","createTime"].includes(t)?Object(o["a"])(e[t]):e[t]}}},l=r,d=n("2877"),u=Object(d["a"])(l,a,i,!1,null,"42822306",null);t["default"]=u.exports}}]);